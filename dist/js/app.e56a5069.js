(function(t){function o(o){for(var n,r,c=o[0],s=o[1],l=o[2],u=0,p=[];u<c.length;u++)r=c[u],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&p.push(a[r][0]),a[r]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n]);d&&d(o);while(p.length)p.shift()();return i.push.apply(i,l||[]),e()}function e(){for(var t,o=0;o<i.length;o++){for(var e=i[o],n=!0,r=1;r<e.length;r++){var s=e[r];0!==a[s]&&(n=!1)}n&&(i.splice(o--,1),t=c(c.s=e[0]))}return t}var n={},a={app:0},i=[];function r(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-11761ac6":"c2bb3431","chunk-2d216214":"a631c492"}[t]+".js"}function c(o){if(n[o])return n[o].exports;var e=n[o]={i:o,l:!1,exports:{}};return t[o].call(e.exports,e,e.exports,c),e.l=!0,e.exports}c.e=function(t){var o=[],e=a[t];if(0!==e)if(e)o.push(e[2]);else{var n=new Promise((function(o,n){e=a[t]=[o,n]}));o.push(e[2]=n);var i,s=document.createElement("script");s.charset="utf-8",s.timeout=120,c.nc&&s.setAttribute("nonce",c.nc),s.src=r(t);var l=new Error;i=function(o){s.onerror=s.onload=null,clearTimeout(u);var e=a[t];if(0!==e){if(e){var n=o&&("load"===o.type?"missing":o.type),i=o&&o.target&&o.target.src;l.message="Loading chunk "+t+" failed.\n("+n+": "+i+")",l.name="ChunkLoadError",l.type=n,l.request=i,e[1](l)}a[t]=void 0}};var u=setTimeout((function(){i({type:"timeout",target:s})}),12e4);s.onerror=s.onload=i,document.head.appendChild(s)}return Promise.all(o)},c.m=t,c.c=n,c.d=function(t,o,e){c.o(t,o)||Object.defineProperty(t,o,{enumerable:!0,get:e})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,o){if(1&o&&(t=c(t)),8&o)return t;if(4&o&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(c.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&o&&"string"!=typeof t)for(var n in t)c.d(e,n,function(o){return t[o]}.bind(null,n));return e},c.n=function(t){var o=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(o,"a",o),o},c.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},c.p="/",c.oe=function(t){throw console.error(t),t};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=o,s=s.slice();for(var u=0;u<s.length;u++)o(s[u]);var d=l;i.push([0,"chunk-vendors"]),e()})({0:function(t,o,e){t.exports=e("56d7")},"034b":function(t,o,e){"use strict";e("cae5")},"034f":function(t,o,e){"use strict";e("9f4d")},"04b9":function(t,o,e){"use strict";e("2348")},"04d7":function(t,o,e){"use strict";e("af7b")},"0551":function(t,o,e){},"05af":function(t,o,e){"use strict";e("5176")},"0775":function(t,o,e){},"07aa":function(t,o,e){},"0e08":function(t,o,e){"use strict";e("dcc1")},"0fe5":function(t,o,e){"use strict";e("9c38")},1053:function(t,o,e){"use strict";e("6b59")},"10a8":function(t,o,e){"use strict";e("d00d")},"12d6":function(t,o,e){"use strict";e("737c")},1460:function(t,o,e){"use strict";e("2ddc")},1741:function(t,o,e){"use strict";e("5784")},2348:function(t,o,e){},"244b":function(t,o,e){},"2c60":function(t,o,e){},"2ddc":function(t,o,e){},"2fa9":function(t,o,e){"use strict";e("b653")},"35b9":function(t,o,e){},"37e4":function(t,o,e){},"39cf":function(t,o,e){"use strict";e("3d4d")},"3a10":function(t,o,e){"use strict";e("df9f")},"3d4d":function(t,o,e){},4040:function(t,o,e){},"46ef":function(t,o,e){},4714:function(t,o,e){},"4dc4":function(t,o,e){},"4df9":function(t,o,e){"use strict";e("0551")},"4f8c":function(t,o,e){},"503b":function(t,o,e){"use strict";e("7de3")},5138:function(t,o,e){},"514e":function(t,o,e){"use strict";e("94c6")},5176:function(t,o,e){},5182:function(t,o,e){"use strict";e("8b36")},"52bc":function(t,o,e){},"542a":function(t,o,e){},5592:function(t,o,e){"use strict";e("9b9c")},"56d7":function(t,o,e){"use strict";e.r(o),e.d(o,"auth",(function(){return Om})),e.d(o,"db",(function(){return _m})),e.d(o,"storage",(function(){return jm}));e("e260"),e("e6cf"),e("cca6"),e("a79d");var n,a,i,r,c=e("2b0e"),s=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},l=[],u={name:"App"},d=u,p=(e("034f"),e("2877")),m=Object(p["a"])(d,s,l,!1,null,null,null),g=m.exports,h=e("8c4f"),f=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"contenedor"},[t._m(0),e("div",{staticClass:"user-title-letter"},[t._v("\n        Ingrese Usuario y Contraseña\n    ")]),e("div",{attrs:{id:"inputs"}},[e("div",{staticClass:"row"},[e("form",{on:{submit:function(o){return o.preventDefault(),t.Login.apply(null,arguments)}}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"fadeIn second",attrs:{type:"text",id:"username",name:"login",placeholder:"Usuario"},domProps:{value:t.username},on:{input:function(o){o.target.composing||(t.username=o.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"fadeIn third",attrs:{type:"password",id:"password",name:"login",placeholder:"Contraseña"},domProps:{value:t.password},on:{input:function(o){o.target.composing||(t.password=o.target.value)}}}),e("input",{staticClass:"fadeIn fourth",attrs:{type:"submit",value:"Entrar"},on:{click:function(o){t.getNotarias(),t.getRegiones(),t.getComunas(),t.getOficinas()}}})]),e("p",{attrs:{type:"button"},on:{click:function(o){return t.RecuperarPass()}}},[t._v("Olvidaste tu Contraseña?")]),e("p",[t._v("Para ayuda, favor contáctese con nuestro")]),e("p",[t._v("Call Center ")]),t.error?e("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v("\n        "+t._s(t.error_msg)+"\n        ")]):t._e()])])])},v=[function(){var t=this,o=t.$createElement,n=t._self._c||o;return n("div",{staticClass:"row navbar"},[n("div",{staticClass:"col-3"},[n("img",{attrs:{src:e("8281"),alt:"dog",width:"100px",height:"100px"}})]),n("div",{staticClass:"col row navbar-letter"},[n("div",{staticClass:"bienvenida-navbar"},[t._v("\n                Bienvenido (a)\n            ")]),n("div",{staticClass:"title-navbar"},[t._v("\n                REGISTRO DE PRENDAS\n            ")]),n("div",{staticClass:"title-navbar"},[t._v("\n                SIN DESPLAZAMIENTO\n            ")])])])}],b=(e("159b"),e("99af"),e("ea7b")),O=e("e71f"),_=e("8baf"),j=e("c0e9"),S=e.n(j),A=[],E=[],C=[],R=[],I={name:"App",components:{},props:{msg:String},data:function(){return{username:"",password:"",error:!1,error_msg:""}},methods:{Login:function(){var t=this,o=this.username,e=this.password;""==this.username||""==this.password?(this.error=!0,this.error_msg="Debe llenar todos los campos"):Object(b["d"])(Om,o,e).then((function(){Object(O["e"])(Object(O["a"])(_m,"Usuario")).then((function(e){return e.forEach((function(e){var c=e.data();if(c.mail==o&&c.abogado_activo){switch(t.username=c.username,t.rol=c.rol,a=c.mail,n=c.nombre,i=c.rol,r=c.NotariaID,i){case"FUNCIONARIONOTARIA":localStorage.esoficina=0;break;case"NOTARIO":localStorage.esoficina=0;break;case"PAGADOR":localStorage.esoficina=0;break;case"FUNCIONARIOOFICINA":localStorage.esoficina=1;break;default:localStorage.esoficina=0;break}localStorage.mail=a,localStorage.user=n,localStorage.rol=i,console.log("|"+localStorage.rol+"|"),localStorage.rutLog=c.rut,localStorage.notaria=r,localStorage.mis_regiones=JSON.stringify(E),localStorage.mis_comunas=JSON.stringify(C),localStorage.mis_notarias=JSON.stringify(A),localStorage.mis_oficinas=JSON.stringify(R),console.log("MIS OFICINAS"),console.log(R),t.username=c.nombre,t.$router.push({path:"/Dashboard/".concat(i,"/").concat(n),params:{username:n,rol:i}})}}))}))})).catch((function(o){var e;switch(t.error=!0,o.message){case"Firebase: Error (auth/invalid-email).":e="Email Invalido";break;case"Firebase: Error (auth/user-not-found).":e="Email Invalido";break;case"Firebase: Error (auth/wrong-password).":e="Contraseña Invalida";break;case"Firebase: Access to this account has been temporarily disabled due to many failed login attempts. You can immediately restore it by resetting your password or you can try again later. (auth/too-many-requests).":e="Tu cuenta ha sido bloqueada temporalmente por muchos intentos de ingreso fallidos.";break}t.error_msg=e}))},RecuperarPass:function(){Object(b["c"])(Om,this.username).then((function(){alert("Se ha enviado un correo con el link para que recupere su Contraseña ")})).catch((function(t){var o=t.code,e=t.message;alert(o+" "+e)}))},getNotarias:function(){Object(O["e"])(Object(O["a"])(_m,"Notarias")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data(),e={direccion:o["direccion"],id_comuna:o["id_comuna"],notario:o["nombre_notario"],rut:o["rut_notario"],organizacion:o["nombre_organizacion"]};A.push(e)}))}))},getOficinas:function(){Object(O["e"])(Object(O["a"])(_m,"Oficina")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data(),e={direccion:o["direccion"],id_comuna:o["id_comuna"],encargado:o["nombre_encargado"],rut:o["rut_encargado"],organizacion:o["nombre_organizacion"]};R.push(e)}))}))},getRegiones:function(){Object(O["e"])(Object(O["a"])(_m,"Regiones")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();console.log("REGIONXD");var e={nombre:o["nombre"]};E.push(e)})),console.log("MIS REGIONES"),console.log(E)}))},getComunas:function(){Object(O["e"])(Object(O["a"])(_m,"Comunas")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data(),e={nombre:o["nombre"]};C.push(e)}))}))},download:function(){console.log("aquiiijhajsjdhjas");var t=new _["a"],o=this.$refs.content.innerHTML;t.html(o,{callback:function(t){t.save("sample.pdf")}}),console.log("aquiii")},downloadWithCSS:function(){var t=new _["a"],o=document.createElement("canvas");S()(this.$refs.content,{scale:1},{canvas:o}).then((function(o){var e=o.toDataURL("image/jpeg",.8);t.addImage(e,"JPEG",20,20,120,120),t.save("sample.pdf")}))}}},P=I,N=(e("b27b"),Object(p["a"])(P,f,v,!1,null,"5ad7167a",null)),D=N.exports,y=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"dashboard"}},[e("Menu",{attrs:{opciones:t.opcion}}),e("Navbar",{attrs:{username:t.username}}),e("div",{staticClass:"right"},["REVISOR"==t.rol?e("TablaRevisor"):t._e(),"REVISOR"==t.rol?e("TablaRevisor2"):t._e(),"JEFEDESERVICIO"==t.rol?e("TablaJefeServicioRechazadas"):t._e(),"JEFEDESERVICIO"==t.rol?e("TablaJefeServicio2"):t._e(),"RECEPTOR"==t.rol?e("TablaRecepcionDocumento"):t._e(),"NOTARIO"==t.rol?e("MisSolicitudesNotario"):t._e(),"PAGADOR"==t.rol?e("PagosPendientes"):t._e(),"FUNCIONARIONOTARIA"==t.rol?e("MisSolicitudesFuncionarioNotaria"):t._e(),"FUNCIONARIOOFICINA"==t.rol?e("MisSolicitudesFuncionarioNotaria"):t._e(),"ADMIN"==t.rol?e("div",{attrs:{id:"textoadmin"}},[t._m(0)]):t._e()],1)],1)},T=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("p",[e("b",[t._v("Bienvenido Administrador, aqui podra editar, agregar o desabilitar USUARIOS, NOTARIAS Y OFICINAS.\n        Tambien podra editar algunos parametros Basicos del funcionamiento del sistema.")])])}],F=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"menu"}},[e("div",{staticClass:"border"},[e("div",{staticClass:"otro"},t._l(t.opciones,(function(o,n){return e("div",{key:n,class:[t.opcionesClass(n),"style-opciones"]},[e("span",{staticClass:"opciones",on:{click:function(o){return t.selectAnswer(n)}}},[t._v(t._s(o)+" ")])])})),0)])])},x=[],z=(e("5b81"),{name:"Menu",data:function(){return{selectedIndex:null,answered:!1}},props:{opciones:Array,username:{type:String,default:localStorage.user},rol:{type:String,default:localStorage.rol}},methods:{selectAnswer:function(t){this.selectedIndex=t},opcionesClass:function(t){var o="",e=this.opciones[t].replaceAll(" ","");return this.answered||this.selectedIndex!==t?this.answered&&this.correctIndex===t&&(o="correct"):(o="selected",this.$router.push({path:"/Dashboard/".concat(localStorage.rol,"/").concat(localStorage.user,"/").concat(e),params:{username:localStorage.user,rol:localStorage.rol,opciones:e}})),o}}}),M=z,w=(e("f66e"),Object(p["a"])(M,F,x,!1,null,"092fba86",null)),B=w.exports,k=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"row",attrs:{id:"contenedor"},on:{"":function(t){}}},[e("table",{staticClass:"table"},[e("thead",{staticClass:"encabezadoTabla"},[e("tr",[t._l(t.thread,(function(o,n){return e("th",{key:n,attrs:{scope:"col"}},[t._v(t._s(o))])})),e("th",{attrs:{scope:"col"}})],2)]),t._l(t.items,(function(o,n){return e("tbody",{key:n,staticClass:"bodyTabla"},[e("td",[t._v(t._s(o.Rep))]),e("td",[t._v(t._s(o.Fecha))]),e("td",[e("p",{staticClass:"titleFormulario"},[t._v(t._s(o.Estado)+" ")])]),e("td",[e("a",{staticClass:"logout",on:{click:function(e){return t.obtain_id_go(o.ID,o.Tipo,o.Mod)}}},[e("font-awesome-icon",{staticStyle:{"margin-right":"5px"},attrs:{icon:"file-download"}})],1)])])}))],2)])},q=[],U=e("1da1"),L=(e("96cf"),[]),G=[],V=[],$=localStorage.user,H="/Dashboard/"+localStorage.rol+"/"+$+"/InscripciondecontratodeprendasEdit",Y="/Dashboard/"+localStorage.rol+"/"+$+"/solicitudAlzamientoEdit",Z="/Dashboard/"+localStorage.rol+"/"+$+"/solicitudModificacion1Edit",J="/Dashboard/"+localStorage.rol+"/"+$+"/solicitudModificacion2Edit",X="/Dashboard/"+localStorage.rol+"/"+$+"/solicitudModificacion3Edit",K="/Dashboard/"+localStorage.rol+"/"+$+"/solicitudModificacion4Edit";function Q(t,o){"I"==t?Object(O["i"])(Object(O["d"])(Object(O["a"])(_m,"Solicitud_Inscripcion_Prenda",o)),{firma:!0}).then((function(){console.log("FIRMADO")})):"M"==t?Object(O["i"])(Object(O["d"])(Object(O["a"])(_m,"Solicitud_Modificacion_Prenda",o)),{firma:!0}):"A"==t&&Object(O["i"])(Object(O["d"])(Object(O["a"])(_m,"Solicitud_Alzamiento_Prenda",o)),{firma:!0})}function W(t,o){return tt.apply(this,arguments)}function tt(){return tt=Object(U["a"])(regeneratorRuntime.mark((function t(o,e){var n,a,i,r,c=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=c.length>2&&void 0!==c[2]?c[2]:"T",a=c.length>3&&void 0!==c[3]?c[3]:-1,i=c.length>4&&void 0!==c[4]?c[4]:"",r=c.length>5&&void 0!==c[5]?c[5]:"","T"!=n&&"I"!=n||Object(O["e"])(Object(O["a"])(_m,"Solicitud_Inscripcion_Prenda")).then((function(t){var n=t.docs;n.forEach((function(t){var n=t.data();n.estadoPrimario!=o||n.estadoSecundario!=e||""!=r&&n.notaria!=r||""!=i&&n.oficina!=i||n.usuarioCreador!=a&&-1!=a||L.push([t.id,n])}))})).then((function(){console.log("INSCRIPCIONES ENCONTRADAS"),console.log(L)})),"T"!=n&&"M"!=n||Object(O["e"])(Object(O["a"])(_m,"Solicitud_Modificacion_Prenda")).then((function(t){var n=t.docs;n.forEach((function(t){var n=t.data();n.estadoPrimario!=o||n.estadoSecundario!=e||""!=r&&n.notaria!=r||""!=i&&n.oficina!=i||n.usuarioCreador!=a&&-1!=a||G.push([t.id,n])}))})).then((function(){console.log("MODIFICACIONES ENCONTRADAS"),console.log(G)})),"T"!=n&&"A"!=n||Object(O["e"])(Object(O["a"])(_m,"Solicitud_Alzamiento_Prenda")).then((function(t){var n=t.docs;n.forEach((function(t){var n=t.data();n.estadoPrimario!=o||n.estadoSecundario!=e||""!=r&&n.notaria!=r||""!=i&&n.oficina!=i||n.usuarioCreador!=a&&-1!=a||V.push([t.id,n])}))})).then((function(){console.log("ALZAMIENTOS ENCONTRADOS"),console.log(V)}));case 7:case"end":return t.stop()}}),t)}))),tt.apply(this,arguments)}var ot={mounted:function(){this.clean(),this.rellenarTabla()},name:"MisSolicitudesNotario",data:function(){return{items:[],thread:["N° Rep. Notaria","Fecha","Estado"],username:localStorage.mail,inscripciones_encontradas:L,modificaciones_encontradas:G,alzamientos_encontrados:V}},methods:{obtain_id_go:function(t,o,e){var n=this;setTimeout((function(){switch(console.log("NOIZ ID"),console.log(t),localStorage.id_revisar=t,console.log("TIPO"),console.log(o),localStorage.tipo_revisar=o,console.log("TIPO"),console.log(o),e){case 1:n.$router.push({path:H});break;case 2:n.$router.push({path:Y});break;case 3:n.$router.push({path:Z});break;case 4:n.$router.push({path:J});break;case 5:n.$router.push({path:X});break;case 6:n.$router.push({path:K});break}}),2e3)},clean:function(){this.items.length=0,this.inscripciones_encontradas.length=0,this.modificaciones_encontradas.length=0,this.alzamientos_encontrados.length=0},rellenarTabla:function(){var t=this;console.log("DATADTA"),console.log(localStorage.mail),W(0,0,"T",localStorage.mail),W(2,0,"T",localStorage.mail),console.log(this.items),console.log("DATADTA"),console.log("-----------------------------------"),console.log(this.items),console.log(this.inscripciones_encontradas),console.log(this.modificaciones_encontradas),console.log(this.alzamientos_encontrados),console.log("-----------------------------------"),setTimeout((function(){var o;(console.log("relleno tabla"),t.inscripciones_encontradas.length>0)&&(console.log(t.inscripciones_encontradas),t.inscripciones_encontradas.forEach((function(e){console.log("ESTADO SOLICIUTD: "+e[1]["estadoPrimario"]),o=0==e[1]["estadoPrimario"]?"Edicion":"Rechazo Notaria";var n={Rep:e[1]["numeroRepertorioNotario"],Funcionario:e[1]["usuarioCreador"],Fecha:e[1]["fechaRequirente"],Estado:o,ID:e[0],Tipo:"I",Mod:1};console.log(n),console.log(t.items),t.items.push(n)})));t.modificaciones_encontradas.length>0&&t.modificaciones_encontradas.forEach((function(e){o=0==e[1]["estadoPrimario"]?"Edicion":"Rechazo Notaria";var n={Rep:e[1]["numeroRepertorioNotario"],Funcionario:e[1]["usuarioCreador"],Fecha:e[1]["fechaRequirente"],Estado:o,ID:e[0],Tipo:"M",Mod:2+e[1]["tipoModificacion"]};t.items.push(n)})),t.alzamientos_encontrados.length>0&&t.alzamientos_encontrados.forEach((function(e){o=0==e[1]["estadoPrimario"]?"Edicion":"Rechazo Notaria";var n={Rep:e[1]["numeroRepertorioNotario"],Funcionario:e[1]["usuarioCreador"],Fecha:e[1]["fechaRequirente"],Estado:o,ID:e[0],Tipo:"A",Mod:2};t.items.push(n)})),console.log("MY ITEMS"),console.log(t.items)}),1e3)},firmardoc:function(){Q()}}},et=ot,nt=(e("8943"),Object(p["a"])(et,k,q,!1,null,"b2832f24",null)),at=nt.exports,it=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"navbar"}},[t._m(0),e("div",{staticClass:"col-5"},[e("span",{staticClass:"username username-background"},[t._v(t._s(t.username)+" "),e("router-link",{staticClass:"logout",attrs:{to:"/"}},[e("font-awesome-icon",{staticStyle:{"margin-right":"5px"},attrs:{icon:"door-open"}})],1)],1)]),e("div",{staticClass:"col"})])},rt=[function(){var t=this,o=t.$createElement,n=t._self._c||o;return n("div",{staticClass:"col-3 logo"},[n("img",{staticClass:"logo",attrs:{src:e("8281"),alt:"dog",width:"100px",height:"100px"}})])}],ct={name:"Navbar",props:{username:String}},st=ct,lt=(e("04b9"),Object(p["a"])(st,it,rt,!1,null,"0e0f8d76",null)),ut=lt.exports,dt=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"TablaRevisor"}},[e("h1",{staticClass:"title",staticStyle:{color:"#514BD5"}},[t._v("Solicitudes No Asignadas")]),e("div",{staticStyle:{padding:"50px","margin-left":"300px"}},[e("table",{staticClass:"table table-sm table-hover zui-table-rounded"},[t._m(0),t._l(t.items,(function(o,n){return e("tbody",{key:n,staticClass:"bodyTabla"},[e("tr",[e("th",[t._v(t._s(o.Rep))]),e("th",[t._v(t._s(o.nombre_oficina))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.Fecha))]),e("td",[e("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"Basic example"}},["Pagado"==o.Estado?e("th",{staticClass:"rounded-pill",staticStyle:{"padding-left":"5px","padding-right":"5px","background-color":"grey"}},[t._v(t._s(o.Estado))]):t._e(),"Por pagar"==o.Estado?e("th",{staticClass:"rounded-pill",staticStyle:{"padding-left":"5px","padding-right":"5px","background-color":"red"}},[t._v(t._s(o.Estado))]):t._e()])]),e("td",[e("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"Basic example"}},[e("th",{staticClass:"rounded-pill",staticStyle:{"padding-left":"5px","padding-right":"5px","background-color":"grey"},attrs:{type:"button"}},[t._v("Sin Asignar")]),e("th"),e("th"),e("th",{staticClass:"rounded-circle",staticStyle:{"padding-left":"10px","padding-right":"10px","background-color":"yellow"},attrs:{type:"button"},on:{click:function(o){return t.AsignarSolicitud(n)}}},[t._v("+")])])])])])}))],2)])])},pt=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("thead",{staticStyle:{color:"white","background-color":"#514BD5"}},[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("N° Contrato Prenda")]),e("th",{attrs:{scope:"col"}},[t._v("Oficina/Notaria")]),e("th",{attrs:{scope:"col"}},[t._v("Fecha")]),e("th",{attrs:{scope:"col"}},[t._v("Estado")]),e("th",{attrs:{scope:"col"}},[t._v("Asignada")])])])}],mt=(e("d3b7"),e("25f0"),e("a434"),[]),gt=[],ht=[],ft=[],vt=[],bt=[];function Ot(t){return _t.apply(this,arguments)}function _t(){return _t=Object(U["a"])(regeneratorRuntime.mark((function t(o){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:"T"!=o&&"I"!=o||Object(O["e"])(Object(O["a"])(_m,"Solicitud_Inscripcion_Prenda")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();4==o.estadoPrimario&&o.estadoSecundario>=1&&mt.push([t.id,o])}))})).then((function(){mt.forEach((function(t){Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Inspeccion_inscripcion"),Object(O["j"])("solicitudId","==",t[0]))).then((function(o){var e=o.docs;0==e.length&&gt.push([t[0],t[1]])}))})),console.log("INSCRIPCIONES ENCONTRADAS"),console.log(mt)})),"T"!=o&&"M"!=o||Object(O["e"])(Object(O["a"])(_m,"Solicitud_Modificacion_Prenda")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();4==o.estadoPrimario&&o.estadoSecundario>=1&&ht.push([t.id,o])}))})).then((function(){ht.forEach((function(t){Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Inspeccion_modificacion"),Object(O["j"])("solicitudId","==",t[0]))).then((function(o){var e=o.docs;0==e.length&&ft.push([t[0],t[1]])}))})),console.log("MODIFICACIONES ENCONTRADAS"),console.log(ht)})),"T"!=o&&"A"!=o||Object(O["e"])(Object(O["a"])(_m,"Solicitud_Alzamiento_Prenda")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();4==o.estadoPrimario&&o.estadoSecundario>=1&&vt.push([t.id,o])}))})).then((function(){vt.forEach((function(t){Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Inspeccion_alzamiento"),Object(O["j"])("solicitudId","==",t[0]))).then((function(o){var e=o.docs;0==e.length&&bt.push([t[0],t[1]])}))})),console.log("Alzamientos ENCONTRADAS"),console.log(vt)}));case 3:case"end":return t.stop()}}),t)}))),_t.apply(this,arguments)}function jt(t,o,e){"I"==o?(console.log("Subir "+t),Object(O["e"])(Object(O["a"])(_m,"Inspeccion_inscripcion")).then((function(o){var n=o.docs.length+1;Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Inspeccion_inscripcion"),n.toString()),{solicitudId:t,userId:e,comment:"",fechaRevision:""})}))):"M"==o?Object(O["e"])(Object(O["a"])(_m,"Inspeccion_modificacion")).then((function(o){var n=o.docs.length+1;Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Inspeccion_modificacion"),n.toString()),{solicitudId:t,userId:e,comment:"",fechaRevision:""})})):"A"==o&&Object(O["e"])(Object(O["a"])(_m,"Inspeccion_alzamiento")).then((function(o){var n=o.docs.length+1;Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Inspeccion_alzamiento"),n.toString()),{solicitudId:t,userId:e,comment:"",fechaRevision:""})}))}var St={mounted:function(){this.clean(),this.rellenarTabla()},name:"TablaRevisor",data:function(){return{items:[],thread:["N° Rep. Notaria","Funcionario","Fecha","Estado"],username:localStorage.user,inscripciones_encontradas:gt,modificaciones_encontradas:ft,alzamientos_encontrados:bt,emailUser:localStorage.mail}},methods:{rellenarTabla:function(){var t=this;console.log("relleno tabla"),Ot("T"),setTimeout((function(){var o;(console.log("Timeout Enter"),t.inscripciones_encontradas.length>0)&&(console.log(t.inscripciones_encontradas),t.inscripciones_encontradas.forEach((function(e){o=2!=e[1]["estadoSecundario"]?"Por pagar":"Pagado";var n={id:e[0],Rep:e[1]["numeroRepertorioContratoPrenda"],Funcionario:e[1]["usuarioCreador"],Fecha:e[1]["fechaRequirente"],Estado:o,Tipo:"I",nombre_oficina:e[1]["oficina"]};console.log(n),console.log(t.items),t.items.push(n)})));t.modificaciones_encontradas.length>0&&t.modificaciones_encontradas.forEach((function(e){o=2!=e[1]["estadoSecundario"]?"Por pagar":"Pagado";var n={id:e[0],Rep:e[1]["numeroRepertorioContratoPrenda"],Funcionario:e[1]["usuarioCreador"],Fecha:e[1]["fechaRequirente"],Estado:o,Tipo:"M",nombre_oficina:e[1]["oficina"]};t.items.push(n)})),t.alzamientos_encontrados.length>0&&t.alzamientos_encontrados.forEach((function(e){o=2!=e[1]["estadoSecundario"]?"Por pagar":"Pagado";var n={id:e[0],Rep:e[1]["numeroRepertorioContratoPrenda"],Funcionario:e[1]["usuarioCreador"],Fecha:e[1]["fechaRequirente"],Estado:o,Tipo:"A",nombre_oficina:e[1]["oficina"]};t.items.push(n)})),console.log(t.items)}),3e3)},clean:function(){this.items.length=0,this.inscripciones_encontradas.length=0,this.modificaciones_encontradas.length=0,this.alzamientos_encontrados.length=0,mt.length=0,ht.length=0,vt.length=0},AsignarSolicitud:function(t){var o=this.items[t];jt(o.id,o.Tipo,this.emailUser),this.items.splice(t,1)}}},At=St,Et=(e("7939"),Object(p["a"])(At,dt,pt,!1,null,"a05623d2",null)),Ct=Et.exports,Rt=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"TablaRevisor"}},[e("h1",{staticClass:"title",staticStyle:{color:"#514BD5"}},[t._v("Mis Solicitudes")]),e("div",{staticStyle:{padding:"50px","margin-left":"300px"}},[e("table",{staticClass:"table table-sm table-hover zui-table-rounded"},[t._m(0),t._l(t.items,(function(o,n){return e("tbody",{key:n,staticClass:"bodyTabla"},[e("tr",[e("th",[t._v(t._s(o.Rep))]),e("th",[t._v(t._s(o.nombre_oficina))]),e("th",[t._v(t._s(o.Fecha))]),e("td",[e("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"Basic example"}},[e("th",{staticClass:"rounded-pill",staticStyle:{"padding-left":"5px","padding-right":"5px","background-color":"grey"},attrs:{type:"button"},on:{click:function(e){return t.obtain_id_judge(o.id,o.Tipo)}}},[t._v("Revisar")]),e("th",{staticClass:"rounded-pill",staticStyle:{"padding-left":"10px","padding-right":"10px","background-color":"grey"},attrs:{type:"button"},on:{click:function(o){return t.LiberarSolicitud(n)}}},[t._v("Liberar")])])])])])}))],2)])])},It=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("thead",{staticStyle:{color:"white","background-color":"#514BD5"}},[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("N° Contrato Prenda")]),e("th",{attrs:{scope:"col"}},[t._v("Oficina/Notaria")]),e("th",{attrs:{scope:"col"}},[t._v("Fecha")]),e("th",{attrs:{scope:"col"}},[t._v("Acciones")]),e("th")])])}],Pt=[],Nt=[],Dt=[],yt=localStorage.user;function Tt(t){return Ft.apply(this,arguments)}function Ft(){return Ft=Object(U["a"])(regeneratorRuntime.mark((function t(o){var e,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=[],n=[],a=[],console.log("lol"),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Inspeccion_inscripcion"),Object(O["j"])("userId","==",o))).then((function(t){var o=t.docs;o.forEach((function(t){null==t.data().aprovRevisor&&e.push(t.data().solicitudId)}))})).then((function(){e.forEach((function(t){Object(O["d"])(Object(O["c"])(_m,"Solicitud_Inscripcion_Prenda",t)).then((function(o){var e=o.data(),n=[t,e];Pt.push(n)}))}))})),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Inspeccion_modificacion"),Object(O["j"])("userId","==",o))).then((function(t){var o=t.docs;o.forEach((function(t){null==t.data().aprovRevisor&&n.push(t.data().solicitudId)}))})).then((function(){n.forEach((function(t){Object(O["d"])(Object(O["c"])(_m,"Solicitud_Modificacion_Prenda",t)).then((function(o){var e=o.data(),n=[t,e];Nt.push(n),console.log(e)}))}))})),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Inspeccion_alzamiento"),Object(O["j"])("userId","==",o))).then((function(t){var o=t.docs;o.forEach((function(t){null==t.data().aprovRevisor&&a.push(t.data().solicitudId)}))})).then((function(){a.forEach((function(t){Object(O["d"])(Object(O["c"])(_m,"Solicitud_Alzamiento_Prenda",t)).then((function(o){var e=o.data(),n=[t,e];Dt.push(n),console.log(e)}))}))}));case 7:case"end":return t.stop()}}),t)}))),Ft.apply(this,arguments)}function xt(t,o,e){"I"==o?Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Inspeccion_inscripcion"),Object(O["j"])("userId","==",e))).then((function(o){var e=o.docs;e.forEach((function(o){var e=o.data();e.solicitudId==t&&Object(O["i"])(Object(O["c"])(_m,"Inspeccion_inscripcion",o.id),{userId:-1})}))})):"M"==o?Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Inspeccion_modificacion"),Object(O["j"])("userId","==",e))).then((function(o){var n=o.docs;n.forEach((function(o){var n=o.data();n.solicitudId==t&&n.userId==e&&Object(O["i"])(Object(O["c"])(Object(O["c"])(_m,"Inspeccion_modificacion",o.id)),{userId:-1})}))})):"A"==o&&Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Inspeccion_alzamiento"),Object(O["j"])("userId","==",e))).then((function(o){var n=o.docs;n.forEach((function(o){var n=o.data();n.solicitudId==t&&n.userId==e&&Object(O["i"])(Object(O["c"])(Object(O["c"])(_m,"Inspeccion_alzamiento",o.id)),{userId:-1})}))}))}var zt={mounted:function(){this.clean(),this.rellenarTabla()},name:"TablaRevisor",data:function(){return{items:[],thread:["N° Rep. Notaria","Funcionario","Fecha","Estado"],username:localStorage.user,inscripciones_encontradas:Pt,modificaciones_encontradas:Nt,alzamientos_encontrados:Dt,emailUser:localStorage.mail}},methods:{rellenarTabla:function(){var t=this;console.log("relleno tabla");var o=new Date;Tt(this.emailUser),setTimeout((function(){var e;(console.log("esto es lo que busco"),console.log(t.inscripciones_encontradas.length),t.inscripciones_encontradas.length>0)&&(console.log("shdasjd"),console.log(t.inscripciones_encontradas),t.inscripciones_encontradas.forEach((function(o){e=2!=o[1]["estadoSecundario"]?"Por pagar":"Pagado";var n={id:o[0],Rep:o[1]["numeroRepertorioContratoPrenda"],Funcionario:o[1]["usuarioCreador"],Fecha:o[1]["fechaRequirente"],Estado:e,Tipo:"I",nombre_oficina:o[1]["oficina"]};console.log(n),console.log(t.items),t.items.push(n)})));t.modificaciones_encontradas.length>0&&t.modificaciones_encontradas.forEach((function(n){e=2!=n[1]["estadoSecundario"]?"Por pagar":"Pagado";var a={id:n[0],Rep:n[1]["numeroRepertorioContratoPrenda"],Funcionario:"funcionarionotaria@funcionarionotaria.cl",Fecha:o.getFullYear()+"-"+(o.getMonth()+1)+"-"+o.getDate(),Estado:e,Tipo:"M",nombre_oficina:n[1]["oficina"]};t.items.push(a)})),t.alzamientos_encontrados.length>0&&t.alzamientos_encontrados.forEach((function(n){e=2!=n[1]["estadoSecundario"]?"Por pagar":"Pagado";var a={id:n[0],Rep:n[1]["numeroRepertorioContratoPrenda"],Funcionario:n[1]["usuarioCreador"],Fecha:o.getFullYear()+"-"+(o.getMonth()+1)+"-"+o.getDate(),Estado:e,Tipo:"A",nombre_oficina:n[1]["oficina"]};t.items.push(a)})),console.log(t.items)}),3e3)},LiberarSolicitud:function(t){var o=this.items[t];xt(o.id,o.Tipo,this.emailUser),this.items.splice(t,1)},clean:function(){this.items.length=0,this.inscripciones_encontradas.length=0,this.modificaciones_encontradas.length=0,this.alzamientos_encontrados.length=0},obtain_id_judge:function(t,o){console.log("NOIZ ID"),console.log(t),localStorage.id_judge=t,localStorage.tipo_judge=o,this.$router.push({path:"/Dashboard/REVISOR/"+yt+"/RevisionDocumentosRevisor"})}}},Mt=zt,wt=(e("7dda"),Object(p["a"])(Mt,Rt,It,!1,null,"3bd0c534",null)),Bt=wt.exports,kt=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"TablaRevisor"}},[e("h1",{staticClass:"d-flex justify-content-center",staticStyle:{color:"#514BD5"}},[t._v("Solicitudes")]),e("div",{staticStyle:{padding:"50px","margin-left":"300px"}},[e("table",{staticClass:"table table-sm table-hover zui-table-rounded"},[e("thead",{staticStyle:{color:"white","background-color":"#514BD5"},on:{dblclick:function(o){return t.rellenarTabla()}}},[t._m(0)]),t._l(t.items,(function(o,n){return e("tbody",{key:n,staticClass:"bodyTabla"},[e("tr",[e("th",{attrs:{scope:"row"}},[t._v(t._s(o.Rep))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.Fecha))]),t._m(1,!0),e("td",{staticClass:"d-flex justify-content-center"},[e("div",{staticClass:"tamanoTipoDocumento "},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.tipoDoc,expression:"tipoDoc"}],staticClass:"form-select",attrs:{id:"asignado"},on:{change:[function(o){var e=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.tipoDoc=o.target.multiple?e:e[0]},function(o){return t.changeOption(n,o)}]}},t._l(t.revisores,(function(o,n){return e("option",{key:n,domProps:{value:o.mail}},[t._v(t._s(o.mail))])})),0)])])])])}))],2)])])},qt=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("tr",[e("th",{attrs:{scope:"col"}},[t._v("N° Repertorio Prenda")]),e("th",{attrs:{scope:"col"}},[t._v("Fecha")]),e("th",{attrs:{scope:"col"}},[t._v("Estado")]),e("th",{attrs:{scope:"col"}},[t._v("Asignar")])])},function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("td",[e("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"Basic example"}},[e("th",{staticClass:"rounded-pill",staticStyle:{"padding-left":"5px","padding-right":"5px","background-color":"#B9AA23",color:"white"}},[t._v("Esperando revisor")])])])}],Ut=[],Lt=[],Gt=[],Vt=[],$t=[],Ht=[],Yt=[];function Zt(t,o,e){"I"==o?(console.log("Subir "+t),Object(O["e"])(Object(O["a"])(_m,"Inspeccion_inscripcion")).then((function(o){var n=o.docs.length+1;Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Inspeccion_inscripcion"),n.toString()),{solicitudId:t,userId:e,comment:"",fechaRevision:""})}))):"M"==o?Object(O["e"])(Object(O["a"])(_m,"Inspeccion_modificacion")).then((function(o){var n=o.docs.length+1;Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Inspeccion_modificacion"),n.toString()),{solicitudId:t,userId:e,comment:"",fechaRevision:""})})):"A"==o&&Object(O["e"])(Object(O["a"])(_m,"Inspeccion_alzamiento")).then((function(o){var n=o.docs.length+1;Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Inspeccion_alzamiento"),n.toString()),{solicitudId:t,userId:e,comment:"",fechaRevision:""})}))}function Jt(){Object(O["e"])(Object(O["a"])(_m,"Usuario")).then((function(t){t.docs.forEach((function(t){"REVISOR"==t.data().rol&&Yt.push(t.data())}))}))}function Xt(t){return Kt.apply(this,arguments)}function Kt(){return Kt=Object(U["a"])(regeneratorRuntime.mark((function t(o){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:"T"!=o&&"I"!=o||Object(O["e"])(Object(O["a"])(_m,"Solicitud_Inscripcion_Prenda")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();4==o.estadoPrimario&&o.estadoSecundario>=1&&Ut.push([t.id,o])}))})).then((function(){Ut.forEach((function(t){Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Inspeccion_inscripcion"),Object(O["j"])("solicitudId","==",t[0]))).then((function(o){var e=o.docs;0==e.length&&Lt.push([t[0],t[1]])}))})),console.log("INSCRIPCIONES ENCONTRADAS"),console.log(Ut)})),"T"!=o&&"M"!=o||Object(O["e"])(Object(O["a"])(_m,"Solicitud_Modificacion_Prenda")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();4==o.estadoPrimario&&o.estadoSecundario>=1&&Gt.push([t.id,o])}))})).then((function(){Gt.forEach((function(t){Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Inspeccion_modificacion"),Object(O["j"])("solicitudId","==",t[0]))).then((function(o){var e=o.docs;0==e.length&&Vt.push([t[0],t[1]])}))})),console.log("MODIFICACIONES ENCONTRADAS"),console.log(Gt)})),"T"!=o&&"A"!=o||Object(O["e"])(Object(O["a"])(_m,"Solicitud_Alzamiento_Prenda")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();4==o.estadoPrimario&&o.estadoSecundario>=1&&$t.push([t.id,o])}))})).then((function(){$t.forEach((function(t){Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Inspeccion_alzamiento"),Object(O["j"])("solicitudId","==",t[0]))).then((function(o){var e=o.docs;0==e.length&&Ht.push([t[0],t[1]])}))})),console.log("Alzamientos ENCONTRADAS"),console.log($t)}));case 3:case"end":return t.stop()}}),t)}))),Kt.apply(this,arguments)}var Qt={mounted:function(){this.clean(),this.rellenarTabla(),console.log("START->"),Jt()},data:function(){return{items:[],thread:["N° Rep. Notaria","Funcionario","Fecha","Estado"],username:localStorage.user,inscripciones_encontradas:Lt,modificaciones_encontradas:Vt,alzamientos_encontrados:Ht,emailUser:localStorage.mail,revisores:Yt}},name:"TablaRevisor",props:{opcion:Array,rol:{type:String,default:"REVISOR"}},methods:{changeOption:function(t,o){var e=this;console.log("POG");var n=this.items[t];Zt(n.id,n.Tipo,o.target.value),setTimeout((function(){e.$router.go()}),1e3),console.log(o.target.value)},rellenarTabla:function(){var t=this;console.log("relleno tabla"),Xt("T"),setTimeout((function(){var o;t.inscripciones_encontradas.length>0&&(console.log(t.inscripciones_encontradas),t.inscripciones_encontradas.forEach((function(e){o=1==e[1]["estadoPrimario"]?"Por Firmar":"Notif. Rechazo";var n={id:e[0],Rep:e[1]["numeroRepertorioNotario"],Funcionario:e[1]["usuarioCreador"],Fecha:e[1]["fechaRequirente"],Estado:o,Tipo:"I"};console.log(n),console.log(t.items),t.items.push(n)})));t.modificaciones_encontradas.length>0&&t.modificaciones_encontradas.forEach((function(e){o=1==e[1]["estadoPrimario"]?"Por Firmar":"Notif. Rechazo";var n={id:e[0],Rep:e[1]["numeroRepertorioNotario"],Funcionario:e[1]["usuarioCreador"],Fecha:e[1]["fechaRequirente"],Estado:o,Tipo:"I"};t.items.push(n)})),t.alzamientos_encontrados.length>0&&t.alzamientos_encontrados.forEach((function(e){o=1==e[1]["estadoPrimario"]?"Por Firmar":"Notif. Rechazo";var n={id:e[0],Rep:e[1]["numeroRepertorioNotario"],Funcionario:e[1]["usuarioCreador"],Fecha:e[1]["fechaRequirente"],Estado:o,Tipo:"I"};t.items.push(n)})),console.log(t.items)}),3e3)},clean:function(){this.items.length=0,this.inscripciones_encontradas.length=0,this.modificaciones_encontradas.length=0,this.alzamientos_encontrados.length=0,Ut.length=0,Gt.length=0,$t.length=0}}},Wt=Qt,to=(e("7f88"),Object(p["a"])(Wt,kt,qt,!1,null,"2b43dcb2",null)),oo=to.exports,eo=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"TablaRevisor"}},[e("h1",{staticClass:"d-flex justify-content-center",staticStyle:{color:"#514BD5"}},[t._v("Rechazadas")]),e("div",{staticStyle:{padding:"50px","margin-left":"300px"}},[e("table",{staticClass:"table table-sm table-hover zui-table-rounded"},[e("thead",{staticStyle:{color:"white","background-color":"#514BD5"},on:{dblclick:function(o){return t.rellenarTabla()}}},[t._m(0)]),t._l(t.items,(function(o,n){return e("tbody",{key:n,staticClass:"bodyTabla"},[e("tr",[e("th",[t._v(t._s(o.Rep))]),e("th",[t._v(t._s(o.Notaria))]),"I"==o.Tipo?e("th",[t._v("Inscripción")]):t._e(),"M"==o.Tipo?e("th",[t._v("Modificación")]):t._e(),"A"==o.Tipo?e("th",[t._v("Alzamiento")]):t._e(),e("th",[t._v(t._s(o.Fecha))]),e("th",{staticClass:"rounded-pill",staticStyle:{"padding-left":"5px","padding-right":"5px","background-color":"grey"},attrs:{type:"button"},on:{click:function(e){return t.obtain_id_judge(o.id,o.Tipo)}}},[t._v("Revisar")])])])}))],2)])])},no=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("tr",[e("th",{attrs:{scope:"col"}},[t._v("N° Repertorio Prenda")]),e("th",{attrs:{scope:"col"}},[t._v("Notaria")]),e("th",{attrs:{scope:"col"}},[t._v("Tipo")]),e("th",{attrs:{scope:"col"}},[t._v("Fecha")]),e("th")])}],ao=[],io=[],ro=[],co=localStorage.user,so="/Dashboard/"+localStorage.rol+"/"+co+"/RevisionDocumentosJefeRevisor";function lo(t){return uo.apply(this,arguments)}function uo(){return uo=Object(U["a"])(regeneratorRuntime.mark((function t(o){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:"T"!=o&&"I"!=o||Object(O["e"])(Object(O["a"])(_m,"Solicitud_Inscripcion_Prenda")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();6==o.estadoPrimario&&o.estadoSecundario>=1&&ao.push([t.id,o])}))})),"T"!=o&&"M"!=o||Object(O["e"])(Object(O["a"])(_m,"Solicitud_Modificacion_Prenda")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();6==o.estadoPrimario&&o.estadoSecundario>=1&&io.push([t.id,o])}))})),"T"!=o&&"A"!=o||Object(O["e"])(Object(O["a"])(_m,"Solicitud_Alzamiento_Prenda")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();6==o.estadoPrimario&&o.estadoSecundario>=1&&ro.push([t.id,o])}))}));case 3:case"end":return t.stop()}}),t)}))),uo.apply(this,arguments)}var po={mounted:function(){this.clean(),this.rellenarTabla()},name:"TablaRevisor",props:{opcion:Array,rol:{type:String,default:"REVISOR"}},data:function(){return{items:[],thread:["N° Rep. Notaria","Funcionario","Fecha","Estado"],username:localStorage.user,inscripciones_encontradas:ao,modificaciones_encontradas:io,alzamientos_encontrados:ro,emailUser:localStorage.mail}},methods:{rellenarTabla:function(){var t=this;console.log("relleno tabla"),lo("T"),setTimeout((function(){var o;t.inscripciones_encontradas.length>0&&(console.log(t.inscripciones_encontradas),t.inscripciones_encontradas.forEach((function(e){o=1==e[1]["estadoPrimario"]?"Por Firmar":"Notif. Rechazo";var n={id:e[0],Rep:e[1]["numeroRepertorioNotario"],Funcionario:e[1]["usuarioCreador"],Fecha:e[1]["fechaRequirente"],Estado:o,Tipo:"I"};console.log(n),console.log(t.items),t.items.push(n)})));t.modificaciones_encontradas.length>0&&t.modificaciones_encontradas.forEach((function(e){o=1==e[1]["estadoPrimario"]?"Por Firmar":"Notif. Rechazo";var n={id:e[0],Rep:e[1]["numeroRepertorioNotario"],Funcionario:e[1]["usuarioCreador"],Fecha:e[1]["fechaRequirente"],Estado:o,Tipo:"I"};t.items.push(n)})),t.alzamientos_encontrados.length>0&&t.alzamientos_encontrados.forEach((function(e){o=1==e[1]["estadoPrimario"]?"Por Firmar":"Notif. Rechazo";var n={id:e[0],Rep:e[1]["numeroRepertorioNotario"],Funcionario:e[1]["usuarioCreador"],Fecha:e[1]["fechaRequirente"],Estado:o,Tipo:"I"};t.items.push(n)})),console.log(t.items)}),3e3)},clean:function(){this.items.length=0,this.inscripciones_encontradas.length=0,this.modificaciones_encontradas.length=0,this.alzamientos_encontrados.length=0},obtain_id_judge:function(t,o){console.log("NOIZ ID"),console.log(t),localStorage.id_judge=t,localStorage.tipo_judge=o,this.$router.push({path:so})}}},mo=po,go=(e("2fa9"),Object(p["a"])(mo,eo,no,!1,null,"68542eea",null)),ho=go.exports,fo=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"TablaTipo"}},[e("div",{staticStyle:{padding:"50px","margin-left":"300px"}},[e("table",{staticClass:"table table-sm table-hover zui-table-rounded"},[t._m(0),t._l(t.items,(function(o,n){return e("tbody",{key:n,staticClass:"bodyTabla"},[e("tr",[e("th",[t._v(t._s(o.Rep))]),e("th",[t._v(t._s(o.Oficina))]),e("th",[t._v(t._s(o.Fecha))]),e("th",[e("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-6",modifiers:{"modal-6":!0}}],staticClass:"col buttonAdd d-flex justify-content-center"},[e("font-awesome-icon",{staticStyle:{"margin-right":"5px"},attrs:{icon:"file-download"},on:{click:function(o){return t.changeIndex(n)}}})],1)],1)])])}))],2)]),e("b-modal",{staticStyle:{width:"80px"},attrs:{id:"modal-6","hide-footer":""}},[e("div",{staticClass:"row"},[e("div",{staticClass:"titleFormulario col"},[t._v("Contrato")]),e("div",{staticClass:"input-group mb-3 "},[e("label",{attrs:{for:"anexos"}}),e("input",{staticClass:"form-control",attrs:{type:"file",id:"contrato"}})])]),e("div",{staticClass:"row"},[e("div",{staticClass:"titleFormulario col"},[t._v("Anexos")]),e("div",{staticClass:"input-group mb-3 "},[e("label",{attrs:{for:"anexos"}}),e("input",{staticClass:"form-control",attrs:{type:"file",multiple:"",id:"anexos"}})])]),e("b-button",{attrs:{id:"SubirArchivos"},on:{click:function(o){return t.add()}}},[t._v("Adjuntar Archivos")])],1)],1)},vo=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("thead",{staticStyle:{color:"white","background-color":"#514BD5"}},[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("N° Repertorio de Prenda")]),e("th",{attrs:{scope:"col"}},[t._v("Oficina")]),e("th",{attrs:{scope:"col"}},[t._v("Fecha")]),e("th",{attrs:{scope:"col"}},[t._v("Adjuntar doc")])])])}],bo=(e("b0c0"),e("588e")),Oo=[],_o=[],jo=[];function So(t,o){return Ao.apply(this,arguments)}function Ao(){return Ao=Object(U["a"])(regeneratorRuntime.mark((function t(o,e){var n,a,i,r,c=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=c.length>2&&void 0!==c[2]?c[2]:"T",a=c.length>3&&void 0!==c[3]?c[3]:-1,i=c.length>4&&void 0!==c[4]?c[4]:"",r=c.length>5&&void 0!==c[5]?c[5]:"","T"!=n&&"I"!=n||Object(O["e"])(Object(O["a"])(_m,"Solicitud_Inscripcion_Prenda")).then((function(t){console.log("I FOUND THIS INSCRIPTION");var n=t.docs;n.forEach((function(t){console.log("LOL TIME");var n=t.data();n.estadoPrimario!=o||n.estadoSecundario!=e||""!=r&&n.notaria!=r||""!=i&&n.oficina!=i||(console.log("MOMENTOSO"),n.usuarioCreador!=a&&-1!=a||Oo.push([t.id,n]))}))})).then((function(){console.log("INSCRIPCIONES ENCONTRADAS"),console.log(Oo)})),"T"!=n&&"M"!=n||Object(O["e"])(Object(O["a"])(_m,"Solicitud_Modificacion_Prenda")).then((function(t){console.log("I FOUND THIS MODIFICATION");var n=t.docs;n.forEach((function(t){console.log("LOL TIME");var n=t.data();n.estadoPrimario!=o||n.estadoSecundario!=e||""!=r&&n.notaria!=r||""!=i&&n.oficina!=i||(console.log("MOMENTOSO"),n.usuarioCreador!=a&&-1!=a||_o.push([t.id,n]))}))})).then((function(){console.log("MODIFICACIONES ENCONTRADAS"),console.log(_o)})),"T"!=n&&"A"!=n||Object(O["e"])(Object(O["a"])(_m,"Solicitud_Alzamiento_Prenda")).then((function(t){console.log("I FOUND THIS ALZ");var n=t.docs;n.forEach((function(t){var n=t.data();console.log("LOL TIME"),n.estadoPrimario!=o||n.estadoSecundario!=e||""!=r&&n.notaria!=r||""!=i&&n.oficina!=i||(console.log("MOMENTOSO"),n.usuarioCreador!=a&&-1!=a||jo.push([t.id,n]))}))})).then((function(){console.log("INSCRIPCIONES ENCONTRADAS"),console.log(jo)}));case 7:case"end":return t.stop()}}),t)}))),Ao.apply(this,arguments)}function Eo(t,o,e,n){var a=null,i="",r="",c="";0==n?i=e:1==n?r=e:2==n&&(c=e),Object(O["e"])(Object(O["a"])(_m,"Document_RPsD")).then((function(t){var o=t.docs.length,e=t.docs[o-1];a=e.data().numero_repertorio_RPsD})).then((function(){Object(O["e"])(Object(O["a"])(_m,"Document_RPsD")).then(function(){var e=Object(U["a"])(regeneratorRuntime.mark((function e(n){var s,l,u,d,p,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log(n.docs.length),s=n.docs.length,console.log("Entro"),console.log("contrato"),console.log(t),console.log(o),l=0;case 7:if(!(l<t.length)){e.next=20;break}return console.log("estoy dent"),u=Object(bo["c"])(jm,t[l].name),e.next=12,Object(bo["d"])(u,t[l]);case 12:return e.next=14,Object(bo["a"])(u);case 14:d=e.sent,Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Document_RPsD"),s.toString()),{id_alzamiento:i,id_modificacion:r,idInscripcion:c,"año_repertorio_del_contrato":(new Date).getFullYear(),numero_repertorio_RPsD:a+1,url:d,contrato:!0}),s+=1;case 17:l++,e.next=7;break;case 20:l=0;case 21:if(!(l<o.length)){e.next=34;break}return console.log("estoy dent2"),p=Object(bo["c"])(jm,o[l].name),e.next=26,Object(bo["d"])(p,o[l]);case 26:return e.next=28,Object(bo["a"])(p);case 28:m=e.sent,Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Document_RPsD"),s.toString()),{idInscripcion:i,id_alzamiento:r,id_modificacion:c,"año_repertorio_del_contrato":(new Date).getFullYear(),numero_repertorio_RPsD:a+1,url:m,contrato:!1}),s+=1;case 31:l++,e.next=21;break;case 34:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})).then((function(){console.log("EVERYTHING ITS SEND SUCCESFULLY")}))}function Co(t,o,e,n){var a=["El pago no se realizo","Hubo intencion de pagar","Pagado"];Object(O["e"])(Object(O["a"])(_m,"Counter_N_RPsD")).then((function(n){var a=n.docs[0].data(),i=a.counter;i=i<10?"000"+i.toString():i<100?"00"+i.toString():i<1e3?"0"+i.toString():i.toString();var r=a.year;2==e?"I"==t?Object(O["i"])(Object(O["c"])(_m,"Solicitud_Inscripcion_Prenda",o),{estadoPrimario:4,estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}).then((function(){console.log("ACTUALIZADO")})):"M"==t?Object(O["i"])(Object(O["c"])(_m,"Solicitud_Modificacion_Prenda",o),{estadoPrimario:4,estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}):"A"==t&&Object(O["i"])(Object(O["c"])(_m,"Solicitud_Alzamiento_Prenda",o),{estadoPrimario:4,estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}):"I"==t?Object(O["i"])(Object(O["c"])(_m,"Solicitud_Inscripcion_Prenda",o),{estadoPrimario:4,estadoSecundario:e}).then((function(){console.log("ACTUALIZADO")})):"M"==t?Object(O["i"])(Object(O["c"])(_m,"Solicitud_Modificacion_Prenda",o),{estadoPrimario:4,estadoSecundario:e}):"A"==t&&Object(O["i"])(Object(O["c"])(_m,"Solicitud_Alzamiento_Prenda",o),{estadoPrimario:4,estadoSecundario:e}),Object(O["i"])(Object(O["c"])(_m,"Counter_N_RPsD","0"),{counter:a.counter+1})}));var i=new Date;Object(O["e"])(Object(O["a"])(_m,"Bitacora")).then((function(r){var c=r.docs.length,s="",l="",u="";"I"==t?s=o:"M"==t?l=o:"A"==t&&(u=o),Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Bitacora"),c.toString()),{idInscripcion:s,idModificacion:l,idAlzamiento:u,idUser:n,comment:a[e],fechaCambio:i.getFullYear()+"-"+(i.getMonth()+1)+"-"+i.getDate()})}))}function Ro(t,o,e,n){var a=["La solicitud fue guardada","La solicitud fue enviada desde notaria","La solicitud fue rechazada de notaria","La solicitud fue enviada desde oficina","La solicitud esta en revision","La solicitud fue aceptada","La solicitud fue rechazada por revisor","La solicitud fue rechazada por unidad de prenda","La solicitud rechazada fue confirmada"];"I"==t?Object(O["i"])(Object(O["c"])(_m,"Solicitud_Inscripcion_Prenda",o),{estadoPrimario:e,estadoSecundario:2}).then((function(){console.log("ACTUALIZADO")})):"M"==t?Object(O["i"])(Object(O["c"])(_m,"Solicitud_Modificacion_Prenda",o),{estadoPrimario:e,estadoSecundario:2}):"A"==t&&Object(O["i"])(Object(O["c"])(_m,"Solicitud_Alzamiento_Prenda",o),{estadoPrimario:e,estadoSecundario:2});var i=new Date;Object(O["e"])(Object(O["a"])(_m,"Bitacora")).then((function(r){var c=r.docs.length,s="",l="",u="";"I"==t?s=o:"M"==t?l=o:"A"==t&&(u=o),Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Bitacora"),c.toString()),{idInscripcion:s,idModificacion:l,idAlzamiento:u,idUser:n,comment:a[e],fechaCambio:i.getFullYear()+"-"+(i.getMonth()+1)+"-"+i.getDate()})}))}var Io={name:"TablaTipo",mounted:function(){this.rellenarTabla()},data:function(){return{items:[],thread:["N° Rep. Notaria","Funcionario","Fecha","Estado"],username:localStorage.user,inscripciones_encontradas:Oo,modificaciones_encontradas:_o,alzamientos_encontrados:jo,emailUser:localStorage.mail,indexSelect:0}},methods:{rellenarTabla:function(){var t=this;console.log("relleno tabla"),this.items=[],this.items.length=0,Oo=[],_o=[],jo=[],So(3,0,"T",-1),setTimeout((function(){t.inscripciones_encontradas.length>0&&(console.log(t.inscripciones_encontradas),t.inscripciones_encontradas.forEach((function(o){if(console.log("INSCRIPCION-"+o[1]["estadoPrimario"]+"-"+o[1]["estadoSecundario"]),3==o[1]["estadoPrimario"]){var e={id:o[0],Rep:o[1]["numeroRepertorioNotario"],Fecha:o[1]["fechaRequirente"],Oficina:o[1]["oficina"],Tipo:"I"};console.log(e),console.log(t.items),t.items.push(e)}}))),t.modificaciones_encontradas.length>0&&t.modificaciones_encontradas.forEach((function(o){if(console.log("MODIFICACION-"+o[1]["estadoPrimario"]+"-"+o[1]["estadoSecundario"]),console.log("DEBUG"),console.log(o),3==o[1]["estadoPrimario"]){var e={id:o[0],Rep:o[1]["numeroRepertorioNotario"],Fecha:o[1]["fechaRequirente"],Oficina:o[1]["oficina"],Tipo:"M"};t.items.push(e)}})),t.alzamientos_encontrados.length>0&&t.alzamientos_encontrados.forEach((function(o){if(console.log("ALZAMIENTOS-"+o[1]["estadoPrimario"]+"-"+o[1]["estadoSecundario"]),3==o[1]["estadoPrimario"]){var e={id:o[0],Rep:o[1]["numeroRepertorioNotario"],Fecha:o[1]["fechaRequirente"],Oficina:o[1]["oficina"],Tipo:"A"};t.items.push(e)}})),console.log(t.items)}),2500)},add:function(){var t=this.items[this.indexSelect],o=document.getElementById("anexos").files,e=document.getElementById("contrato").files;Eo(e,o,t.id,t.Tipo),Ro(t.Tipo,t.id,4,this.emailUser),Co(t.Tipo,t.id,2,this.emailUser),this.items.splice(this.indexSelect,1)},changeIndex:function(t){this.indexSelect=t}}},Po=Io,No=(e("923e"),Object(p["a"])(Po,fo,vo,!1,null,"251e05e1",null)),Do=No.exports,yo=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"row",attrs:{id:"contenedor"},on:{"":function(t){}}},[e("table",{staticClass:"table"},[e("thead",{staticClass:"encabezadoTabla"},[e("tr",[t._l(t.thread,(function(o,n){return e("th",{key:n,attrs:{scope:"col"}},[t._v(t._s(o))])})),e("th",{attrs:{scope:"col"}})],2)]),t._l(t.items,(function(o,n){return e("tbody",{key:n,staticClass:"bodyTabla"},[e("td",[t._v(t._s(o.Rep))]),e("td",[t._v(t._s(o.Funcionario))]),e("td",[t._v(t._s(o.Fecha))]),e("td",[e("p",{staticClass:"titleFormulario"},[t._v(t._s(o.Estado)+" ")])]),e("td",[e("a",{staticClass:"logout",on:{click:function(e){return t.obtain_id_go(o.ID,o.Tipo)}}},[e("font-awesome-icon",{staticStyle:{"margin-right":"5px"},attrs:{icon:"file-download"}})],1)])])}))],2)])},To=[];console.log("USERNAME GLOBAL"),console.log(localStorage.user);var Fo=[],xo=[],zo=[],Mo=[],wo=localStorage.user,Bo="/Dashboard/NOTARIO/"+wo+"/RevisionDoc";function ko(t,o){"I"==t?Object(O["i"])(Object(O["d"])(Object(O["a"])(_m,"Solicitud_Inscripcion_Prenda",o)),{firma:!0}).then((function(){console.log("FIRMADO")})):"M"==t?Object(O["i"])(Object(O["d"])(Object(O["a"])(_m,"Solicitud_Modificacion_Prenda",o)),{firma:!0}):"A"==t&&Object(O["i"])(Object(O["d"])(Object(O["a"])(_m,"Solicitud_Alzamiento_Prenda",o)),{firma:!0})}function qo(t){Object(O["e"])(Object(O["a"])(_m,"Usuario")).then((function(o){o.docs.forEach((function(o){o.data().NotariaID==t&&"FUNCIONARIONOTARIA"==o.data().rol&&Mo.push(o.data().mail.toString())}))}))}function Uo(t,o){return Lo.apply(this,arguments)}function Lo(){return Lo=Object(U["a"])(regeneratorRuntime.mark((function t(o,e){var n,a,i,r,c=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=c.length>2&&void 0!==c[2]?c[2]:"T",a=c.length>3&&void 0!==c[3]?c[3]:-1,i=c.length>4&&void 0!==c[4]?c[4]:"",r=c.length>5&&void 0!==c[5]?c[5]:"","T"!=n&&"I"!=n||Object(O["e"])(Object(O["a"])(_m,"Solicitud_Inscripcion_Prenda")).then((function(t){var n=t.docs;n.forEach((function(t){var n=t.data();n.estadoPrimario!=o||n.estadoSecundario!=e||""!=r&&n.notaria!=r||""!=i&&n.oficina!=i||n.usuarioCreador!=a&&-1!=a||Fo.push([t.id,n])}))})).then((function(){console.log("INSCRIPCIONES ENCONTRADAS"),console.log(Fo)})),"T"!=n&&"M"!=n||Object(O["e"])(Object(O["a"])(_m,"Solicitud_Modificacion_Prenda")).then((function(t){var n=t.docs;n.forEach((function(t){var n=t.data();n.estadoPrimario!=o||n.estadoSecundario!=e||""!=r&&n.notaria!=r||""!=i&&n.oficina!=i||n.usuarioCreador!=a&&-1!=a||xo.push([t.id,n])}))})).then((function(){console.log("MODIFICACIONES ENCONTRADAS"),console.log(xo)})),"T"!=n&&"A"!=n||Object(O["e"])(Object(O["a"])(_m,"Solicitud_Alzamiento_Prenda")).then((function(t){var n=t.docs;n.forEach((function(t){var n=t.data();n.estadoPrimario!=o||n.estadoSecundario!=e||""!=r&&n.notaria!=r||""!=i&&n.oficina!=i||n.usuarioCreador!=a&&-1!=a||zo.push([t.id,n])}))})).then((function(){console.log("ALZAMIENTOD ENCONTRADAS"),console.log(zo)}));case 7:case"end":return t.stop()}}),t)}))),Lo.apply(this,arguments)}var Go,Vo={name:"MisSolicitudesNotaria",mounted:function(){this.rellenarTabla(),this.clean()},data:function(){return{items:[],thread:["N° Rep. Notaria","Funcionario","Fecha","Estado"],username:localStorage.user,inscripciones_encontradas:Fo,modificaciones_encontradas:xo,alzamientos_encontrados:zo,funcionarios_notaria:Mo}},methods:{obtain_id_go:function(t,o){console.log("NOIZ ID, estamso aqui"),console.log(t),localStorage.id_judge=t,localStorage.tipo_judge=o,location.href=Bo},clean:function(){this.items=[],this.items.length=0,this.inscripciones_encontradas.length=0,this.modificaciones_encontradas.length=0,this.alzamientos_encontrados.length=0,this.funcionarios_notaria.length=0},rellenarTabla:function(){var t=this;this.items=[],console.log("relleno tabla"),console.log(localStorage.notaria),setTimeout((function(){qo(localStorage.notaria)}),500),setTimeout((function(){console.log(t.funcionarios_notaria),t.funcionarios_notaria.forEach((function(t){Uo(1,0,"T",t)}))}),2e3),setTimeout((function(){var o;t.inscripciones_encontradas.length>0&&(console.log(t.inscripciones_encontradas),t.inscripciones_encontradas.forEach((function(e){o=1==e[1]["estadoPrimario"]?"Por Firmar":0==e[1]["estadoPrimario"]?"Edicion":"Rechazo Notaria";var n={Rep:e[1]["numeroRepertorioNotario"],Funcionario:e[1]["usuarioCreador"],Fecha:e[1]["fechaRequirente"],Estado:o,ID:e[0],Tipo:"I"};console.log(n),console.log(t.items),0==e[1]["firma"]&&t.items.push(n)})));t.modificaciones_encontradas.length>0&&t.modificaciones_encontradas.forEach((function(e){o=1==e[1]["estadoPrimario"]?"Por Firmar":0==e[1]["estadoPrimario"]?"Edicion":"Rechazo Notaria";var n={Rep:e[1]["numeroRepertorioNotario"],Funcionario:e[1]["usuarioCreador"],Fecha:e[1]["fechaRequirente"],Estado:o,ID:e[0],Tipo:"M"};0==e[1]["firma"]&&t.items.push(n)})),t.alzamientos_encontrados.length>0&&t.alzamientos_encontrados.forEach((function(e){o=1==e[1]["estadoPrimario"]?"Por Firmar":0==e[1]["estadoPrimario"]?"Edicion":"Rechazo Notaria";var n={Rep:e[1]["numeroRepertorioNotario"],Funcionario:e[1]["usuarioCreador"],Fecha:e[1]["fechaRequirente"],Estado:o,ID:e[0],Tipo:"A"};0==e[1]["firma"]&&t.items.push(n)})),console.log("ESTOS SON TODOS"),console.log(t.items)}),3e3)},firmardoc:function(){ko()}}},$o=Vo,Ho=(e("a0fa"),Object(p["a"])($o,yo,To,!1,null,"5dc758d6",null)),Yo=Ho.exports,Zo=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"row",attrs:{id:"contenedor"}},[e("table",{staticClass:"table"},[e("thead",{staticClass:"encabezadoTabla"},[e("tr",[t._l(t.thread,(function(o,n){return e("th",{key:n,attrs:{scope:"col"}},[t._v(t._s(o))])})),e("th",{attrs:{scope:"col"}})],2)]),0==t.items.length?e("tbody",{staticClass:"bodyTabla"},[e("td",[t._v("No data")])]):t._l(t.items,(function(o,n){return e("tbody",{key:n,staticClass:"bodyTabla"},[e("td",[t._v(t._s(o.Rep))]),e("td",[t._v(t._s(o.Fecha))]),e("td",[t._v(t._s(o.Monto))]),e("td",{staticClass:"d-flex justify-content-center"},[e("p",{staticClass:"titleFormulario"},[t._v(t._s(o.Estado)+" ")])]),e("td",[e("div",{staticClass:"form-check "},[e("input",{staticClass:"form-check-input",attrs:{type:"checkbox",value:"",id:n}})])])])}))],2),e("div",{staticClass:"d-flex justify-content-end"},[e("p",[t._v(" $"+t._s(t.monto)+" ")]),e("button",{staticClass:"col-2 titleButton ",on:{click:function(o){return t.pagar()}}},[t._v("Pagar")])])])},Jo=[],Xo=(e("ac1f"),e("1276"),[]),Ko=[],Qo=[];function Wo(t,o){return te.apply(this,arguments)}function te(){return te=Object(U["a"])(regeneratorRuntime.mark((function t(o,e){var n,a,i,r,c=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=c.length>2&&void 0!==c[2]?c[2]:"T",a=c.length>3&&void 0!==c[3]?c[3]:-1,i=c.length>4&&void 0!==c[4]?c[4]:"",r=c.length>5&&void 0!==c[5]?c[5]:"","T"!=n&&"I"!=n||Object(O["e"])(Object(O["a"])(_m,"Solicitud_Inscripcion_Prenda")).then((function(t){var n=t.docs;n.forEach((function(t){var n=t.data();n.estadoPrimario!=o||n.estadoSecundario!=e||""!=r&&n.notaria!=r||""!=i&&n.oficina!=i||n.usuarioCreador!=a&&-1!=a||Xo.push([t.id,n])}))})).then((function(){console.log("INSCRIPCIONES ENCONTRADAS"),console.log(Xo),console.log(Xo.length)})),"T"!=n&&"M"!=n||Object(O["e"])(Object(O["a"])(_m,"Solicitud_Modificacion_Prenda")).then((function(t){var n=t.docs;n.forEach((function(t){var n=t.data();n.estadoPrimario!=o||n.estadoSecundario!=e||""!=r&&n.notaria!=r||""!=i&&n.oficina!=i||n.usuarioCreador!=a&&-1!=a||Ko.push([t.id,n])}))})).then((function(){console.log("MODIFICACIONES ENCONTRADAS"),console.log(Ko),console.log(Xo.length)})),"T"!=n&&"A"!=n||Object(O["e"])(Object(O["a"])(_m,"Solicitud_Alzamiento_Prenda")).then((function(t){var n=t.docs;n.forEach((function(t){var n=t.data();n.estadoPrimario!=o||n.estadoSecundario!=e||""!=r&&n.notaria!=r||""!=i&&n.oficina!=i||n.usuarioCreador!=a&&-1!=a||Qo.push([t.id,n])}))})).then((function(){console.log("INSCRIPCIONES ENCONTRADAS"),console.log(Qo),console.log(Qo.length)}));case 7:case"end":return t.stop()}}),t)}))),te.apply(this,arguments)}function oe(t,o,e,n){var a=["El pago no se realizo","Hubo intencion de pagar","Pagado"];Object(O["e"])(Object(O["a"])(_m,"Counter_N_RPsD")).then((function(n){var a=n.docs[0].data(),i=a.counter;i=i<10?"000"+i.toString():i<100?"00"+i.toString():i<1e3?"0"+i.toString():i.toString();var r=a.year;Go=i+"-"+r.toString(),console.log("RPSD: "+Go),1==e?"I"==t?Object(O["i"])(Object(O["c"])(_m,"Solicitud_Inscripcion_Prenda",o),{estadoPrimario:4,estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}).then((function(){console.log("ACTUALIZADO")})):"M"==t?Object(O["i"])(Object(O["c"])(_m,"Solicitud_Modificacion_Prenda",o),{estadoPrimario:4,estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}):"A"==t&&Object(O["i"])(Object(O["c"])(_m,"Solicitud_Alzamiento_Prenda",o),{estadoPrimario:4,estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}):0==e?"I"==t?Object(O["i"])(Object(O["c"])(_m,"Solicitud_Inscripcion_Prenda",o),{estadoPrimario:1,estadoSecundario:e}).then((function(){console.log("ACTUALIZADO")})):"M"==t?Object(O["i"])(Object(O["c"])(_m,"Solicitud_Modificacion_Prenda",o),{estadoPrimario:1,estadoSecundario:e}):"A"==t&&Object(O["i"])(Object(O["c"])(_m,"Solicitud_Alzamiento_Prenda",o),{estadoPrimario:1,estadoSecundario:e}):"I"==t?Object(O["i"])(Object(O["c"])(_m,"Solicitud_Inscripcion_Prenda",o),{estadoPrimario:4,estadoSecundario:e}).then((function(){console.log("ACTUALIZADO")})):"M"==t?Object(O["i"])(Object(O["c"])(_m,"Solicitud_Modificacion_Prenda",o),{estadoPrimario:4,estadoSecundario:e}):"A"==t&&Object(O["i"])(Object(O["c"])(_m,"Solicitud_Alzamiento_Prenda",o),{estadoPrimario:4,estadoSecundario:e}),Object(O["i"])(Object(O["c"])(_m,"Counter_N_RPsD","0"),{counter:a.counter+1})}));var i=new Date;Object(O["e"])(Object(O["a"])(_m,"Bitacora")).then((function(r){var c=r.docs.length,s="",l="",u="";"I"==t?s=o:"M"==t?l=o:"A"==t&&(u=o),Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Bitacora"),c.toString()),{idInscripcion:s,idModificacion:l,idAlzamiento:u,idUser:n,comment:a[e],fechaCambio:i.getFullYear()+"-"+(i.getMonth()+1)+"-"+i.getDate()})}))}var ee=[];function ne(t){ee=[],Object(O["e"])(Object(O["a"])(_m,"Patente_por_Inscripcion")).then((function(o){var e=o.docs;e.forEach((function(o){var e=o.data();e.idInscripcion==t&&ee.push(e)})),console.log("AUTOS: "),console.log(ee)}))}var ae,ie={name:"PagosPendientes",mounted:function(){this.rellenarTabla()},data:function(){return{items:[],thread:["N° Repertorio Notaria","Fecha","Monto","Estado"],username:localStorage.user,inscripciones_encontradas:Xo,modificaciones_encontradas:Ko,alzamientos_encontrados:Qo,monto:0,emailUser:localStorage.mail}},props:{opcion:Array,tipoSolicitud:{type:String,default:"Modificacion"}},methods:{rellenarTabla:function(){var t=this;console.log("relleno tabla"),Wo(1,0,"T",-1),console.log("PHASE 1"),setTimeout((function(){var o;t.inscripciones_encontradas.length>0&&(console.log("CHECKING"),console.log(t.inscripciones_encontradas),t.inscripciones_encontradas.forEach((function(e){if(o=0==e[1]["estadoSecundario"]?"Por pagar":"Pagado",e[1]["firma"]){var n={id:e[0],Rep:e[1]["numeroRepertorioNotario"],Funcionario:e[1]["usuarioCreador"],Fecha:e[1]["fechaRequirente"],Monto:e[1]["montoTotal"],Notaria:e[1]["nombre_notaria"],Estado:o,Tipo:"I"};t.items.push(n),console.log(e[1]),t.monto+=parseFloat(e[1]["montoTotal"])}})));console.log("PHASE 2"),t.modificaciones_encontradas.length>0&&t.modificaciones_encontradas.forEach((function(e){if(o=0==e[1]["estadoSecundario"]?"Por pagar":"Pagado",e[1]["firma"]){var n={id:e[0],Rep:e[1]["numeroRepertorioNotario"],Funcionario:e[1]["usuarioCreador"],Fecha:e[1]["fechaRequirente"],Monto:e[1]["montoTotal"],Notaria:e[1]["nombre_notaria"],Estado:o,Tipo:"M"};t.items.push(n)}})),console.log("PHASE 3"),t.alzamientos_encontrados.length>0&&t.alzamientos_encontrados.forEach((function(e){if(o=0==e[1]["estadoSecundario"]?"Por pagar":"Pagado",e[1]["firma"]){var n={id:e[0],Rep:e[1]["numeroRepertorioNotario"],Funcionario:e[1]["usuarioCreador"],Fecha:e[1]["fechaRequirente"],Monto:e[1]["montoTotal"],Notaria:e[1]["nombre_notaria"],Estado:o,Tipo:"A"};t.items.push(n)}})),console.log(t.items)}),2e3)},pagar:function(){var t=this,o=0,e=[];while(o<this.items.length)1==document.getElementById(o).checked&&e.push(o),o++;var n=0;while(n<e.length){var a=this.items[e[n]];console.log(a),console.log("SENDING DATA"),console.log("LOL"),oe(a.Tipo,a.id,1,this.emailUser),setTimeout((function(){fetch("https://api.ipify.org?format=json").then((function(t){return t.json()})).then((function(o){console.log(localStorage.user+","+Go+","+t.monto);var e="http://ec2-75-101-231-83.compute-1.amazonaws.com:4032/api/transaction/payment";console.log("Phase 1 GETTING IP"),console.log(o.ip),console.log(localStorage.rutLog);var n=Go.split("-")[1]+"-"+Go.split("-")[0],i='{"id_persona":"'+localStorage.rutLog+'", "numero_repertorio":"'+Go.split("-")[1]+"-"+Go.split("-")[0]+'", "monto":'+t.monto+', "confirmation_ip": "'+o.ip+'"}';fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:i}).then((function(o){o.json().then((function(o){alert(o.msg),"Pago Ingresado"==o.msg?oe(a.Tipo,a.id,2,t.emailUser):oe(a.Tipo,a.id,0,t.emailUser)})),ne(a.id);var e="";Object(O["e"])(Object(O["a"])(_m,"Solicitud_Modificacion_Prenda")).then((function(t){t.docs.forEach((function(t){e=1==t.data().tipoModificacion?"AlzPN":2==t.data().tipoModificacion?"CA":(t.data().tipoModificacion,"AlzPH")}))})),setTimeout((function(){ee.forEach((function(t){var o="http://ec2-75-101-231-83.compute-1.amazonaws.com:4031/api/vehicles/anotation",i="";"I"==a.Tipo&&(i="PN"),"M"==a.Tipo&&(i=e),"A"==a.Tipo&&(i="AlzPN"),console.log("REPERTORIO");var r='{"patente": "'+t.patente+'", "tipo":"'+i+'", "numero_repertorio":"'+n+'"}';console.log(r),fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:r}).then((function(t){t.json().then((function(t){console.log("INGRESAR"),console.log(t),console.log(t.msg)}))}))}))}),3e3)}))}))}),1500),this.items.splice(e[n],1),n++}}}},re=ie,ce=(e("d061"),Object(p["a"])(re,Zo,Jo,!1,null,"24f1a98d",null)),se=ce.exports,le={name:"Dashboard",data:function(){return{opcion:ae,username:localStorage.user,rol:localStorage.rol}},components:{Menu:B,Navbar:ut,TablaRevisor:Ct,TablaRevisor2:Bt,TablaJefeServicioRechazadas:oo,TablaJefeServicio2:ho,TablaRecepcionDocumento:Do,MisSolicitudesNotario:Yo,PagosPendientes:se,MisSolicitudesFuncionarioNotaria:at},mounted:function(){switch(this.rol){case"ADMIN":ae=["Usuarios","Notarias","Oficinas","Parametros"];break;case"FUNCIONARIONOTARIA":ae=["Mis Solicitudes","Inscripcion de contrato de prendas","Modificacion de contrato de prendas","Alzamiento de contrato de prendas","Buscador"];break;case"NOTARIO":ae=["Mis Solicitudes","Buscador"];break;case"PAGADOR":ae=["Pagos Pendientes","Resumen de Pagos"];break;case"REVISOR":ae=["Tareas","Buscador"];break;case"JEFEDESERVICIO":ae=["Tareas","Buscador","Informes"];break;case"FUNCIONARIOOFICINA":ae=["Mis Solicitudes","Inscripcion de contrato de prendas","Modificacion de contrato de prendas","Alzamiento de contrato de prendas","Buscador"];break;case"RECEPTOR":ae=["Tareas","Recepcion Solicitudes","Busqueda"];break}this.opcion=ae,console.log("MOMENTO"),console.log(this.opcion),localStorage.my_opts=this.opcion}},ue=le,de=(e("5182"),Object(p["a"])(ue,y,T,!1,null,"3007fdfe",null)),pe=de.exports,me=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"dashboard"}},[e("Menu",{attrs:{opciones:t.opcion}}),e("Navbar",{attrs:{username:t.username}}),e("div",{staticStyle:{padding:"50px","margin-left":"300px"}},[e("table",{staticClass:"table table-sm table-hover zui-table-rounded"},[t._m(0),t._l(t.items,(function(o,n){return e("tbody",{key:n,staticClass:"bodyTabla"},[e("tr",[e("th",{attrs:{scope:"row"}},[t._v(t._s(n+1))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.tipo))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.username))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.rut))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.mail))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.nombre))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.apellido))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.abogado_activo))]),e("td",[e("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"Basic example"}},[e("button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-3",modifiers:{"modal-3":!0}}],staticClass:"btn btn-secondary",staticStyle:{"background-color":"green"},attrs:{type:"button"},on:{click:function(e){return t.setIdtoUpdate(o.ID,o.nombre,o.apellido,o.rut,o.tipo,o.mail,o.oficina,o.notaria)}}},[t._v("Editar")]),e("button",{staticClass:"btn btn-secondary",staticStyle:{"background-color":"red"},attrs:{type:"button"}},[t._v("Deshabilitar")])])])])])}))],2),e("button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-2",modifiers:{"modal-2":!0}}],staticClass:"btn btn-secondary",staticStyle:{"background-color":"blue"},attrs:{type:"button"}},[t._v("Agregar Usuario")]),e("b-modal",{attrs:{id:"modal-2","hide-footer":""}},[e("div",{staticClass:"d-flex justify-content-center titleModal"},[t._v("Crear Usuario ")]),e("div",{staticClass:"row"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        Nombre Usuario\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{attrs:{id:"nombreUsu",type:"text"}})]),e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        Apellido Usuario\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{attrs:{id:"apellidoUsu",type:"text"}})]),e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        Run Notario\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{attrs:{id:"rutUsu",type:"text"}})]),e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        Tipo Usuario\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("select",{staticClass:"form-select",attrs:{id:"tipoUsu"}},[e("option",{attrs:{value:"ADMIN"}},[t._v("Administrador")]),e("option",{attrs:{value:"FUNCIONARIONOTARIA"}},[t._v("Funcionario de Notaria")]),e("option",{attrs:{value:"JEFEDESERVICIO"}},[t._v("Jefe de Servicio")]),e("option",{attrs:{value:"NOTARIO"}},[t._v("Notario")]),e("option",{attrs:{value:"PAGADOR"}},[t._v("Pagador")]),e("option",{attrs:{value:"RECEPTOR"}},[t._v("Receptor")]),e("option",{attrs:{value:"REVISOR"}},[t._v("Revisor")])])]),e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        Oficina\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.comuna,expression:"comuna"}],staticClass:"form-select",attrs:{id:"oficinaUsu"},on:{change:function(o){var e=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.comuna=o.target.multiple?e:e[0]}}},t._l(t.oficinasP,(function(o,n){return e("option",{key:n,domProps:{value:o.nombre_organizacion}},[t._v(t._s(o.nombre_organizacion))])})),0)]),e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        Notaria\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.comuna,expression:"comuna"}],staticClass:"form-select",attrs:{id:"notariaUsu"},on:{change:function(o){var e=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.comuna=o.target.multiple?e:e[0]}}},t._l(t.notariasP,(function(o,n){return e("option",{key:n,domProps:{value:o.nombre_organizacion}},[t._v(t._s(o.nombre_organizacion))])})),0)]),e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        Correo Usuario\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{attrs:{id:"mailUsu",type:"mail"}})]),e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        Contraseña Usuario\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{attrs:{id:"claveUsu",type:"password"}})])]),e("div",{staticClass:"d-flex justify-content-center SpaceItems"})])]),e("button",{attrs:{id:"ADDNOTARIA"},on:{click:function(o){return t.add()}}},[t._v("Agregar Usuario")])]),e("b-modal",{attrs:{id:"modal-3","hide-footer":""}},[e("div",{staticClass:"d-flex justify-content-center titleModal"},[t._v("Editar Usuario ")]),e("div",{staticClass:"row"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        Nombre Usuario\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{attrs:{id:"nombreUsu2",type:"text"}})]),e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        Apellido Usuario\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{attrs:{id:"apellidoUsu2",type:"text"}})]),e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        Run Notario\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{attrs:{id:"rutUsu2",type:"text"}})]),e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        Tipo Usuario\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("select",{staticClass:"form-select",attrs:{id:"tipoUsu2"}},[e("option",{attrs:{value:"ADMIN"}},[t._v("Administrador")]),e("option",{attrs:{value:"FUNCIONARIONOTARIA"}},[t._v("Funcionario de Notaria")]),e("option",{attrs:{value:"JEFEDESERVICIO"}},[t._v("Jefe de Servicio")]),e("option",{attrs:{value:"NOTARIO"}},[t._v("Notario")]),e("option",{attrs:{value:"PAGADOR"}},[t._v("Pagador")]),e("option",{attrs:{value:"RECEPTOR"}},[t._v("Receptor")]),e("option",{attrs:{value:"REVISOR"}},[t._v("Revisor")])])]),e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        Oficina\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.comuna,expression:"comuna"}],staticClass:"form-select",attrs:{id:"oficinaUsu2"},on:{change:function(o){var e=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.comuna=o.target.multiple?e:e[0]}}},t._l(t.oficinasP,(function(o,n){return e("option",{key:n,domProps:{value:o.nombre_organizacion}},[t._v(t._s(o.organizacion))])})),0)]),e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        Notaria\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.comuna,expression:"comuna"}],staticClass:"form-select",attrs:{id:"notariaUsu2"},on:{change:function(o){var e=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.comuna=o.target.multiple?e:e[0]}}},t._l(t.notariasP,(function(o,n){return e("option",{key:n,domProps:{value:o.nombre_organizacion}},[t._v(t._s(o.organizacion))])})),0)]),e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        Correo Usuario\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{attrs:{id:"mailUsu2",type:"mail"}})])]),e("div",{staticClass:"d-flex justify-content-center SpaceItems"})])]),e("button",{attrs:{id:"ADDNOTARIA"},on:{click:function(o){return t.update()}}},[t._v("Editar Usuario")])])],1)],1)},ge=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("thead",{staticStyle:{color:"white","background-color":"#514BD5"}},[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("#")]),e("th",{attrs:{scope:"col"}},[t._v("Tipo")]),e("th",{attrs:{scope:"col"}},[t._v("Usuario")]),e("th",{attrs:{scope:"col"}},[t._v("Rut")]),e("th",{attrs:{scope:"col"}},[t._v("Mail")]),e("th",{attrs:{scope:"col"}},[t._v("Nombre")]),e("th",{attrs:{scope:"col"}},[t._v("Apellido")]),e("th",{attrs:{scope:"col"}},[t._v("Activo")]),e("th",{attrs:{scope:"col"}})])])}],he=[],fe=0;function ve(){Object(O["e"])(Object(O["a"])(_m,"Notarias")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();he.push([t.id,o])}))}))}var be=[];function Oe(){Object(O["e"])(Object(O["a"])(_m,"Oficina")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();be.push([t.id,o])}))}))}var _e=[];function je(){Object(O["e"])(Object(O["a"])(_m,"Usuario")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();_e.push([t.id,o])})),console.log("USER LIST"),console.log(_e)}))}var Se={mounted:function(){var t=this;console.log("LA OFICINA LOL"),console.log(JSON.parse(localStorage.mis_oficinas)),console.log(this.oficinasP),this.rellenarTabla(),ve(),Oe(),setTimeout((function(){var o=[];console.log("MIS NOTARIAS"),he.forEach((function(t){console.log(t[1]),o.push(t[1])})),t.notariasP=o;var e=[];console.log("MIS OFICINAS"),be.forEach((function(t){console.log(t[1]),e.push(t[1])})),t.oficinasP=e}),1500)},data:function(){return{opcion:localStorage.my_opts.split(","),username:localStorage.user,items:[]}},name:"Dashboard",components:{Menu:B,Navbar:ut},props:{notariasP:{type:Array},oficinasP:{type:Array}},methods:{rellenarTabla:function(){var t=this;this.items=[],_e=[],je(),setTimeout((function(){_e.forEach((function(o){var e={tipo:o[1]["rol"],username:o[1]["nombre"],rut:o[1]["rut"],mail:o[1]["mail"],nombre:o[1]["nombre"],apellido:o[1]["apellido"],"ID:":o[0],oficina:o[1]["OficinaID"],notaria:o[1]["NotariaID"]};t.items.push(e)}))}),1500)},add:function(){var t=this;console.log("DATA");var o=document.getElementById("nombreUsu").value;console.log(o);var e=document.getElementById("apellidoUsu").value;console.log(e);var n=document.getElementById("rutUsu").value;console.log(n);var a=document.getElementById("tipoUsu").value;console.log(a);var i=document.getElementById("mailUsu").value;console.log(i);var r=document.getElementById("claveUsu").value;console.log(r);var c=document.getElementById("oficinaUsu").value;console.log(c);var s=document.getElementById("notariaUsu").value;console.log(s);var l=-1,u=-1;he.forEach((function(t){t[1]["nombre_organizacion"]==s&&(u=parseInt(t[0]))})),be.forEach((function(t){t[1]["nombre_organizacion"]==c&&(l=parseInt(t[0]))})),Object(b["a"])(Om,i,r).then((function(){Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Usuario"),i.toString()),{NotariaID:u,OficinaID:l,nombre:o,apellido:e,mail:i,rut:n,rol:a,abogado_activo:!0})})),setTimeout((function(){t.rellenarTabla()}),1500)},setIdtoUpdate:function(t,o,e,n,a,i,r,c){var s,l;fe=t,console.log(fe),console.log(r),console.log(c),he.forEach((function(t){t[0]==c&&(l=t[1]["nombre_organizacion"])})),be.forEach((function(t){t[0]==r&&(s=t[1]["nombre_organizacion"])})),setTimeout((function(){document.getElementById("nombreUsu2").value=o,document.getElementById("rutUsu2").value=n,document.getElementById("apellidoUsu2").value=e,document.getElementById("tipoUsu2").value=a,document.getElementById("mailUsu2").value=i,document.getElementById("oficinaUsu2").value=s,document.getElementById("notariaUsu2").value=l}),300)},update:function(){var t=this;console.log("DATA");var o=document.getElementById("nombreUsu2").value;console.log(o);var e=document.getElementById("apellidoUsu2").value;console.log(e);var n=document.getElementById("rutUsu2").value;console.log(n);var a=document.getElementById("tipoUsu2").value;console.log(a);var i=document.getElementById("mailUsu2").value;console.log(i);var r=document.getElementById("oficinaUsu2").value;console.log(r);var c=document.getElementById("notariaUsu2").value;console.log(c);var s=-1,l=-1;he.forEach((function(t){t[1]["nombre_organizacion"]==c&&(l=parseInt(t[0]))})),be.forEach((function(t){t[1]["nombre_organizacion"]==r&&(s=parseInt(t[0]))})),Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Usuario"),fe),{NotariaID:l,OficinaID:s,nombre:o,apellido:e,mail:i,rut:n,rol:a,abogado_activo:!0}),setTimeout((function(){t.rellenarTabla()}),1500)}}},Ae=Se,Ee=(e("b5e0"),Object(p["a"])(Ae,me,ge,!1,null,"6106338f",null)),Ce=Ee.exports,Re=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"dashboard"}},[e("Menu",{attrs:{opciones:t.opcion}}),e("Navbar",{attrs:{username:t.username}}),e("div",{staticStyle:{padding:"50px","margin-left":"300px"}},[e("table",{staticClass:"table table-sm table-hover zui-table-rounded"},[t._m(0),t._l(t.items,(function(o,n){return e("tbody",{key:n,staticClass:"bodyTabla"},[e("tr",[e("th",{attrs:{scope:"row"}},[t._v(t._s(n+1))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.nombre))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.region))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.comuna))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.notario))]),e("td",[e("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"Basic example"}},[e("button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-3",modifiers:{"modal-3":!0}}],staticClass:"btn btn-secondary",staticStyle:{"background-color":"green"},attrs:{type:"button"},on:{click:function(e){return t.setIdtoUpdate(o.ID,o.nombre,o.rut,o.comuna,o.notario,o.dir)}}},[t._v("Editar")]),e("button",{staticClass:"btn btn-secondary",staticStyle:{"background-color":"red"},attrs:{type:"button"},on:{click:function(e){return t.erase(o.ID)}}},[t._v("Eliminar")])])])])])}))],2),e("button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-2",modifiers:{"modal-2":!0}}],staticClass:"btn btn-secondary",staticStyle:{"background-color":"blue"},attrs:{type:"button"}},[t._v("Agregar Notaria")]),e("b-modal",{attrs:{id:"modal-2","hide-footer":""}},[e("div",{staticClass:"d-flex justify-content-center titleModal"},[t._v("Agregar Notaria ")]),e("div",{staticClass:"row"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        Nombre Notaria\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{attrs:{id:"nombreNot",type:"text"}})]),e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        Comuna\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.comuna,expression:"comuna"}],staticClass:"form-select",attrs:{id:"comunaNot"},on:{change:function(o){var e=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.comuna=o.target.multiple?e:e[0]}}},t._l(t.comunasP,(function(o,n){return e("option",{key:n,domProps:{value:o.nombre}},[t._v(t._s(o.nombre))])})),0)]),e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        Nombre Notario\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{attrs:{id:"notarioNot",type:"text"}})]),e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        Rut Notario\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{attrs:{id:"rutNot",type:"text"}})]),e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        Direccion\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{attrs:{id:"dirNot",type:"text"}})])]),e("div",{staticClass:"d-flex justify-content-center SpaceItems"})])]),e("button",{attrs:{id:"ADDNOTARIA"},on:{click:function(o){return t.add()}}},[t._v("Agregar Notaria")])]),e("b-modal",{attrs:{id:"modal-3","hide-footer":""}},[e("div",{staticClass:"d-flex justify-content-center titleModal"},[t._v("Editar Notaria ")]),e("div",{staticClass:"row"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        Nombre Notaria\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{attrs:{id:"nombreNot2",type:"text"}})]),e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        Comunas\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.comuna,expression:"comuna"}],staticClass:"form-select",attrs:{id:"comunaNot2"},on:{change:function(o){var e=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.comuna=o.target.multiple?e:e[0]}}},t._l(t.comunasP,(function(o,n){return e("option",{key:n,domProps:{value:o.nombre}},[t._v(t._s(o.nombre))])})),0)]),e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        Nombre Notario\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{attrs:{id:"notarioNot2",type:"text"}})]),e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        Rut Notario\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{attrs:{id:"rutNot2",type:"text"}})]),e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        Direccion\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{attrs:{id:"dirNot2",type:"text"}})])]),e("div",{staticClass:"d-flex justify-content-center SpaceItems"})])]),e("button",{attrs:{id:"ADDNOTARIA"},on:{click:function(o){return t.update()}}},[t._v("Editar Notaria")])])],1)],1)},Ie=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("thead",{staticStyle:{color:"white","background-color":"#514BD5"}},[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("#")]),e("th",{attrs:{scope:"col"}},[t._v("Nombre")]),e("th",{attrs:{scope:"col"}},[t._v("Region")]),e("th",{attrs:{scope:"col"}},[t._v("Comuna")]),e("th",{attrs:{scope:"col"}},[t._v("Notario")]),e("th",{attrs:{scope:"col"}})])])}],Pe=(e("a15b"),[]),Ne=0;function De(){Object(O["e"])(Object(O["a"])(_m,"Notarias")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();Pe.push([t.id,o])}))}))}function ye(){var t,o=document.getElementById("nombreNot").value,e=document.getElementById("rutNot").value,n=document.getElementById("comunaNot").value.toUpperCase(),a=document.getElementById("notarioNot").value,i=document.getElementById("dirNot").value,r=!1;Te.forEach((function(o){o[1]["nombre"]==n&&(t=o[0],r=!0)})),r?Object(O["e"])(Object(O["a"])(_m,"Notarias")).then((function(n){var r=n.docs,c=2521;r.forEach((function(t){var o=parseInt(t.id);o>c&&(c=o)})),c+=1,Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Notarias"),c.toString()),{direccion:i,id_comuna:t.toString(),nombre_notario:a,nombre_organizacion:o,run_notario:e})})):alert("Esta comuna no existe")}var Te=[],Fe=[];function xe(){Object(O["e"])(Object(O["a"])(_m,"Comunas")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();Te.push([t.id,o])}))})),Object(O["e"])(Object(O["a"])(_m,"Regiones")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();console.log(t.id),Fe.push([t.id,o])}))}))}var ze,Me={data:function(){return{opcion:localStorage.my_opts.split(","),username:localStorage.user,items:[],misNotarias:[]}},name:"Dashboard",components:{Menu:B,Navbar:ut},props:{regionesP:{type:Array},comunasP:{type:Array}},methods:{rellenarTabla:function(){var t=this;this.items=[],Pe=[],console.log(localStorage.mis_regiones),De(),console.log("CHECK DATA"),console.log(this.regionesP),console.log(this.comunasP),setTimeout((function(){console.log(Pe),Pe.forEach((function(o){var e,n,a=o[1]["id_comuna"];Te.forEach((function(t){if(t[0]==a){e=t[1]["nombre"];var o=t[1]["id_region"].split(" ").join("");Fe.forEach((function(t){t[0]==o&&(n=t[1]["nombre"])}))}}));var i={nombre:o[1]["nombre_organizacion"],region:n,comuna:e,notario:o[1]["nombre_notario"],ID:o[0],rut:o[1]["run_notario"],dir:o[1]["direccion"]};t.misNotarias.push(o[1]),t.items.push(i)}))}),2e3)},add:function(){var t=this;ye(),setTimeout((function(){t.rellenarTabla()}),1e3)},setIdtoUpdate:function(t,o,e,n,a,i){Ne=t,console.log(Ne),setTimeout((function(){document.getElementById("nombreNot2").value=o,document.getElementById("rutNot2").value=e,document.getElementById("comunaNot2").value=n,document.getElementById("notarioNot2").value=a,document.getElementById("dirNot2").value=i}),300)},update:function(){var t,o=this,e=document.getElementById("comunaNot2").value.toUpperCase();Te.forEach((function(o){o[1]["nombre"]==e&&(t=o[0])})),Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Notarias"),Ne.toString()),{direccion:document.getElementById("dirNot2").value,id_comuna:t.toString(),nombre_notario:document.getElementById("notarioNot2").value,nombre_organizacion:document.getElementById("nombreNot2").value,run_notario:document.getElementById("rutNot2").value}),setTimeout((function(){o.rellenarTabla()}),1e3)},erase:function(t){var o=this;Object(O["b"])(Object(O["c"])(_m,"Notarias",t)),setTimeout((function(){o.rellenarTabla()}),1e3)}},mounted:function(){var t=this;this.rellenarTabla(),xe(),setTimeout((function(){var o=[];Te.forEach((function(t){console.log(t[1]),o.push(t[1])})),t.comunasP=o}),1e3)}},we=Me,Be=(e("8054"),Object(p["a"])(we,Re,Ie,!1,null,"20a1a6b8",null)),ke=Be.exports,qe=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"dashboard"}},[e("Menu",{attrs:{opciones:t.opcion}}),e("Navbar",{attrs:{username:t.username}}),e("div",{staticStyle:{padding:"50px","margin-left":"300px"}},[e("table",{staticClass:"table table-sm table-hover zui-table-rounded"},[t._m(0),t._l(t.items,(function(o,n){return e("tbody",{key:n,staticClass:"bodyTabla"},[e("tr",[e("th",{attrs:{scope:"row"}},[t._v(t._s(n+1))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.nombre))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.region))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.comuna))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.encargado))]),e("td",[e("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"Basic example"}},[e("button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-3",modifiers:{"modal-3":!0}}],staticClass:"btn btn-secondary",staticStyle:{"background-color":"green"},attrs:{type:"button"},on:{click:function(e){return t.setIdtoUpdate(o.ID,o.nombre,o.rut,o.comuna,o.encargado,o.dir)}}},[t._v("Editar")]),e("button",{staticClass:"btn btn-secondary",staticStyle:{"background-color":"red"},attrs:{type:"button"},on:{click:function(e){return t.erase(o.ID)}}},[t._v("Eliminar")])])])])])}))],2),e("button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-2",modifiers:{"modal-2":!0}}],staticClass:"btn btn-secondary",staticStyle:{"background-color":"blue"},attrs:{type:"button"}},[t._v("Agregar Oficina")]),e("b-modal",{attrs:{id:"modal-2","hide-footer":""}},[e("div",{staticClass:"d-flex justify-content-center titleModal"},[t._v("Agregar Oficina ")]),e("div",{staticClass:"row"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        Nombre Oficina\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{attrs:{id:"nombreNot",type:"text"}})]),e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        Comuna\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.comuna,expression:"comuna"}],staticClass:"form-select",attrs:{id:"comunaNot"},on:{change:function(o){var e=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.comuna=o.target.multiple?e:e[0]}}},t._l(t.comunasP,(function(o,n){return e("option",{key:n,domProps:{value:o.nombre}},[t._v(t._s(o.nombre))])})),0)]),e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        Encargado\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{attrs:{id:"notarioNot",type:"text"}})]),e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        Rut Encargado\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{attrs:{id:"rutNot",type:"text"}})]),e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        Direccion\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{attrs:{id:"dirNot",type:"text"}})])]),e("div",{staticClass:"d-flex justify-content-center SpaceItems"})])]),e("button",{attrs:{id:"ADDNOTARIA"},on:{click:function(o){return t.add()}}},[t._v("Agregar Oficina")])]),e("b-modal",{attrs:{id:"modal-3","hide-footer":""}},[e("div",{staticClass:"d-flex justify-content-center titleModal"},[t._v("Editar Oficina ")]),e("div",{staticClass:"row"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        Nombre Oficina\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{attrs:{id:"nombreNot2",type:"text"}})]),e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        Comuna\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.comuna,expression:"comuna"}],staticClass:"form-select",attrs:{id:"comunaNot2"},on:{change:function(o){var e=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.comuna=o.target.multiple?e:e[0]}}},t._l(t.comunasP,(function(o,n){return e("option",{key:n,domProps:{value:o.nombre}},[t._v(t._s(o.nombre))])})),0)]),e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        Nombre Encargado\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{attrs:{id:"notarioNot2",type:"text"}})]),e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        Rut Encargado\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{attrs:{id:"rutNot2",type:"text"}})]),e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        Direccion\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{attrs:{id:"dirNot2",type:"text"}})])]),e("div",{staticClass:"d-flex justify-content-center SpaceItems"})])]),e("button",{attrs:{id:"ADDNOTARIA"},on:{click:function(o){return t.update()}}},[t._v("Editar Oficina")])])],1)],1)},Ue=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("thead",{staticStyle:{color:"white","background-color":"#514BD5"}},[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("#")]),e("th",{attrs:{scope:"col"}},[t._v("Nombre")]),e("th",{attrs:{scope:"col"}},[t._v("Region")]),e("th",{attrs:{scope:"col"}},[t._v("Comuna")]),e("th",{attrs:{scope:"col"}},[t._v("Encargado")]),e("th",{attrs:{scope:"col"}})])])}],Le=[];function Ge(){Object(O["e"])(Object(O["a"])(_m,"Oficina")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();Le.push([t.id,o])}))}))}var Ve=[],$e=[];function He(){Object(O["e"])(Object(O["a"])(_m,"Comunas")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();Ve.push([t.id,o])}))})),Object(O["e"])(Object(O["a"])(_m,"Regiones")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();console.log(t.id),$e.push([t.id,o])}))}))}function Ye(){var t,o=document.getElementById("nombreNot").value,e=document.getElementById("rutNot").value,n=document.getElementById("comunaNot").value.toUpperCase(),a=document.getElementById("notarioNot").value,i=document.getElementById("dirNot").value,r=!1;Ve.forEach((function(o){o[1]["nombre"]==n&&(t=o[0],r=!0)})),r?Object(O["e"])(Object(O["a"])(_m,"Oficina")).then((function(n){var r=n.docs,c=0;r.forEach((function(t){var o=parseInt(t.id);o>c&&(c=o)})),c+=1,Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Oficina"),c.toString()),{direccion:i,id_comuna:t.toString(),nombre_encargado:a,nombre_organizacion:o,run_encargado:e})})):alert("Esta comuna no existe")}var Ze={mounted:function(){var t=this;this.rellenarTabla(),He(),setTimeout((function(){var o=[];Ve.forEach((function(t){console.log(t[1]),o.push(t[1])})),t.comunasP=o}),1e3)},name:"Dashboard",data:function(){return{opcion:localStorage.my_opts.split(","),username:localStorage.user,items:[]}},components:{Menu:B,Navbar:ut},props:{regionesP:{type:Array},comunasP:{type:Array}},methods:{rellenarTabla:function(){var t=this;this.items=[],Le=[],Ge(),He(),setTimeout((function(){Le.forEach((function(o){var e,n,a=o[1]["id_comuna"];Ve.forEach((function(t){if(t[0]==a){e=t[1]["nombre"];var o=t[1]["id_region"].split(" ").join("");$e.forEach((function(t){console.log(t[0]),t[0]==o&&(n=t[1]["nombre"])}))}}));var i={nombre:o[1]["nombre_organizacion"],region:n,comuna:e,encargado:o[1]["nombre_encargado"],dir:o[1]["direccion"],ID:o[0]};t.items.push(i)}))}),2e3)},add:function(){var t=this;Ye(),setTimeout((function(){t.rellenarTabla()}),1e3)},setIdtoUpdate:function(t,o,e,n,a,i){ze=t,console.log(ze),setTimeout((function(){document.getElementById("nombreNot2").value=o,document.getElementById("rutNot2").value=e,document.getElementById("comunaNot2").value=n,document.getElementById("notarioNot2").value=a,document.getElementById("dirNot2").value=i}),300)},update:function(){var t,o=this,e=document.getElementById("comunaNot2").value.toUpperCase();Ve.forEach((function(o){o[1]["nombre"]==e&&(t=o[0])})),Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Oficina"),ze.toString()),{direccion:document.getElementById("dirNot2").value,id_comuna:t.toString(),nombre_encargado:document.getElementById("notarioNot2").value,nombre_organizacion:document.getElementById("nombreNot2").value,run_encargado:document.getElementById("rutNot2").value}),setTimeout((function(){o.rellenarTabla()}),1e3)},erase:function(t){var o=this;Object(O["b"])(Object(O["c"])(_m,"Oficina",t)),setTimeout((function(){o.rellenarTabla()}),1e3)}}},Je=Ze,Xe=(e("39cf"),Object(p["a"])(Je,qe,Ue,!1,null,"4f154d25",null)),Ke=Xe.exports,Qe=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"dashboard"}},[e("Menu",{attrs:{opciones:t.opcion}}),e("Navbar",{attrs:{username:t.username}}),e("div",{ref:"content",staticClass:"right"},["FUNCIONARIOOFICINA"==t.rol?e("RequirenteFormulario",{on:{getnombreRequirente:t.getnombreRequirente,getrutRequirente:t.getrutRequirente,getCorreoRequirente:t.getCorreoRequirente,getFechaRequirente:t.getFechaRequirente}}):t._e(),e("AntecedentesFormulario",{attrs:{rol:t.rol},on:{gettipoDoc:t.gettipoDoc,getFOtorgamiento:t.getFOtorgamiento,getFSuscripcion:t.getFSuscripcion,getFAutorizacion:t.getFAutorizacion,getFProtocolizacion:t.getFProtocolizacion,getRepNotaria:t.getRepNotaria,getanioRepNotaria:t.getanioRepNotaria,getProhibGravEnajenar:t.getProhibGravEnajenar,getBienes:t.getBienes,getNotaria:t.getNotaria}}),e("AcreedorFormulario",{on:{gettipoPersona:t.gettipoPersona,getrun:t.getrun,getid:t.getid,getpais:t.getpais,getrut:t.getrut,getrazonsocial:t.getrazonsocial,getApaterno:t.getApaterno,getAmaterno:t.getAmaterno,getnombres:t.getnombres}}),e("ConstituyentesFormulario",{attrs:{modo:"Escribir"},on:{getConstituyentes:t.getConstituyentes}}),e("DeudoresFormulario",{attrs:{modo:"Escribir"},on:{getDeudores:t.getDeudores}}),e("VehiculosFormulario",{on:{getVehiculos:t.getVehiculos}}),"FUNCIONARIOOFICINA"!==t.rol?e("ContratoFormulario",{on:{getContrato:t.getContrato}}):t._e(),"FUNCIONARIOOFICINA"!==t.rol?e("AnexosFormulario",{on:{getAnexos:t.getAnexos}}):t._e(),e("Monto"),e("div",{staticClass:"row d-flex justify-content-center",attrs:{id:"contenedor"}},[e("button",{staticClass:"col-2 titleButton",on:{click:function(o){return t.crearInscripcion(!1)}}},[t._v("Guardar")]),e("button",{staticClass:"col-2 titleButton",on:{click:function(o){return t.crearInscripcion(!0)}}},[t._v("Enviar")])])],1)],1)},We=[],tn=(e("caad"),e("2532"),function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"row",attrs:{id:"contenedor"}},[e("div",{staticClass:"titleFormulario"},[t._v("Antecedentes")]),e("div",{staticClass:"row"},[e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                TIPO DE DOCUMENTO\n            ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.tipoDoc,expression:"tipoDoc"}],staticClass:"form-select",attrs:{id:"tipoDeDocumento"},on:{change:[function(o){var e=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.tipoDoc=o.target.multiple?e:e[0]},function(o){t.changeOption(),t.setData()}]}},[e("option",{attrs:{selected:"",value:"Publico"}},[t._v("Público")]),e("option",{attrs:{value:"Privado"}},[t._v("Privado")])])])]),"Publico"==t.option?e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                FECHA DE OTORGAMIENTO\n            ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.FOtorgamiento,expression:"FOtorgamiento"}],attrs:{type:"date",id:"FechaOtorgamiento"},domProps:{value:t.FOtorgamiento},on:{change:function(o){return t.setData()},input:function(o){o.target.composing||(t.FOtorgamiento=o.target.value)}}})])]):t._e(),"Publico"==t.option?e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                FECHA DE SUSCRIPCIÓN\n            ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.FSuscripcion,expression:"FSuscripcion"}],attrs:{type:"date",placeholder:"FSuscripcion",id:"FechaSubscripcion"},domProps:{value:t.FSuscripcion},on:{change:function(o){return t.setData()},input:function(o){o.target.composing||(t.FSuscripcion=o.target.value)}}})])]):t._e(),"Privado"==t.option?e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                FECHA DE AUTORIZACIÓN\n            ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.FAutorizacion,expression:"FAutorizacion"}],attrs:{type:"date",placeholder:"FAutorizacion",id:"FechaAutorizacion"},domProps:{value:t.FAutorizacion},on:{change:function(o){return t.setData()},input:function(o){o.target.composing||(t.FAutorizacion=o.target.value)}}})])]):t._e(),"Privado"==t.option?e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                FECHA DE PROTOCOLIZACIÓN\n            ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.FProtocolizacion,expression:"FProtocolizacion"}],attrs:{type:"date",placeholder:"FProtocolizacion",id:"FechaProtocolizacion"},domProps:{value:t.FProtocolizacion},on:{change:function(o){return t.setData()},input:function(o){o.target.composing||(t.FProtocolizacion=o.target.value)}}})])]):t._e()]),e("div",{staticClass:"row"},[e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                N DE REPERTORIO DE NOTARIA\n            ")]),e("div",{staticClass:"d-flex justify-content-start"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.RepNotaria,expression:"RepNotaria"}],staticClass:"nrepertorioleft",attrs:{type:"text",placeholder:"Folio",id:"foliorepnontaria"},domProps:{value:t.RepNotaria},on:{change:function(o){return t.setData()},input:function(o){o.target.composing||(t.RepNotaria=o.target.value)}}}),t._v("-"),e("input",{directives:[{name:"model",rawName:"v-model",value:t.anioRepNotaria,expression:"anioRepNotaria"}],staticClass:"nrepertorioright",attrs:{type:"text",id:"anorepnotaria",placeholder:"Ano"},domProps:{value:t.anioRepNotaria},on:{change:function(o){return t.setData()},input:function(o){o.target.composing||(t.anioRepNotaria=o.target.value)}}})])]),e("div",{staticClass:"col row Space"},[e("div",{staticClass:"form-check "},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.ProhibGravEnajenar,expression:"ProhibGravEnajenar"}],staticClass:"form-check-input",attrs:{type:"checkbox",value:"",id:"gravaroenajenar"},domProps:{checked:Array.isArray(t.ProhibGravEnajenar)?t._i(t.ProhibGravEnajenar,"")>-1:t.ProhibGravEnajenar},on:{change:[function(o){var e=t.ProhibGravEnajenar,n=o.target,a=!!n.checked;if(Array.isArray(e)){var i="",r=t._i(e,i);n.checked?r<0&&(t.ProhibGravEnajenar=e.concat([i])):r>-1&&(t.ProhibGravEnajenar=e.slice(0,r).concat(e.slice(r+1)))}else t.ProhibGravEnajenar=a},function(o){return t.setData()}]}}),e("label",{staticClass:"form-check-label d-flex align-items-start",attrs:{for:"defaultCheck1"}},[t._v("\n                    PROHIBICIÓN DE GRAVAR O ENAJENAR\n                ")])])])]),e("div",{staticClass:"row"},[t._m(0),"FUNCIONARIOOFICINA"==t.rol?e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                NOTARIAS\n            ")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.notaria,expression:"notaria"}],staticClass:"form-select",attrs:{id:"notaria"},on:{change:[function(o){var e=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.notaria=o.target.multiple?e:e[0]},function(o){t.changeOption(),t.setData()}]}},t._l(t.notariasP,(function(o,n){return e("option",{key:n,domProps:{value:o.organizacion}},[t._v(t._s(o.organizacion))])})),0)]):t._e()])])}),on=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"row right"},[e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                    BIENES PRENDADOS\n                ")]),e("div",{staticClass:"form-check"},[e("input",{staticClass:"form-check-input",attrs:{type:"checkbox",value:"ACTIVO FIJO",id:"checkinscactfijo"}}),e("label",{staticClass:"form-check-label d-flex justify-content-start",attrs:{for:"checkinscactfijo"}},[t._v("ACTIVO FIJO")])]),e("div",{staticClass:"form-check"},[e("input",{staticClass:"form-check-input",attrs:{type:"checkbox",value:"BIENES AGROPECUARIOS",id:"checkinscbagropec"}}),e("label",{staticClass:"form-check-label d-flex justify-content-start",attrs:{for:"checkinscbagropec"}},[t._v("BIENES AGROPECUARIOS")])]),e("div",{staticClass:"form-check"},[e("input",{staticClass:"form-check-input",attrs:{type:"checkbox",value:"DERECHIS E INTANGIBLES",id:"checkinscderecheint"}}),e("label",{staticClass:"form-check-label d-flex justify-content-start",attrs:{for:"checkinscderecheint"}},[t._v("DERECHOS E INTANGIBLES")])]),e("div",{staticClass:"form-check"},[e("input",{staticClass:"form-check-input",attrs:{type:"checkbox",value:"VEHICULOS",id:"checkinscvehic"}}),e("label",{staticClass:"form-check-label d-flex justify-content-start",attrs:{for:"checkinscvehic"}},[t._v("VEHICULOS")])])])])}],en={name:"AntecedentesFormularios",data:function(){return{listBienesPrendados:["ACTIVO FIJO","BIENES AGROPECUARIOS","DERECHOS E INTANGIBLES","VEHICULOS"],option:"Publico"}},props:{rol:{type:String,default:"FUNCIONARIONOTARIA"},notariasP:{type:Array,default:A},tipoDoc:{type:String,default:"Público"},FOtorgamiento:{type:String,default:""},FSuscripcion:{type:String,default:""},FAutorizacion:{type:String,default:""},FProtocolizacion:{type:String,default:""},RepNotaria:{type:String,default:""},anioRepNotaria:{type:String,default:""},ProhibGravEnajenar:{type:Boolean,default:!1},notaria:{type:String,default:""}},methods:{changeOption:function(){var t=document.getElementById("tipoDeDocumento");this.option=t.options[t.selectedIndex].value},setData:function(){this.$emit("getNotaria",this.notaria),this.$emit("gettipoDoc",this.tipoDoc),this.$emit("getFOtorgamiento",this.FOtorgamiento),this.$emit("getFSuscripcion",this.FSuscripcion),this.$emit("getFAutorizacion",this.FAutorizacion),this.$emit("getFProtocolizacion",this.FProtocolizacion),console.log("AQUI696969"),console.log(this.RepNotaria,this.anioRepNotaria),this.$emit("getRepNotaria",this.RepNotaria),this.$emit("getanioRepNotaria",this.anioRepNotaria),this.$emit("getProhibGravEnajenar",this.ProhibGravEnajenar),this.$emit("getBienes",[document.getElementById("0").checked,document.getElementById("1").checked,document.getElementById("2").checked,document.getElementById("3").checked]),console.log([document.getElementById("0").checked,document.getElementById("1").checked,document.getElementById("2").checked,document.getElementById("3").checked])}}},nn=en,an=(e("f26a"),Object(p["a"])(nn,tn,on,!1,null,"e50eb342",null)),rn=an.exports,cn=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"row",attrs:{id:"contenedor"}},[e("div",{staticClass:"titleFormulario"},[t._v("Acreedor")]),e("div",{staticClass:"row"},[e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                TIPO DE PERSONA\n            ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.tipoPersona,expression:"tipoPersona"}],staticClass:"form-select",attrs:{id:"tipodepersona"},on:{change:[function(o){var e=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.tipoPersona=o.target.multiple?e:e[0]},function(o){t.changeOption(),t.setData()}]}},[e("option",{attrs:{selected:"",value:"Natural"}},[t._v("Natural")]),e("option",{attrs:{value:"Juridica"}},[t._v("Juridica")]),e("option",{attrs:{value:"Extranjero"}},[t._v("Extranjero")])])])]),"Natural"==t.tipoPersona?e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                RUN\n            ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.run,expression:"run"}],attrs:{type:"text",id:"runacreedor"},domProps:{value:t.run},on:{change:function(o){return t.setData()},input:function(o){o.target.composing||(t.run=o.target.value)}}})])]):t._e(),"Extranjero"==t.tipoPersona?e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                ID\n            ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.id,expression:"id"}],attrs:{type:"text",id:"runacreedor"},domProps:{value:t.id},on:{change:function(o){return t.setData()},input:function(o){o.target.composing||(t.id=o.target.value)}}})])]):t._e(),"Extranjero"==t.tipoPersona?e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                PAÍS\n            ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.pais,expression:"pais"}],staticClass:"form-select",attrs:{id:"paisacreedor"},on:{change:[function(o){var e=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.pais=o.target.multiple?e:e[0]},function(o){t.changeOption(),t.getData()}]}},t._l(t.countries,(function(o,n){return e("option",{key:n,domProps:{value:o.name}},[t._v(t._s(o.name))])})),0)])]):t._e(),"Juridica"==t.tipoPersona?e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                RUT\n            ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.rut,expression:"rut"}],attrs:{type:"text",id:"runacreedor"},domProps:{value:t.rut},on:{change:function(o){return t.setData()},input:function(o){o.target.composing||(t.rut=o.target.value)}}})])]):t._e(),"Juridica"==t.tipoPersona?e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n               RAZÓN SOCIAL\n            ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.razonsocial,expression:"razonsocial"}],attrs:{type:"text",id:"nombresacreedor"},domProps:{value:t.razonsocial},on:{change:function(o){return t.setData()},input:[function(o){o.target.composing||(t.razonsocial=o.target.value)},function(o){t.razonsocial=t.razonsocial.toUpperCase()}]}})])]):t._e()]),"Natural"==t.tipoPersona?e("div",{staticClass:"row"},[e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                APELLIDO PATERNO\n            ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.Apaterno,expression:"Apaterno"}],attrs:{type:"text",id:"apellidopaterno"},domProps:{value:t.Apaterno},on:{change:function(o){return t.setData()},input:[function(o){o.target.composing||(t.Apaterno=o.target.value)},function(o){t.Apaterno=t.Apaterno.toUpperCase()}]}})])]),e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                APELLIDO MATERNO\n            ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.Amaterno,expression:"Amaterno"}],attrs:{type:"text",id:"apellidomaterno"},domProps:{value:t.Amaterno},on:{change:function(o){return t.setData()},input:[function(o){o.target.composing||(t.Amaterno=o.target.value)},function(o){t.Amaterno=t.Amaterno.toUpperCase()}]}})])]),e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                NOMBRES\n            ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.nombres,expression:"nombres"}],attrs:{type:"text",id:"nombresacreedor"},domProps:{value:t.nombres},on:{change:function(o){return t.setData()},input:[function(o){o.target.composing||(t.nombres=o.target.value)},function(o){t.nombres=t.nombres.toUpperCase()}]}})])])]):t._e(),"Extranjero"==t.tipoPersona?e("div",{staticClass:"row"},[e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                NOMBRE COMPLETO\n            ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.nombrecompleto,expression:"nombrecompleto"}],attrs:{type:"text",id:"nombrecompleto"},domProps:{value:t.nombrecompleto},on:{change:function(o){return t.setData()},input:[function(o){o.target.composing||(t.nombrecompleto=o.target.value)},function(o){t.nombrecompleto=t.nombrecompleto.toUpperCase()}]}})])])]):t._e()])},sn=[],ln={countries:[{id:144,name:"Afganistán"},{id:114,name:"Albania"},{id:18,name:"Alemania"},{id:98,name:"Algeria"},{id:145,name:"Andorra"},{id:119,name:"Angola"},{id:4,name:"Anguilla"},{id:147,name:"Antigua y Barbuda"},{id:207,name:"Antillas Holandesas"},{id:91,name:"Arabia Saudita"},{id:5,name:"Argentina"},{id:6,name:"Armenia"},{id:142,name:"Aruba"},{id:1,name:"Australia"},{id:2,name:"Austria"},{id:3,name:"Azerbaiyán"},{id:80,name:"Bahamas"},{id:127,name:"Bahrein"},{id:149,name:"Bangladesh"},{id:128,name:"Barbados"},{id:9,name:"Bélgica"},{id:8,name:"Belice"},{id:151,name:"Benín"},{id:10,name:"Bermudas"},{id:7,name:"Bielorrusia"},{id:123,name:"Bolivia"},{id:79,name:"Bosnia y Herzegovina"},{id:100,name:"Botsuana"},{id:12,name:"Brasil"},{id:155,name:"Brunéi"},{id:11,name:"Bulgaria"},{id:156,name:"Burkina Faso"},{id:157,name:"Burundi"},{id:152,name:"Bután"},{id:159,name:"Cabo Verde"},{id:158,name:"Camboya"},{id:31,name:"Camerún"},{id:32,name:"Canadá"},{id:130,name:"Chad"},{id:81,name:"Chile"},{id:35,name:"China"},{id:33,name:"Chipre"},{id:82,name:"Colombia"},{id:164,name:"Comores"},{id:112,name:"Congo (Brazzaville)"},{id:165,name:"Congo (Kinshasa)"},{id:166,name:"Cook, Islas"},{id:84,name:"Corea del Norte"},{id:69,name:"Corea del Sur"},{id:168,name:"Costa de Marfil"},{id:36,name:"Costa Rica"},{id:71,name:"Croacia"},{id:113,name:"Cuba"},{id:22,name:"Dinamarca"},{id:169,name:"Djibouti, Yibuti"},{id:103,name:"Ecuador"},{id:23,name:"Egipto"},{id:51,name:"El Salvador"},{id:93,name:"Emiratos Árabes Unidos"},{id:173,name:"Eritrea"},{id:52,name:"Eslovaquia"},{id:53,name:"Eslovenia"},{id:28,name:"España"},{id:55,name:"Estados Unidos"},{id:68,name:"Estonia"},{id:121,name:"Etiopía"},{id:175,name:"Feroe, Islas"},{id:90,name:"Filipinas"},{id:63,name:"Finlandia"},{id:176,name:"Fiyi"},{id:64,name:"Francia"},{id:180,name:"Gabón"},{id:181,name:"Gambia"},{id:21,name:"Georgia"},{id:105,name:"Ghana"},{id:143,name:"Gibraltar"},{id:184,name:"Granada"},{id:20,name:"Grecia"},{id:94,name:"Groenlandia"},{id:17,name:"Guadalupe"},{id:185,name:"Guatemala"},{id:186,name:"Guernsey"},{id:187,name:"Guinea"},{id:172,name:"Guinea Ecuatorial"},{id:188,name:"Guinea-Bissau"},{id:189,name:"Guyana"},{id:16,name:"Haiti"},{id:137,name:"Honduras"},{id:73,name:"Hong Kong"},{id:14,name:"Hungría"},{id:25,name:"India"},{id:74,name:"Indonesia"},{id:140,name:"Irak"},{id:26,name:"Irán"},{id:27,name:"Irlanda"},{id:215,name:"Isla Pitcairn"},{id:83,name:"Islandia"},{id:228,name:"Islas Salomón"},{id:58,name:"Islas Turcas y Caicos"},{id:154,name:"Islas Virgenes Británicas"},{id:24,name:"Israel"},{id:29,name:"Italia"},{id:132,name:"Jamaica"},{id:70,name:"Japón"},{id:193,name:"Jersey"},{id:75,name:"Jordania"},{id:30,name:"Kazajstán"},{id:97,name:"Kenia"},{id:34,name:"Kirguistán"},{id:195,name:"Kiribati"},{id:37,name:"Kuwait"},{id:196,name:"Laos"},{id:197,name:"Lesotho"},{id:38,name:"Letonia"},{id:99,name:"Líbano"},{id:198,name:"Liberia"},{id:39,name:"Libia"},{id:126,name:"Liechtenstein"},{id:40,name:"Lituania"},{id:41,name:"Luxemburgo"},{id:85,name:"Macedonia"},{id:134,name:"Madagascar"},{id:76,name:"Malasia"},{id:125,name:"Malawi"},{id:200,name:"Maldivas"},{id:133,name:"Malí"},{id:86,name:"Malta"},{id:131,name:"Man, Isla de"},{id:104,name:"Marruecos"},{id:201,name:"Martinica"},{id:202,name:"Mauricio"},{id:108,name:"Mauritania"},{id:42,name:"México"},{id:43,name:"Moldavia"},{id:44,name:"Mónaco"},{id:139,name:"Mongolia"},{id:117,name:"Mozambique"},{id:205,name:"Myanmar"},{id:102,name:"Namibia"},{id:206,name:"Nauru"},{id:107,name:"Nepal"},{id:209,name:"Nicaragua"},{id:210,name:"Níger"},{id:115,name:"Nigeria"},{id:212,name:"Norfolk Island"},{id:46,name:"Noruega"},{id:208,name:"Nueva Caledonia"},{id:45,name:"Nueva Zelanda"},{id:213,name:"Omán"},{id:19,name:"Países Bajos, Holanda"},{id:87,name:"Pakistán"},{id:124,name:"Panamá"},{id:88,name:"Papúa-Nueva Guinea"},{id:110,name:"Paraguay"},{id:89,name:"Perú"},{id:178,name:"Polinesia Francesa"},{id:47,name:"Polonia"},{id:48,name:"Portugal"},{id:246,name:"Puerto Rico"},{id:216,name:"Qatar"},{id:13,name:"Reino Unido"},{id:65,name:"República Checa"},{id:138,name:"República Dominicana"},{id:49,name:"Reunion"},{id:217,name:"Ruanda"},{id:72,name:"Rumanía"},{id:50,name:"Rusia"},{id:242,name:"Sáhara Occidental"},{id:223,name:"Samoa"},{id:219,name:"San Cristobal y Nevis"},{id:224,name:"San Marino"},{id:221,name:"San Pedro y Miquelón"},{id:225,name:"San Tomé y Príncipe"},{id:222,name:"San Vincente y Granadinas"},{id:218,name:"Santa Elena"},{id:220,name:"Santa Lucía"},{id:135,name:"Senegal"},{id:226,name:"Serbia y Montenegro"},{id:109,name:"Seychelles"},{id:227,name:"Sierra Leona"},{id:77,name:"Singapur"},{id:106,name:"Siria"},{id:229,name:"Somalia"},{id:120,name:"Sri Lanka"},{id:141,name:"Sudáfrica"},{id:232,name:"Sudán"},{id:67,name:"Suecia"},{id:66,name:"Suiza"},{id:54,name:"Surinam"},{id:234,name:"Swazilandia"},{id:56,name:"Tadjikistan"},{id:92,name:"Tailandia"},{id:78,name:"Taiwan"},{id:101,name:"Tanzania"},{id:171,name:"Timor Oriental"},{id:136,name:"Togo"},{id:235,name:"Tokelau"},{id:236,name:"Tonga"},{id:237,name:"Trinidad y Tobago"},{id:122,name:"Túnez"},{id:57,name:"Turkmenistan"},{id:59,name:"Turquía"},{id:239,name:"Tuvalu"},{id:62,name:"Ucrania"},{id:60,name:"Uganda"},{id:111,name:"Uruguay"},{id:61,name:"Uzbekistán"},{id:240,name:"Vanuatu"},{id:95,name:"Venezuela"},{id:15,name:"Vietnam"},{id:241,name:"Wallis y Futuna"},{id:243,name:"Yemen"},{id:116,name:"Zambia"},{id:96,name:"Zimbabwe"}]},un={name:"AcreedorFormularios",data:function(){var t=ln.countries;return{listBienesPrendados:["ACTIVO FIJO","BIENES AGROPECUARIOS","DERECHOS E INTANGIBLES","VEHICULOS"],countries:t}},methods:{changeOption:function(){var t=document.getElementById("tipoDePersona");this.option=t.options[t.selectedIndex].value},setData:function(){this.$emit("gettipoPersona",this.tipoPersona.toString()),this.$emit("getrun",this.run.toString()),this.$emit("getid",this.id.toString()),this.$emit("getpais",this.pais.toString()),this.$emit("getrut",this.rut.toString()),this.$emit("getrazonsocial",this.razonsocial.toString()),this.$emit("getApaterno",this.Apaterno.toString()),this.$emit("getAmaterno",this.Amaterno.toString()),this.$emit("getnombres",this.nombres.toString())}},props:{nombrecompleto:{type:String,default:""},tipoPersona:{type:String,default:"Natural"},run:{type:String,default:""},id:{type:String,default:""},pais:{type:String,default:"Chile"},rut:{type:String,default:""},razonsocial:{type:String,default:""},Apaterno:{type:String,default:""},Amaterno:{type:String,default:""},nombres:{type:String,default:""}}},dn=un,pn=(e("eccb"),Object(p["a"])(dn,cn,sn,!1,null,"3a649f5d",null)),mn=pn.exports,gn=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"row",attrs:{id:"contenedor"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"titleFormulario col"},[t._v("Constituyentes ")]),"Escribir"==t.modo?e("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1",modifiers:{"modal-1":!0}}],staticClass:"col buttonAdd"},[t._v("+")]):t._e(),"Escribir"==t.modo?e("b-modal",{attrs:{id:"modal-1","hide-footer":""}},[e("div",{staticClass:"row"},[e("div",{staticClass:"d-flex justify-content-center titleModal"},[t._v("CONSTITUYENTE ")]),e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        TIPO DE PERSONA\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.tipoDePersonaConstituyente,expression:"tipoDePersonaConstituyente"}],staticClass:"form-select",attrs:{id:"tipoDePersonaConstituyente"},on:{change:[function(o){var e=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.tipoDePersonaConstituyente=o.target.multiple?e:e[0]},function(o){t.changeOption(),t.setData(),t.clean(),t.setVars()}]}},[e("option",{attrs:{selected:"",value:"Natural"}},[t._v("Natural")]),e("option",{attrs:{value:"Juridica"}},[t._v("Juridica")]),e("option",{attrs:{value:"Extranjero"}},[t._v("Extranjero")])])])]),"Natural"==t.option?e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        RUN\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.run,expression:"run"}],attrs:{type:"text",id:"run"},domProps:{value:t.run},on:{input:function(o){o.target.composing||(t.run=o.target.value)}}})])]):t._e(),"Extranjero"==t.option?e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        ID\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.id,expression:"id"}],attrs:{type:"text",id:"id"},domProps:{value:t.id},on:{input:function(o){o.target.composing||(t.id=o.target.value)}}})])]):t._e(),"Juridica"==t.option?e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        RUT\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.rut,expression:"rut"}],attrs:{type:"text",id:"rut"},domProps:{value:t.rut},on:{input:function(o){o.target.composing||(t.rut=o.target.value)}}})])]):t._e(),"Juridica"==t.option?e("div",{staticClass:"row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        RAZON SOCIAL\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.razonsocial,expression:"razonsocial"}],attrs:{type:"text",id:"razonsocial"},domProps:{value:t.razonsocial},on:{input:[function(o){o.target.composing||(t.razonsocial=o.target.value)},function(o){t.razonsocial=t.razonsocial.toUpperCase()}]}})])]):t._e()]),"Natural"==t.option?e("div",{staticClass:"row"},[e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex"},[t._v("\n                            APELLIDO PATERNO\n                        ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.apellidopaterno,expression:"apellidopaterno"}],attrs:{id:"apellidopaterno",type:"text"},domProps:{value:t.apellidopaterno},on:{input:[function(o){o.target.composing||(t.apellidopaterno=o.target.value)},function(o){t.apellidopaterno=t.apellidopaterno.toUpperCase()}]}})])]),e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex "},[t._v("\n                           APELLIDO MATERNO\n                        ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.apellidomaterno,expression:"apellidomaterno"}],attrs:{id:"apellidomaterno",type:"text"},domProps:{value:t.apellidomaterno},on:{input:[function(o){o.target.composing||(t.apellidomaterno=o.target.value)},function(o){t.apellidomaterno=t.apellidomaterno.toUpperCase()}]}})])]),e("div",{staticClass:"row"},[e("div",{staticClass:"titles d-flex "},[t._v("\n                        NOMBRES\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.nombres,expression:"nombres"}],attrs:{id:"nombres",type:"text"},domProps:{value:t.nombres},on:{input:[function(o){o.target.composing||(t.nombres=o.target.value)},function(o){t.nombres=t.nombres.toUpperCase()}]}})])])]):t._e(),"Extranjero"==t.option?e("div",{staticClass:"row"},[e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex "},[t._v("\n                        NOMBRE COMPLETO\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.nombrecompleto,expression:"nombrecompleto"}],attrs:{id:"nonmbrecompleto",type:"text"},domProps:{value:t.nombrecompleto},on:{input:[function(o){o.target.composing||(t.nombrecompleto=o.target.value)},function(o){t.nombrecompleto=t.nombrecompleto.toUpperCase()}]}})])]),"Extranjero"==t.option?e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        PAÍS\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.pais,expression:"pais"}],staticClass:"form-select",attrs:{id:"pais"},on:{change:[function(o){var e=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.pais=o.target.multiple?e:e[0]},function(o){t.changeOption(),t.getData()}]}},t._l(t.countries,(function(o,n){return e("option",{key:n,domProps:{value:o.name}},[t._v(t._s(o.name))])})),0)])]):t._e()]):t._e(),e("b-button",{attrs:{id:"ADDConstituyente"},on:{click:function(o){t.add(),t.setData(),t.clean()}}},[t._v("Agregar Constituyente")])],1):t._e()],1),e("table",{staticClass:"table"},[t._m(0),0==t.items.length?e("tbody",{staticClass:"bodyTabla"},[e("td",[t._v("No data")])]):t._l(t.items,(function(o,n){return e("tbody",{key:n,staticClass:"bodyTabla",attrs:{id:"tablaconstituyentes"},on:{change:function(o){return t.setData()}}},[e("td",[t._v(t._s(o.Tipo))]),e("td",[t._v(t._s(o.Id))]),e("td",[t._v(t._s(o.Name))]),e("td",[t._v(t._s(o.Pais))]),e("td",[e("p",{attrs:{type:"button"},on:{click:function(o){t.borrar(n),t.setData()}}},[t._v("X")])])])}))],2)])},hn=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("thead",{staticClass:"encabezadoTabla"},[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("TIPO DE PERSONA")]),e("th",{attrs:{scope:"col"}},[t._v("IDENTIFICADOR")]),e("th",{attrs:{scope:"col"}},[t._v("NOMBRE/RAZON")]),e("th",{attrs:{scope:"col"}},[t._v("PAIS")]),e("th",{attrs:{scope:"col"}})])])}],fn={mounted:function(){this.items.length=0},name:"ConstituyenteFormulario",data:function(){var t=ln.countries;return{option:"Natural",countries:t,idDocumento:"",nombrePersona:"",pais:"Chile"}},props:{items:{type:Array,default:new Array},nombrecompleto:{type:String,default:""},modo:String,tipoPersona:{type:String,default:"Natural"},run:{type:String,default:""},id:{type:String,default:""},rut:{type:String,default:""},razonsocial:{type:String,default:""},Apaterno:{type:String,default:""},Amaterno:{type:String,default:""},nombres:{type:String,default:""}},methods:{changeOption:function(){var t=document.getElementById("tipoDePersonaConstituyente");this.option=t.options[t.selectedIndex].value},borrar:function(t){this.items.splice(t,1)},add:function(){var t=this,o=new XMLHttpRequest,e="";"Natural"==this.option?e="http://ec2-75-101-231-83.compute-1.amazonaws.com:4030/api/users/user?run="+this.run:"Juridica"==this.option?e="http://ec2-75-101-231-83.compute-1.amazonaws.com:4030/api/users/user?run="+this.rut:"Extranjero"==this.option&&(e="http://ec2-75-101-231-83.compute-1.amazonaws.com:4030/api/users/user?run="+this.id),console.log("jhajs"),o.open("GET",e),o.send(),o.onload=function(){if(200==o.status){var e=JSON.parse(o.response);if(e.valid){if("Natural"==t.option){var n={Tipo:t.option,Id:t.run,Name:t.nombres+" "+t.apellidopaterno+" "+t.apellidomaterno,Pais:t.pais};t.items.push(n)}else if("Juridica"==t.option){var a={Tipo:t.option,Id:t.rut,Name:t.razonsocial,Pais:t.pais};t.items.push(a)}else if("Extranjero"==t.option){var i={Tipo:t.option,Id:t.id,Name:t.nombrecompleto,Pais:t.pais};t.items.push(i)}t.run="",t.nombres="",t.apellidopaterno="",t.apellidomaterno="",t.pais="Chile",t.option="Natural",t.rut="",t.razonsocial="",t.id="",t.nombrecompleto=""}else alert(e.msg)}else alert("No se mando correctamente la persona, intentelo de nuevo")}},clean:function(){console.log("MYDATA"),console.log("limpiar campos aqui")},setData:function(){this.$emit("getConstituyentes",this.items)}}},vn=fn,bn=(e("61f8"),Object(p["a"])(vn,gn,hn,!1,null,"adb7deee",null)),On=bn.exports,_n=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"row",attrs:{id:"contenedor"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"titleFormulario col"},[t._v("Deudores ")]),"Escribir"==t.modo?e("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-3",modifiers:{"modal-3":!0}}],staticClass:"col buttonAdd"},[t._v("+")]):t._e(),"Escribir"==t.modo?e("b-modal",{attrs:{id:"modal-3","hide-footer":""}},[e("div",{staticClass:"row"},[e("div",{staticClass:"d-flex justify-content-center titleModal"},[t._v("DEUDOR ")]),e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        TIPO DE PERSONA\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("select",{staticClass:"form-select",attrs:{id:"tipoDePersonaDeudor"},on:{change:function(o){t.changeOption(),t.setData(),t.clean()}}},[e("option",{attrs:{selected:"",value:"Natural"}},[t._v("Natural")]),e("option",{attrs:{value:"Juridica"}},[t._v("Juridica")]),e("option",{attrs:{value:"Extranjero"}},[t._v("Extranjero")])])])]),"Natural"==t.option?e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        RUN\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.run,expression:"run"}],attrs:{type:"text",id:"run"},domProps:{value:t.run},on:{input:function(o){o.target.composing||(t.run=o.target.value)}}})])]):t._e(),"Extranjero"==t.option?e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        ID\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.id,expression:"id"}],attrs:{type:"text",id:"id"},domProps:{value:t.id},on:{input:function(o){o.target.composing||(t.id=o.target.value)}}})])]):t._e(),"Juridica"==t.option?e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        RUT\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.rut,expression:"rut"}],attrs:{type:"text",id:"rut"},domProps:{value:t.rut},on:{input:function(o){o.target.composing||(t.rut=o.target.value)}}})])]):t._e(),"Juridica"==t.option?e("div",{staticClass:"row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        RAZON SOCIAL\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.razonsocial,expression:"razonsocial"}],attrs:{type:"text",id:"razonsocial"},domProps:{value:t.razonsocial},on:{input:[function(o){o.target.composing||(t.razonsocial=o.target.value)},function(o){t.razonsocial=t.razonsocial.toUpperCase()}]}})])]):t._e()]),"Natural"==t.option?e("div",{staticClass:"row"},[e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex"},[t._v("\n                            APELLIDO PATERNO\n                        ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.apellidopaterno,expression:"apellidopaterno"}],attrs:{type:"text",id:"apellidopaterno"},domProps:{value:t.apellidopaterno},on:{input:[function(o){o.target.composing||(t.apellidopaterno=o.target.value)},function(o){t.apellidopaternos=t.apellidopaterno.toUpperCase()}]}})])]),e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex "},[t._v("\n                           APELLIDO MATERNO\n                        ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.apellidomaterno,expression:"apellidomaterno"}],attrs:{type:"text",id:"apellidomaterno"},domProps:{value:t.apellidomaterno},on:{input:[function(o){o.target.composing||(t.apellidomaterno=o.target.value)},function(o){t.apellidomaterno=t.apellidomaterno.toUpperCase()}]}})])]),e("div",{staticClass:"row"},[e("div",{staticClass:"titles d-flex "},[t._v("\n                        NOMBRES\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.nombres,expression:"nombres"}],attrs:{type:"text",id:"nombres"},domProps:{value:t.nombres},on:{input:[function(o){o.target.composing||(t.nombres=o.target.value)},function(o){t.nombres=t.nombres.toUpperCase()}]}})])])]):t._e(),"Extranjero"==t.option?e("div",{staticClass:"row"},[e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex "},[t._v("\n                        NOMBRE COMPLETO\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.nombrecompleto,expression:"nombrecompleto"}],attrs:{id:"nonmbrecompleto",type:"text"},domProps:{value:t.nombrecompleto},on:{input:[function(o){o.target.composing||(t.nombrecompleto=o.target.value)},function(o){t.nombrecompleto=t.nombrecompleto.toUpperCase()}]}})])]),"Extranjero"==t.option?e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        PAÍS\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.pais,expression:"pais"}],staticClass:"form-select",attrs:{id:"pais"},on:{change:[function(o){var e=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.pais=o.target.multiple?e:e[0]},function(o){t.changeOption(),t.getData()}]}},t._l(t.countries,(function(o,n){return e("option",{key:n,domProps:{value:o.name}},[t._v(t._s(o.name))])})),0)])]):t._e()]):t._e(),e("b-button",{attrs:{id:"ADDDeudor"},on:{click:function(o){t.add(),t.setData(),t.clean()}}},[t._v("Agregar Deudor")])],1):t._e()],1),e("table",{staticClass:"table"},[t._m(0),0==t.items.length?e("tbody",{staticClass:"bodyTabla"},[e("td",[t._v("No data")])]):t._l(t.items,(function(o,n){return e("tbody",{key:n,staticClass:"bodyTabla",attrs:{id:"tabladeudores"},on:{change:function(o){return t.setData()}}},[e("td",[t._v(t._s(o.Tipo))]),e("td",[t._v(t._s(o.Id))]),e("td",[t._v(t._s(o.Name))]),e("td",[t._v(t._s(o.Pais))]),e("td",[e("p",{attrs:{type:"button"},on:{click:function(o){t.borrar(n),t.setData()}}},[t._v("X")])])])}))],2)])},jn=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("thead",{staticClass:"encabezadoTabla"},[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("TIPO DE PERSONA")]),e("th",{attrs:{scope:"col"}},[t._v("IDENTIFICADOR")]),e("th",{attrs:{scope:"col"}},[t._v("NOMBRE/RAZON")]),e("th",{attrs:{scope:"col"}},[t._v("PAIS")]),e("th",{attrs:{scope:"col"}})])])}],Sn={name:"AcreedorFormularios",mounted:function(){this.items.length=0},data:function(){var t=ln.countries;return{option:"Natural",headers:["Tipo","Id","Name"],run:"",id:"",rut:"",nombres:"",razonsocial:"",countries:t,pais:"Chile",apellidopaterno:"",apellidomaterno:"",nombrecompleto:""}},props:{items:{type:Array,default:new Array},modo:String},methods:{borrar:function(t){this.items.splice(t,1)},changeOption:function(){var t=document.getElementById("tipoDePersonaDeudor");this.option=t.options[t.selectedIndex].value},add:function(){var t=this,o=new XMLHttpRequest,e="";"Natural"==this.option?e="http://ec2-75-101-231-83.compute-1.amazonaws.com:4030/api/users/user?run="+this.run:"Juridica"==this.option?e="http://ec2-75-101-231-83.compute-1.amazonaws.com:4030/api/users/user?run="+this.rut:"Extranjero"==this.option&&(e="http://ec2-75-101-231-83.compute-1.amazonaws.com:4030/api/users/user?run="+this.id),o.open("GET",e),o.send(),o.onload=function(){if(200==o.status){var e=JSON.parse(o.response);if(e.valid){if("Natural"==t.option){var n={Tipo:t.option,Id:t.run,Name:t.nombres+" "+t.apellidopaterno+" "+t.apellidomaterno,Pais:t.pais};t.items.push(n)}else if("Juridica"==t.option){var a={Tipo:t.option,Id:t.rut,Name:t.razonsocial,Pais:t.pais};t.items.push(a)}else if("Extranjero"==t.option){var i={Tipo:t.option,Id:t.id,Name:t.nombrecompleto,Pais:t.pais};t.items.push(i)}t.run="",t.nombres="",t.apellidopaterno="",t.apellidomaterno="",t.pais="Chile",t.option="Natural",t.rut="",t.razonsocial="",t.id="",t.nombrecompleto=""}else alert(e.msg)}else alert("No se mando correctamente la persona, intentelo de nuevo")}},setData:function(){this.$emit("getDeudores",this.items)}}},An=Sn,En=(e("d3b3"),Object(p["a"])(An,_n,jn,!1,null,"d0cd5004",null)),Cn=En.exports,Rn=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"row",attrs:{id:"contenedor"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"titleFormulario col",on:{click:function(o){return t.getPatentes()}}},[t._v("Vehiculos  ")]),e("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-2",modifiers:{"modal-2":!0}}],staticClass:"col buttonAdd"},[t._v("+")]),e("b-modal",{attrs:{id:"modal-2","hide-footer":""}},[e("div",{staticClass:"row"},[e("div",{staticClass:"d-flex justify-content-center titleModal"},[t._v("Vehiculos ")]),e("div",{staticClass:"row"},[e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                            PATENTE\n                        ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.patente,expression:"patente"}],attrs:{id:"textPatente",type:"text"},domProps:{value:t.patente},on:{input:[function(o){o.target.composing||(t.patente=o.target.value)},function(o){t.patente=t.patente.toUpperCase()}]}})])]),e("div",{staticClass:"d-flex justify-content-center SpaceItems"},[e("div",{staticClass:"form-check "},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.rvm,expression:"rvm"}],staticClass:"form-check-input",attrs:{type:"checkbox",value:"",id:"defaultCheckrvm"},domProps:{checked:Array.isArray(t.rvm)?t._i(t.rvm,"")>-1:t.rvm},on:{change:function(o){var e=t.rvm,n=o.target,a=!!n.checked;if(Array.isArray(e)){var i="",r=t._i(e,i);n.checked?r<0&&(t.rvm=e.concat([i])):r>-1&&(t.rvm=e.slice(0,r).concat(e.slice(r+1)))}else t.rvm=a}}}),e("label",{staticClass:"form-check-label d-flex align-items-start",attrs:{for:"defaultCheckrvm"}},[t._v("\n                                RVM\n                            ")])])])]),this.rvm?e("div",{staticClass:"d-flex justify-content-center SpaceItems"},[e("div",{staticClass:"form-check "},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.GoE,expression:"GoE"}],staticClass:"form-check-input",attrs:{type:"checkbox",value:"",id:"defaultCheckGE"},domProps:{checked:Array.isArray(t.GoE)?t._i(t.GoE,"")>-1:t.GoE},on:{change:function(o){var e=t.GoE,n=o.target,a=!!n.checked;if(Array.isArray(e)){var i="",r=t._i(e,i);n.checked?r<0&&(t.GoE=e.concat([i])):r>-1&&(t.GoE=e.slice(0,r).concat(e.slice(r+1)))}else t.GoE=a}}}),e("label",{staticClass:"form-check-label d-flex align-items-start",attrs:{for:"defaultCheckGE"}},[t._v("\n                            PROHIBICIÓN DE GRAVAR O ENAJENAR\n                        ")])])]):t._e()]),e("b-button",{attrs:{id:"ADDVEHICULO"},on:{click:function(o){t.add(),t.setData()}}},[t._v("Agregar Vehículo")])],1)],1),e("table",{staticClass:"table"},[t._m(0),0==t.items.length?e("tbody",{staticClass:"bodyTabla"},[e("td",[t._v("No data")])]):t._l(t.items,(function(o,n){return e("tbody",{key:n,staticClass:"bodyTabla",attrs:{id:"tablapatentesinscripcion"}},[e("td",[t._v(t._s(o.patente))]),e("td",[1==o.rvm?e("div",[t._v("SI")]):t._e(),0==o.rvm?e("div",[t._v("NO")]):t._e()]),e("td",[1==o.GoE?e("div",[t._v("GRAVAR")]):t._e(),0==o.GoE?e("div",[t._v("NO")]):t._e()]),e("td",[e("p",{attrs:{type:"button"},on:{click:function(o){t.borrar(n),t.setData()}}},[t._v("X")])])])}))],2)])},In=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("thead",{staticClass:"encabezadoTabla"},[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("PATENTE")]),e("th",{attrs:{scope:"col"}},[t._v("RVM")]),e("th",{attrs:{scope:"col"}},[t._v("GRAVAR/ENAJENAR")]),e("th",{attrs:{scope:"col"}})])])}];function Pn(t,o){var e,n=[],a=[],i=[],r=[],c=[],s=[];console.log("ENTREEEEEEEE"),"I"==o?Object(O["e"])(Object(O["a"])(_m,"Solicitud_Inscripcion_Prenda")).then((function(o){var l=o.docs;l.forEach((function(o){t==o.id&&(e=o.data(),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Document_RPsD"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();o.contrato?r.push(o):c.push(o)}))})).then((function(){console.log("ARCHIVOS"),console.log(r),console.log(c)})),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Persona_Solicitud"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();0==o.tipoContratante?n.push(o):1==o.tipoContratante?a.push(o):2==o.tipoContratante&&i.push(o)}))})).then((function(){console.log("PERSONAS"),console.log(n),console.log(a),console.log(i)})),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Patente_por_Inscripcion"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();s.push(o)}))})).then((function(){console.log("PATENTES"),console.log(s)})))}))})).then((function(){console.log("INSCRIPCION"),console.log(e)})):"M"==o?Object(O["e"])(Object(O["a"])(_m,"Solicitud_Modificacion_Prenda")).then((function(o){var n=o.docs;n.forEach((function(o){t==o.id&&(e=o.data(),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Document_RPsD"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();o.contrato?r.push(o):c.push(o)}))})).then((function(){console.log("ARCHIVOS"),console.log(r),console.log(c)})))}))})).then((function(){console.log("MODIFICACION"),console.log(e)})):"A"==o&&Object(O["e"])(Object(O["a"])(_m,"Solicitud_Alzamiento_Prenda")).then((function(o){var n=o.docs;n.forEach((function(o){t==o.id&&(e=o.data(),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Document_RPsD"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();o.contrato?r.push(o):c.push(o)}))})).then((function(){console.log("ARCHIVOS"),console.log(r),console.log(c)})))}))})).then((function(){console.log("ALZAMIENTO"),console.log(e)}))}var Nn=[];function Dn(){Object(O["e"])(Object(O["a"])(_m,"Precios")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();Nn.push(o)})),console.log(Nn)}))}var yn,Tn={mounted:function(){Dn(),this.items.length=0},name:"AcreedorFormularios",data:function(){return{option:"Natural"}},props:{items:{type:Array,default:new Array},patente:{type:String,default:""},GoE:{type:Boolean,default:!1},rvm:{type:Boolean,default:!1},estado:{type:String,default:""}},methods:{getPatentes:function(){Pn(12,"I")},borrar:function(t){this.items.splice(t,1)},changeOption:function(){var t=document.getElementById("tipoDePersona");this.option=t.options[t.selectedIndex].value},add:function(){var t=this,o="http://ec2-75-101-231-83.compute-1.amazonaws.com:4031/API/vehicles/licensePlates",e='{"patente": "'+this.patente+'"}';if(console.log("LOL"),this.rvm)fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:e}).then((function(o){o.json().then((function(o){if(o.valid){console.log(o.valid);var e={patente:t.patente,rvm:t.rvm,GoE:t.GoE};t.items.push(e);var n=document.getElementById("monto"),a=parseInt(n.innerHTML.substring(1));a+=Nn[7]["precio"],a+=Nn[8]["precio"],n.innerHTML="$"+a,t.patente="",t.rvm=!1,t.GoE=!1}else alert("Este vehiculo no esta registrado en el RVM")}))}));else{var n={patente:this.patente,rvm:this.rvm,GoE:this.GoE};this.items.push(n);var a=document.getElementById("monto"),i=parseInt(a.innerHTML.substring(1));i+=Nn[7]["precio"],a.innerHTML="$"+i,this.patente="",this.rvm=!1,this.GoE=!1}},clean:function(){console.log("limpiar campos aqui")},setData:function(){this.$emit("getVehiculos",this.items)}}},Fn=Tn,xn=(e("1460"),Object(p["a"])(Fn,Rn,In,!1,null,"2cdd4b72",null)),zn=xn.exports,Mn=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"row",attrs:{id:"contenedor"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"titleFormulario col",on:{change:function(o){return t.setData()}}},[t._v("Contrato")]),e("div",{staticClass:"input-group mb-3 ",on:{change:function(o){return t.setData()}}},[e("label",{attrs:{for:"contrato"}}),e("input",{staticClass:"form-control",attrs:{type:"file",id:"contrato",accept:"application/pdf"},on:{change:function(o){return t.setData()}}})])])])},wn=[],Bn={name:"AcreedorFormularios",data:function(){return{headers:["Tipo","Id","Name"],contrato:null}},props:{},methods:{setData:function(){this.$emit("getContrato",document.getElementById("contrato").files)}}},kn=Bn,qn=(e("f49b"),Object(p["a"])(kn,Mn,wn,!1,null,"19beb3c1",null)),Un=qn.exports,Ln=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"row",attrs:{id:"contenedor"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"titleFormulario col",on:{change:function(o){return t.setData()}}},[t._v("Anexos")]),e("div",{staticClass:"input-group mb-3 ",on:{change:function(o){return t.setData()}}},[e("label",{attrs:{for:"anexos"}}),e("input",{staticClass:"form-control",attrs:{type:"file",multiple:"",id:"anexos",accept:"application/pdf"},on:{change:function(o){return t.setData()}}})])])])},Gn=[],Vn={name:"AcreedorFormularios",data:function(){return{headers:["Tipo","Id","Name"]}},methods:{setData:function(){this.$emit("getAnexos",document.getElementById("anexos").files)}}},$n=Vn,Hn=(e("dbd6"),Object(p["a"])($n,Ln,Gn,!1,null,"26a899ca",null)),Yn=Hn.exports,Zn=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"row",attrs:{id:"contenedor"}},[e("div",{staticClass:"titleFormulario"},[t._v("Requirente")]),e("div",{staticClass:"row"},[e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                NOMBRE COMPLETO\n            ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.nombreCompleto,expression:"nombreCompleto"}],attrs:{type:"text",id:"nombrecompletorequirente"},domProps:{value:t.nombreCompleto},on:{change:function(o){return t.setData()},input:function(o){o.target.composing||(t.nombreCompleto=o.target.value)}}})])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                N DE DOCUMENTO\n            ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.NdeDocumento,expression:"NdeDocumento"}],attrs:{type:"text",id:"ndedocumentorequirente"},domProps:{value:t.NdeDocumento},on:{change:function(o){return t.setData()},input:function(o){o.target.composing||(t.NdeDocumento=o.target.value)}}})])]),e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                CORREO\n            ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.correo,expression:"correo"}],attrs:{type:"text",id:"correorequirente"},domProps:{value:t.correo},on:{change:function(o){return t.setData()},input:function(o){o.target.composing||(t.correo=o.target.value)}}})])]),e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n               FECHA\n            ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.fecha,expression:"fecha"}],attrs:{type:"date",id:"fecharequirente"},domProps:{value:t.fecha},on:{change:function(o){return t.setData()},input:function(o){o.target.composing||(t.fecha=o.target.value)}}})])])])])},Jn=[],Xn={name:"AcreedorFormularios",data:function(){var t=ln.countries;return{listBienesPrendados:["ACTIVO FIJO","BIENES AGROPECUARIOS","DERECHOS E INTANGIBLES","VEHICULOS"],countries:t}},props:{nombreCompleto:{type:String,default:""},NdeDocumento:{type:String,default:""},correo:{type:String,default:""},fecha:{type:String,default:""},nombrecompleto:{type:String,default:""},tipoPersona:{type:String,default:"Natural"},run:{type:String,default:""},id:{type:String,default:""},pais:{type:String,default:"Chile"},rut:{type:String,default:""},razonsocial:{type:String,default:""},Apaterno:{type:String,default:""},Amaterno:{type:String,default:""},nombres:{type:String,default:""}},methods:{changeOption:function(){var t=document.getElementById("tipoDePersona");this.option=t.options[t.selectedIndex].value},setData:function(){this.$emit("getnombreRequirente",this.nombreCompleto.toString()),this.$emit("getrutRequirente",this.NdeDocumento.toString()),this.$emit("getCorreoRequirente",this.correo.toString()),this.$emit("getFechaRequirente",this.fecha.toString())}}},Kn=Xn,Qn=(e("034b"),Object(p["a"])(Kn,Zn,Jn,!1,null,"0d16ca5a",null)),Wn=Qn.exports,ta=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"row",attrs:{id:"contenedor"}},[e("div",{staticClass:"titleFormulario col"},[t._v("Monto ")]),e("div",{staticClass:"col titleMonto",attrs:{id:"monto"}},[t._v(" $ "+t._s(this.monto)+" ")])])},oa=[],ea={name:"Monto",data:function(){return{monto:"0"}}},na=ea,aa=(e("d2a7"),Object(p["a"])(na,ta,oa,!1,null,"ccdd111c",null)),ia=aa.exports,ra=[];function ca(t){if(!t.includes("-"))return!1;t=t.split("-");var o=t[0],e=t[1],n=(new Date).getFullYear();return!isNaN(o)&&!o.includes("e")&&4==o.length&&!(e>n||isNaN(e)||e.length<4)}function sa(t,o,e,n,a,i,r,c,s,l,u,d,p,m,g,h,f,v,b,_,j,S){var A=this,E=arguments.length>22&&void 0!==arguments[22]?arguments[22]:[],C=arguments.length>23&&void 0!==arguments[23]?arguments[23]:[],R=arguments.length>24&&void 0!==arguments[24]?arguments[24]:[],I=arguments.length>25&&void 0!==arguments[25]?arguments[25]:[],P=arguments.length>26&&void 0!==arguments[26]?arguments[26]:[],N=arguments.length>27&&void 0!==arguments[27]&&arguments[27],D=arguments.length>28?arguments[28]:void 0,y=arguments.length>29?arguments[29]:void 0;console.log("loading");var T=!0;if(console.log("PERSONAS DE LA SOLICITUD"),console.log(E),console.log(C),console.log(R),R.forEach((function(t){t[0]&&console.log("VALIDANDO PATENTES")})),!h&&R.length>0&&(h=!0),console.log(i),9==i.length&&ca(i)||(T=!1,console.log("NUMERO REPERTORIO NOTARIO FORMATO INCORRECTO"),alert("Numero repertorio notario en formato incorrecto")),console.log("OFICINA: "+N),N||0==I.length&&(T=!1,console.log("NO HAY CONTRATO"),alert("No hay contrato")),T){var F=0;console.log("validate"),v&&(parseInt(localStorage.esoficina)?(console.log("validate asignando estado"),F=3):(console.log("validate asignando estado"),F=1)),Object(O["e"])(Object(O["a"])(_m,"Solicitud_Inscripcion_Prenda")).then((function(T){var x=T.docs.length+1;console.log("validate creando inscripcion"),console.log(x),Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Solicitud_Inscripcion_Prenda"),x.toString()),{privacidadDocumento:t,fechaSuscripcion:o,fechaOtorgamientoEscritura:e,fechaProtocolizacionContratoPrivado:n,fechaAutorizacionContratoPrivado:a,numeroRepertorioNotario:i,numeroRepertorioContratoPrenda:-1,prohibicionGravarEnajenar:r,nombre_notaria:c,nombreRequiriente:s,runRequiriente:l,correoRequiriente:u,fechaRequirente:d,activoFijo:p,bienesAgropecuarios:m,derechosIntangibles:g,prendaVehiculo:h,montoTotal:f,estadoPrimario:F,estadoSecundario:0,usuarioCreador:y,oficina:D,firma:!1}).then((function(){Object(O["e"])(Object(O["a"])(_m,"Patente_por_Inscripcion")).then((function(t){var o=t.docs.length+1;console.log(o),R.length>0&&R.forEach((function(t){Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Patente_por_Inscripcion"),x.toString()),{patente:t["patente"],inscripcionPrendaRVM:t["rvm"],inscripcionProhibicionGravarEnajenar:t["GoE"],alzamiento:!1,idInscripcion:x}),o+=1}))})),Object(O["e"])(Object(O["a"])(_m,"Persona_Solicitud")).then((function(t){var o=t.docs.length+1;console.log(o),Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Persona_Solicitud"),o.toString()),{tipoContratante:0,tipoAcreedor:b,runPersona:_,nombrePersona:j,idInscripcion:x,paisPersona:S}),o+=1,E.forEach((function(t){var e=t["Pais"];Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Persona_Solicitud"),o.toString()),{tipoContratante:1,tipoAcreedor:t["Tipo"],runPersona:t["Id"],nombrePersona:t["Name"],idInscripcion:x,paisPersona:e}),o+=1})),C.length>0&&C.forEach((function(t){var e=t["Pais"];""==e&&(e="Chile"),Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Persona_Solicitud"),o.toString()),{tipoContratante:2,tipoAcreedor:t["Tipo"],runPersona:t["Id"],nombrePersona:t["Name"],idInscripcion:x,paisPersona:e}),o+=1}))}));var t=null;console.log("validate revisando documents"),Object(O["e"])(Object(O["a"])(_m,"Document_RPsD")).then((function(o){var e=o.docs.length,n=o.docs[e-1];t=n.data().numero_repertorio_RPsD})).then((function(){console.log("validate revisando documents 2"),Object(O["e"])(Object(O["a"])(_m,"Document_RPsD")).then(function(){var o=Object(U["a"])(regeneratorRuntime.mark((function o(e){var n,a,i,r,c,s;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:n=e.docs.length,console.log("Entro"),console.log(I),console.log(P),console.log("---------------------"),a=0;case 6:if(!(a<I.length)){o.next=22;break}return i=Object(bo["c"])(jm,I[a].name),o.next=10,Object(bo["d"])(i,I[a]);case 10:return o.next=12,Object(bo["a"])(i);case 12:r=o.sent,console.log("MY URL"),console.log(r),console.log(n.toString()),console.log("---------------------"),Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Document_RPsD"),n.toString()),{id_alzamiento:"",id_modificacion:n.toString(),idInscripcion:x,"año_repertorio_del_contrato":(new Date).getFullYear(),numero_repertorio_RPsD:t+1,url:r,contrato:!0}),n+=1;case 19:a++,o.next=6;break;case 22:a=0;case 23:if(!(a<P.length)){o.next=35;break}return c=Object(bo["c"])(jm,P[a].name),o.next=27,Object(bo["d"])(c,P[a]);case 27:return o.next=29,Object(bo["a"])(c);case 29:s=o.sent,Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Document_RPsD"),n.toString()),{idInscripcion:x,id_alzamiento:"",id_modificacion:n.toString(),"año_repertorio_del_contrato":(new Date).getFullYear(),numero_repertorio_RPsD:t+1,url:s,contrato:!1}),n+=1;case 32:a++,o.next=23;break;case 35:case"end":return o.stop()}}),o)})));return function(t){return o.apply(this,arguments)}}())})).then((function(){console.log("EVERYTHING ITS SEND SUCCESFULLY---"),0==v?alert("Solicitud Guardada Exitosamente"):(console.log("PAGANDO EN CAJA"),N&&(la("I",x.toString(),1,y),setTimeout((function(){var t="http://ec2-75-101-231-83.compute-1.amazonaws.com:4033/api/checkout/pay",o='{"id_persona":"'+localStorage.rutLog+'", "numero_repertorio":"'+yn+'", "monto":'+f+"}";fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:o}).then((function(t){t.json().then((function(t){alert(t.msg),console.log("PAGADO"),la("I",x.toString(),2,y),A.redirect()}))}))}),1500)),alert("Solicitud Enviada Exitosamente"),N||A.redirect())}))}))}))}}function la(t,o,e,n){var a=["El pago no se realizo","Hubo intencion de pagar","Pagado"];Object(O["e"])(Object(O["a"])(_m,"Counter_N_RPsD")).then((function(n){var a=n.docs[0].data(),i=a.counter;i=i<10?"000"+i.toString():i<100?"00"+i.toString():i<1e3?"0"+i.toString():i.toString();var r=a.year;yn=i+"-"+r.toString(),console.log("RPSD: "+yn),1==e?"I"==t?Object(O["i"])(Object(O["c"])(_m,"Solicitud_Inscripcion_Prenda",o),{estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}).then((function(){console.log("ACTUALIZADO")})):"M"==t?Object(O["i"])(Object(O["c"])(_m,"Solicitud_Modificacion_Prenda",o),{estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}):"A"==t&&Object(O["i"])(Object(O["c"])(_m,"Solicitud_Alzamiento_Prenda",o),{estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}):"I"==t?Object(O["i"])(Object(O["c"])(_m,"Solicitud_Inscripcion_Prenda",o),{estadoSecundario:e}).then((function(){console.log("ACTUALIZADO")})):"M"==t?Object(O["i"])(Object(O["c"])(_m,"Solicitud_Modificacion_Prenda",o),{estadoSecundario:e}):"A"==t&&Object(O["i"])(Object(O["c"])(_m,"Solicitud_Alzamiento_Prenda",o),{estadoSecundario:e}),Object(O["i"])(Object(O["c"])(_m,"Counter_N_RPsD","0"),{counter:a.counter+1})}));var i=new Date;Object(O["e"])(Object(O["a"])(_m,"Bitacora")).then((function(r){var c=r.docs.length,s="",l="",u="";"I"==t?s=o:"M"==t?l=o:"A"==t&&(u=o),Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Bitacora"),c.toString()),{idInscripcion:s,idModificacion:l,idAlzamiento:u,idUser:n,comment:a[e],fechaCambio:i.getFullYear()+"-"+(i.getMonth()+1)+"-"+i.getDate()})}))}function ua(){Object(O["e"])(Object(O["a"])(_m,"Precios")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();ra.push(o)})),console.log(ra)}))}var da,pa={mounted:function(){ua(),setTimeout((function(){console.log("DINERO");var t=document.getElementById("monto");t.innerHTML="$"+ra[0]["precio"]}),1500)},name:"Dashboard",data:function(){return{opcion:localStorage.my_opts.split(","),username:localStorage.user,tipoDoc:"",FOtorgamiento:"",FSuscripcion:"",FAutorizacion:"",FProtocolizacion:"",RepNotaria:"",anioRepNotaria:"",ProhibGravEnajenar:!1,tipoPersona:"Natural",run:"",id:"",pais:"",rut:"",razonsocial:"",Apaterno:"",Amaterno:"",nombres:"",nombreRequirente:"",nDocRequirente:"",correoRequirente:"",fechaRequirente:this.currentDateTime(),Bienes:[!1,!1,!1,!1],constituyentes:[],deudores:[],vehiculos:[],contrato:[],anexos:[],notaria:""}},props:{rol:{type:String,default:localStorage.rol}},methods:{redirect:function(){document.getElementById("tabladeudores").value=[],document.getElementById("tablaconstituyentes").value=[],document.getElementById("tablapatentesinscripcion").value=[],this.$router.push({path:"/Dashboard/".concat(localStorage.rol,"/").concat(localStorage.user,"/MisSolicitudes")})},currentDateTime:function(){var t=new Date,o=t.getDate()+"-"+(t.getMonth()+1)+"-"+t.getFullYear();return o},getNotaria:function(t){this.notaria=t},gettipoDoc:function(t){this.tipoDoc=t},getFOtorgamiento:function(t){this.FOtorgamiento=t},getFSuscripcion:function(t){this.FSuscripcion=t},getFAutorizacion:function(t){this.FAutorizacion=t},getFProtocolizacion:function(t){this.FProtocolizacion=t},getRepNotaria:function(t){this.RepNotaria=t},getanioRepNotaria:function(t){this.anioRepNotaria=t},getProhibGravEnajenar:function(t){this.ProhibGravEnajenar=t},gettipoPersona:function(t){this.tipoPersona=t},getrun:function(t){this.run=t},getid:function(t){this.id=t},getpais:function(t){this.pais=t},getrut:function(t){this.rut=t},getrazonsocial:function(t){this.razonsocial=t},getApaterno:function(t){this.Apaterno=t},getAmaterno:function(t){this.Amaterno=t},getnombreRequirente:function(t){this.nombreRequirente=t},getrutRequirente:function(t){this.nDocRequirente=t},getCorreoRequirente:function(t){this.correoRequirente=t},getFechaRequirente:function(t){this.fechaRequirente=t},getnombres:function(t){this.nombres=t},getBienes:function(t){this.Bienes=t},getConstituyentes:function(t){this.constituyentes=t,console.log("Constituyentes:"+this.constituyentes)},getDeudores:function(t){this.deudores=t,console.log("Deudores:"+this.deudores)},getVehiculos:function(t){this.vehiculos=t},getContrato:function(t){this.contrato=t,console.log("Contrato:"+this.contrato)},getAnexos:function(t){this.anexos=t,console.log("Anexos:"+this.anexos)},downloadWithCSS:function(){var t=new _["a"],o=document.createElement("canvas");S()(this.$refs.content,{scale:1},{canvas:o}).then((function(o){var e=o.toDataURL("image/jpeg",.8);t.addImage(e,"JPEG",20,20,120,120),t.save("sample.pdf")}))},crearInscripcion:function(t){var o,e,n=this;console.log("LOADING INSCRIPCION"),"Natural"==this.tipoPersona?(o=this.run,e=this.nombres+" "+this.Apaterno+" "+this.Amaterno):"Juridica"==this.tipoPersona?(o=this.rut,e=this.razonsocial):(o=this.id,e=this.nombres);var a=new XMLHttpRequest,i="http://ec2-75-101-231-83.compute-1.amazonaws.com:4030/api/users/user?run="+o;console.log(i),a.open("GET",i),console.log("LOADING REQUEST"),console.log("MOMENT"),a.onload=function(){if(console.log("REQUEST"),200==a.status){console.log("ACEPTED");var i=JSON.parse(a.response);i.valid?(console.log("VALID"),sa(n.tipoDoc.toString(),n.FSuscripcion.toString(),n.FOtorgamiento.toString(),n.FProtocolizacion.toString(),n.FAutorizacion.toString(),(n.RepNotaria+"-"+n.anioRepNotaria).toString(),n.ProhibGravEnajenar,n.notaria,n.nombreRequirente,n.nDocRequirente,n.correoRequirente,n.fechaRequirente,n.Bienes[0],n.Bienes[1],n.Bienes[2],n.Bienes[3],ra[0]["precio"],t,n.tipoPersona,o.toString(),e,n.pais,n.constituyentes,n.deudores,n.vehiculos,n.contrato,n.anexos,"FUNCIONARIOOFICINA"==localStorage.rol,"mi oficina",localStorage.mail),setTimeout((function(){n.$router.push({path:"/Dashboard/".concat(localStorage.rol,"/").concat(localStorage.user,"/MisSolicitudes"),params:{username:localStorage.user,rol:localStorage.rol}}),n.downloadWithCSS()}),1e3)):alert(i.msg)}},a.send()}},components:{AntecedentesFormulario:rn,AcreedorFormulario:mn,ConstituyentesFormulario:On,DeudoresFormulario:Cn,VehiculosFormulario:zn,ContratoFormulario:Un,AnexosFormulario:Yn,Menu:B,Navbar:ut,RequirenteFormulario:Wn,Monto:ia}},ma=pa,ga=(e("6fb1"),Object(p["a"])(ma,Qe,We,!1,null,"7f786eb8",null)),ha=ga.exports,fa=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"BusquedaAlzamiento"}},[e("Navbar",{attrs:{username:t.username}}),e("Menu",{attrs:{opciones:t.opcion}}),e("div",{staticClass:"d-flex justify-content-center contenedor right row"},[t._m(0),e("div",{staticClass:"row d-flex justify-content-center item"},[e("div",{staticClass:"col-3"},[t._v("\n                    FOLIO REP. PRENDA\n                    "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.folio,expression:"folio"}],attrs:{type:"text",placeholder:"Folio"},domProps:{value:t.folio},on:{input:function(o){o.target.composing||(t.folio=o.target.value)}}})]),e("div",{staticClass:"col-4"},[e("div",{staticClass:"titles d-flex justify-content-center"},[t._v("\n                    AÑO REPERTORIO\n                ")]),e("div",{staticClass:"d-flex justify-content-center"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.anio,expression:"anio"}],attrs:{type:"text",placeholder:"Año"},domProps:{value:t.anio},on:{input:function(o){o.target.composing||(t.anio=o.target.value)}}})])])]),e("div",{staticClass:"row d-flex justify-content-center item"},[e("div",{staticClass:"col-3"},[e("div",{staticClass:"titles d-flex justify-content-center"},[t._v("\n                    IDENTIFICADOR DE ALGUN CONSTITUYENTE\n                ")]),e("div",{staticClass:"d-flex justify-content-center"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.id,expression:"id"}],staticClass:"nrepertorioleft",attrs:{type:"text",placeholder:"ID de constituyente"},domProps:{value:t.id},on:{input:function(o){o.target.composing||(t.id=o.target.value)}}})])])]),e("button",{staticClass:"d-flex justify-content-center button",on:{click:function(o){return t.busqueda()}}},[t._v("Buscar")])])],1)},va=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("h1",{staticClass:"title"},[t._v("Solicitud de "),e("strong",[t._v("Alzamiento ")]),t._v(" de Contrato de Prendas")])}];function ba(t,o){Object(O["e"])(Object(O["a"])(_m,"Solicitud_Inscripcion_Prenda")).then((function(e){var n=e.docs;n.forEach((function(e){var n=e.data();if(n.numeroRepertorioContratoPrenda==t){var a=e.id;Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Persona_Solicitud"),Object(O["j"])("idInscripcion","==",parseInt(a)))).then((function(e){var n=e.docs,a=!1;n.forEach((function(e){var n=e.data();if(console.log(n.runPersona),1==n.tipoContratante&&o==n.runPersona&&!a){console.log("SE ENCONTRO UNA SOLICITUD"),console.log("ID SOLICITUD: "+n.idInscripcion);var i=[];Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Solicitud_Alzamiento_Prenda"),Object(O["j"])("numeroRepertorioContratoPrenda","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.id;i.push(o)}))})),da=i.length>0?i.pop():n.idInscripcion,localStorage.idSol=da}}))}))}}))})).then((function(){da=-1}))}var Oa,_a={name:"BusquedaAlzamiento",data:function(){return{opcion:ae,username:localStorage.user,folio:"",anio:"",id:"",id_sol:da}},methods:{busqueda:function(){var t=this;da=ba((this.folio+"-"+this.anio).toString(),this.id),setTimeout((function(){console.log("TIMEOUT"),console.log(da),localStorage.mod_want=da,localStorage.idSol=da,-1==da||void 0==da?alert("No se encontraron Coincidencias"):(console.log("IDDDDD"),console.log(da),t.$router.push({path:"/Dashboard/".concat(localStorage.rol,"/").concat(localStorage.user,"/solicitudAlzamiento"),params:{username:localStorage.user,rol:localStorage.rol}}))}),1e3)}},components:{Menu:B,Navbar:ut}},ja=_a,Sa=(e("05af"),Object(p["a"])(ja,fa,va,!1,null,"29904300",null)),Aa=Sa.exports,Ea=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"dashboard"}},[e("Menu",{attrs:{opciones:t.opcion}}),e("Navbar",{attrs:{username:t.username}}),e("div",{attrs:{id:"contenedor"}},["FUNCIONARIOOFICINA"==t.rol?e("RequirenteFormulario",{on:{getnombreRequirente:t.getnombreRequirente,getrutRequirente:t.getrutRequirente,getCorreoRequirente:t.getCorreoRequirente,getFechaRequirente:t.getFechaRequirente,change:function(o){return t.getPatentes()}}}):t._e(),e("AntecedentesFormularioALZA",{attrs:{rol:t.rol,esInsc:!1},on:{gettipoDoc:t.gettipoDoc,getFOtorgamiento:t.getFOtorgamiento,getFSuscripcion:t.getFSuscripcion,getFAutorizacion:t.getFAutorizacion,getFProtocolizacion:t.getFProtocolizacion,getRepNotaria:t.getRepNotaria,getanioRepNotaria:t.getanioRepNotaria,getProhibGravEnajenar:t.getProhibGravEnajenar,getBienes:t.getBienes,getNotaria:t.getNotaria,change:function(o){return t.getPatentes()}}}),e("VehiculosFormulario",{attrs:{tipoSolicitud:t.Alzamiento,items:t.items}}),"FUNCIONARIOOFICINA"!==t.rol?e("ContratoFormulario",{on:{getContrato:t.getContrato}}):t._e(),"FUNCIONARIOOFICINA"!==t.rol?e("AnexosFormulario",{on:{getAnexos:t.getAnexos}}):t._e(),e("Monto"),e("div",{staticClass:"row d-flex justify-content-center",attrs:{id:"contenedor"}},[e("button",{staticClass:"col-2 titleButton",on:{click:function(o){return t.alzar(!1)}}},[t._v("Guardar")]),e("button",{staticClass:"col-2 titleButton",on:{click:function(o){return t.alzar(!0)}}},[t._v("Enviar")])])],1)],1)},Ca=[],Ra=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"row",attrs:{id:"contenedor"}},[e("div",{staticClass:"titleFormulario"},[t._v("Antecedentes")]),e("div",{staticClass:"row"},[e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                TIPO DE DOCUMENTO\n            ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.tipoDoc,expression:"tipoDoc"}],staticClass:"form-select",attrs:{id:"tipoDeDocumento"},on:{change:[function(o){var e=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.tipoDoc=o.target.multiple?e:e[0]},function(o){t.changeOption(),t.setData()}]}},[e("option",{attrs:{selected:"",value:"Publico"}},[t._v("Público")]),e("option",{attrs:{value:"Privado"}},[t._v("Privado")])])])]),"Publico"==t.option?e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                FECHA DE OTORGAMIENTO\n            ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.FOtorgamiento,expression:"FOtorgamiento"}],attrs:{type:"date"},domProps:{value:t.FOtorgamiento},on:{change:function(o){return t.setData()},input:function(o){o.target.composing||(t.FOtorgamiento=o.target.value)}}})])]):t._e(),"Publico"==t.option?e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                FECHA DE SUSCRIPCIÓN\n            ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.FSuscripcion,expression:"FSuscripcion"}],attrs:{type:"date",placeholder:"FSuscripcion"},domProps:{value:t.FSuscripcion},on:{change:function(o){return t.setData()},input:function(o){o.target.composing||(t.FSuscripcion=o.target.value)}}})])]):t._e(),"Privado"==t.option?e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                FECHA DE AUTORIZACIÓN\n            ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.FAutorizacion,expression:"FAutorizacion"}],attrs:{type:"date",placeholder:"FAutorizacion"},domProps:{value:t.FAutorizacion},on:{change:function(o){return t.setData()},input:function(o){o.target.composing||(t.FAutorizacion=o.target.value)}}})])]):t._e(),"Privado"==t.option?e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                FECHA DE PROTOCOLIZACIÓN\n            ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.FProtocolizacion,expression:"FProtocolizacion"}],attrs:{type:"date",placeholder:"FProtocolizacion"},domProps:{value:t.FProtocolizacion},on:{change:function(o){return t.setData()},input:function(o){o.target.composing||(t.FProtocolizacion=o.target.value)}}})])]):t._e()]),e("div",{staticClass:"row"},[e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                N DE REPERTORIO DE NOTARIA\n            ")]),e("div",{staticClass:"d-flex justify-content-start"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.RepNotaria,expression:"RepNotaria"}],staticClass:"nrepertorioleft",attrs:{type:"text",placeholder:"Folio"},domProps:{value:t.RepNotaria},on:{change:function(o){return t.setData()},input:function(o){o.target.composing||(t.RepNotaria=o.target.value)}}}),t._v("-"),e("input",{directives:[{name:"model",rawName:"v-model",value:t.anioRepNotaria,expression:"anioRepNotaria"}],staticClass:"nrepertorioright",attrs:{type:"text",placeholder:"Ano"},domProps:{value:t.anioRepNotaria},on:{change:function(o){return t.setData()},input:function(o){o.target.composing||(t.anioRepNotaria=o.target.value)}}})])])]),e("div",{staticClass:"row right"},[e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                BIENES PRENDADOS\n            ")]),e("div",{staticClass:"form-check"},[e("input",{staticClass:"form-check-input",attrs:{type:"checkbox",value:"ACTIVO FIJO",id:"actfijo",disabled:""},domProps:{checked:!0}}),e("label",{staticClass:"form-check-label d-flex justify-content-start",attrs:{for:"actfijo"}},[t._v("ACTIVO FIJO")])]),e("div",{staticClass:"form-check"},[e("input",{staticClass:"form-check-input",attrs:{type:"checkbox",value:"BIENES AGROPECUARIOS",id:"bagropec",disabled:""},domProps:{checked:!0}}),e("label",{staticClass:"form-check-label d-flex justify-content-start",attrs:{for:"bagropec"}},[t._v("BIENES AGROPECUARIOS")])]),e("div",{staticClass:"form-check"},[e("input",{staticClass:"form-check-input",attrs:{type:"checkbox",value:"DERECHIS E INTANGIBLES",id:"derecheint",disabled:""},domProps:{checked:!0}}),e("label",{staticClass:"form-check-label d-flex justify-content-start",attrs:{for:"derecheint"}},[t._v("DERECHIS E INTANGIBLES")])]),e("div",{staticClass:"form-check"},[e("input",{staticClass:"form-check-input",attrs:{type:"checkbox",value:"VEHICULOS",id:"vehic",disabled:""},domProps:{checked:!1}}),e("label",{staticClass:"form-check-label d-flex justify-content-start",attrs:{for:"vehic"}},[t._v("VEHICULOS")])])])]),"FUNCIONARIOOFICINA"==t.rol?e("div",{staticClass:"row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                NOTARIAS\n            ")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.notaria,expression:"notaria"}],staticClass:"form-select",attrs:{id:"notaria"},on:{change:[function(o){var e=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.notaria=o.target.multiple?e:e[0]},function(o){t.changeOption(),t.setData()}]}},t._l(t.notariasP,(function(o,n){return e("option",{key:n,domProps:{value:o.organizacion}},[t._v(t._s(o.organizacion))])})),0)]):t._e()])},Ia=[];function Pa(t,o){var e=[],n=[],a=[],i=[],r=[],c=[];console.log("ENTREEEEEEEE"),"I"==o?Object(O["e"])(Object(O["a"])(_m,"Solicitud_Inscripcion_Prenda")).then((function(o){var s=o.docs;s.forEach((function(o){t==o.id&&(Oa=o.data(),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Document_RPsD"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();o.contrato?i.push(o):r.push(o)}))})).then((function(){console.log("ARCHIVOS"),console.log(i),console.log(r)})),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Persona_Solicitud"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();0==o.tipoContratante?e.push(o):1==o.tipoContratante?n.push(o):2==o.tipoContratante&&a.push(o)}))})).then((function(){console.log("PERSONAS"),console.log(e),console.log(n),console.log(a)})),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Patente_por_Inscripcion"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();c.push(o)}))})).then((function(){console.log("PATENTES"),console.log(c),c.forEach((function(t){console.log(t.patente),console.log(t.inscripcionPrendaRVM),console.log(t.inscripcionProhibicionGravarEnajenar),console.log(t.alzamiento)}))})))}))})).then((function(){console.log("INSCRIPCION"),console.log(c)})):"M"==o?Object(O["e"])(Object(O["a"])(_m,"Solicitud_Modificacion_Prenda")).then((function(o){var e=o.docs;e.forEach((function(o){t==o.id&&(Oa=o.data(),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Document_RPsD"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();o.contrato?i.push(o):r.push(o)}))})).then((function(){console.log("ARCHIVOS"),console.log(i),console.log(r)})))}))})).then((function(){console.log("MODIFICACION"),console.log(Oa)})):"A"==o&&Object(O["e"])(Object(O["a"])(_m,"Solicitud_Alzamiento_Prenda")).then((function(o){var e=o.docs;e.forEach((function(o){t==o.id&&(Oa=o.data(),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Document_RPsD"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();o.contrato?i.push(o):r.push(o)}))})).then((function(){console.log("ARCHIVOS"),console.log(i),console.log(r)})))}))})).then((function(){console.log("ALZAMIENTO"),console.log(Oa)}))}var Na,Da={mounted:function(){console.log("ID FORMULARIO"),console.log(localStorage.idSol),Pa(localStorage.idSol,"I"),setTimeout((function(){console.log("LA SOLICITUD ES:"),console.log(Oa);var t=document.getElementById("actfijo"),o=document.getElementById("bagropec"),e=document.getElementById("derecheint"),n=document.getElementById("vehic");console.log("PRENDAS A DAR: "+Oa.activoFijo+","+Oa.bienesAgropecuarios+","+Oa.derechosIntangibles+","+Oa.prendaVehiculo),t.checked=Oa.activoFijo,o.checked=Oa.bienesAgropecuarios,e.checked=Oa.derechosIntangibles,n.checked=Oa.prendaVehiculo}),1e3)},name:"AntecedentesFormularioMODIF-ALZA",data:function(){return{listBienesPrendados:["ACTIVO FIJO","BIENES AGROPECUARIOS","DERECHOS E INTANGIBLES","VEHICULOS"],option:"Publico"}},props:{esInsc:{trype:Boolean,default:!1},rol:{type:String,default:"FUNCIONARIONOTARIA"},notariasP:{type:Array,default:A},tipoDoc:{type:String,default:"Público"},FOtorgamiento:{type:String,default:""},FSuscripcion:{type:String,default:""},FAutorizacion:{type:String,default:""},FProtocolizacion:{type:String,default:""},RepNotaria:{type:String,default:""},anioRepNotaria:{type:String,default:""},ProhibGravEnajenar:{type:Boolean,default:!1},notaria:{type:String,default:""}},methods:{changeOption:function(){var t=document.getElementById("tipoDeDocumento");this.option=t.options[t.selectedIndex].value},setData:function(){this.$emit("getNotaria",this.notaria),this.$emit("gettipoDoc",this.tipoDoc),this.$emit("getFOtorgamiento",this.FOtorgamiento),this.$emit("getFSuscripcion",this.FSuscripcion),this.$emit("getFAutorizacion",this.FAutorizacion),this.$emit("getFProtocolizacion",this.FProtocolizacion),this.$emit("getRepNotaria",this.RepNotaria),this.$emit("getanioRepNotaria",this.anioRepNotaria),this.$emit("getProhibGravEnajenar",this.ProhibGravEnajenar),this.$emit("getBienes",[Oa.activoFijo,Oa.bienesAgropecuarios,Oa.derechosIntangibles,Oa.prendaVehiculo])}}},ya=Da,Ta=(e("755e"),Object(p["a"])(ya,Ra,Ia,!1,null,"06988184",null)),Fa=Ta.exports,xa=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"row",attrs:{id:"contenedor"}},[e("div",{staticClass:"titleFormulario"},[t._v("Vehiculos ")]),e("table",{staticClass:"table"},[e("thead",{staticClass:"encabezadoTabla"},[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("PATENTE")]),e("th",{attrs:{scope:"col"}},[t._v("RVM")]),e("th",{attrs:{scope:"col"}},[t._v("GRAVAR/ENAJENAR")]),e("th",{attrs:{scope:"col"}},[t._v("ESTADO")]),"RevisionDoc"!=t.tipoSolicitud?e("th",{attrs:{scope:"col"}},[t._v("COSTO")]):t._e(),"Moficacion"==t.tipoSolicitud?e("th",{attrs:{scope:"col"}}):t._e()])]),0==t.items.length?e("tbody",{staticClass:"bodyTabla"},[e("td",[t._v("No data")])]):t._l(t.items,(function(o,n){return e("tbody",{key:n,staticClass:"bodyTabla",attrs:{id:"tablapatenteslectura"}},[e("td",[t._v(t._s(o.patente))]),e("td",[t._v(t._s(o.rvm))]),e("td",[t._v(t._s(o.GoE))]),e("td",[t._v(t._s(o.estado))]),"RevisionDoc"!=t.tipoSolicitud&&null!=o.costo?e("td",[t._v("\n\n\t\t\n\t\t\t\t\t"+t._s(o.costo)+"\n\t\n\n\t\t\t\t")]):t._e(),"Moficacion"==t.tipoSolicitud?e("td",[t._m(0,!0)]):t._e()])}))],2)])},za=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"form-check "},[e("input",{staticClass:"form-check-input",attrs:{type:"checkbox",value:"",id:"defaultCheck"}})])}],Ma={name:"AcreedorFormularios",data:function(){return{hola:""}},mounted:function(){},props:{opcion:Array,tipoSolicitud:{type:String,default:"Modificacion"},items:{type:Array,default:new Array},patente:{type:String,default:""},GoE:{type:Boolean,default:!1},rvm:{type:Boolean,default:!1},estado:{type:String,default:""}},methods:{getPatentes:function(){console.log("DATA")},changeOption:function(){var t=document.getElementById("tipoDePersona");this.option=t.options[t.selectedIndex].value},clean:function(){console.log("limpiar campos aqui")},setData:function(){this.$emit("getVehiculos",this.items)}}},wa=Ma,Ba=(e("1741"),Object(p["a"])(wa,xa,za,!1,null,"2dcea6e2",null)),ka=Ba.exports;function qa(t){if(!t.includes("-"))return!1;t=t.split("-");var o=t[0],e=t[1],n=(new Date).getFullYear();return!isNaN(o)&&!o.includes("e")&&4==o.length&&!(e>n||isNaN(e)||e.length<4)}function Ua(t,o,e,n){var a=["El pago no se realizo","Hubo intencion de pagar","Pagado"];Object(O["e"])(Object(O["a"])(_m,"Counter_N_RPsD")).then((function(n){var a=n.docs[0].data(),i=a.counter;i=i<10?"000"+i.toString():i<100?"00"+i.toString():i<1e3?"0"+i.toString():i.toString();var r=a.year;Na=i+"-"+r.toString(),console.log("RPSD: "+Na),1==e?"I"==t?Object(O["i"])(Object(O["c"])(_m,"Solicitud_Inscripcion_Prenda",o),{estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}).then((function(){console.log("ACTUALIZADO")})):"M"==t?Object(O["i"])(Object(O["c"])(_m,"Solicitud_Modificacion_Prenda",o),{estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}):"A"==t&&Object(O["i"])(Object(O["c"])(_m,"Solicitud_Alzamiento_Prenda",o),{estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}):"I"==t?Object(O["i"])(Object(O["c"])(_m,"Solicitud_Inscripcion_Prenda",o),{estadoSecundario:e}).then((function(){console.log("ACTUALIZADO")})):"M"==t?Object(O["i"])(Object(O["c"])(_m,"Solicitud_Modificacion_Prenda",o),{estadoSecundario:e}):"A"==t&&Object(O["i"])(Object(O["c"])(_m,"Solicitud_Alzamiento_Prenda",o),{estadoSecundario:e}),Object(O["i"])(Object(O["c"])(_m,"Counter_N_RPsD","0"),{counter:a.counter+1})}));var i=new Date;Object(O["e"])(Object(O["a"])(_m,"Bitacora")).then((function(r){var c=r.docs.length,s="",l="",u="";"I"==t?s=o:"M"==t?l=o:"A"==t&&(u=o),Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Bitacora"),c.toString()),{idInscripcion:s,idModificacion:l,idAlzamiento:u,idUser:n,comment:a[e],fechaCambio:i.getFullYear()+"-"+(i.getMonth()+1)+"-"+i.getDate()})}))}function La(t,o,e,n){var a=null,i="",r="",c="";console.log("LOL FILES"),0==n?i=e:1==n?r=e:2==n&&(c=e),console.log("INSCRIPCION: "+i),console.log("MODIFICACION: "+r),console.log("ALZAMIENTO: "+c),Object(O["e"])(Object(O["a"])(_m,"Document_RPsD")).then((function(t){var o=t.docs.length,e=t.docs[o-1];a=e.data().numero_repertorio_RPsD})).then((function(){Object(O["e"])(Object(O["a"])(_m,"Document_RPsD")).then(function(){var e=Object(U["a"])(regeneratorRuntime.mark((function e(n){var s,l,u,d,p,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:s=n.docs.length,console.log("Entro"),console.log(t.length),l=0;case 4:if(!(l<t.length)){e.next=17;break}return u=Object(bo["c"])(jm,t[l].name),e.next=8,Object(bo["d"])(u,t[l]);case 8:return e.next=10,Object(bo["a"])(u);case 10:d=e.sent,console.log("CONTRATO"),Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Document_RPsD"),s.toString()),{id_alzamiento:i,id_modificacion:r,idInscripcion:c,"año_repertorio_del_contrato":(new Date).getFullYear(),numero_repertorio_RPsD:a+1,url:d,contrato:!0}),s+=1;case 14:l++,e.next=4;break;case 17:l=0;case 18:if(!(l<o.length)){e.next=31;break}return p=Object(bo["c"])(jm,o[l].name),e.next=22,Object(bo["d"])(p,o[l]);case 22:return e.next=24,Object(bo["a"])(p);case 24:m=e.sent,console.log("ADJUNTO"),Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Document_RPsD"),s.toString()),{idInscripcion:i,id_alzamiento:c,id_modificacion:r,"año_repertorio_del_contrato":(new Date).getFullYear(),numero_repertorio_RPsD:a+1,url:m,contrato:!1}),s+=1;case 28:l++,e.next=18;break;case 31:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})).then((function(){console.log("EVERYTHING ITS SEND SUCCESFULLY"),alert("ALZAMIENTO SE ENVIÓ DE FORMA CORRECTA")}))}function Ga(t,o,e,n,a,i,r,c,s,l,u){var d=this,p=arguments.length>11&&void 0!==arguments[11]?arguments[11]:[],m=arguments.length>12&&void 0!==arguments[12]?arguments[12]:[],g=arguments.length>13?arguments[13]:void 0,h=arguments.length>14?arguments[14]:void 0,f=arguments.length>15?arguments[15]:void 0,v=arguments.length>16?arguments[16]:void 0,b=arguments.length>17?arguments[17]:void 0,_=arguments.length>18?arguments[18]:void 0,j=arguments.length>19?arguments[19]:void 0,S=arguments.length>20&&void 0!==arguments[20]&&arguments[20],A=arguments.length>21?arguments[21]:void 0,E=!0;if(console.log("VERYFING..."),console.log(A),console.log(c),9==c.length||qa(c)||(E=!1,console.log("NUMERO REPERTORIO NOTARIO FORMATO INCORRECTO"),alert("Numero Repertorio Notario Formato Incorrecto")),E){var C=0;console.log("validate"),console.log("SOLICIUTD DE ALZAMIENTO PRENDA SE ENVIA: "+j),j&&(C=S?3:1),console.log("MY DATA"),console.log(g),console.log(C);var R=null;Object(O["e"])(Object(O["a"])(_m,"Solicitud_Alzamiento_Prenda")).then((function(t){R=t.docs.length})).then((function(){Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Solicitud_Alzamiento_Prenda"),R.toString()),{privacidadDocumento:o,fechaOtorgamientoEscritura:e,fechaSuscripcion:n,fecha_de_autorizacion:a,fechaProtocolizacionContratoPrivado:i,nombre_notaria:r,numeroRepertorioNotario:c,runRequiriente:t,nombreRequiriente:s,correoRequiriente:l,fechaRequirente:u,estadoPrimario:C,estadoSecundario:0,activoFijo:g,bienesAgropecuarios:h,prendaVehiculo:v,derechosIntangibles:f,"año_repertorio_RPsD":b,numeroRepertorioContratoPrenda:_,oficina:"mi oficina",firma:!1,usuarioCreador:localStorage.mail}).then((function(){console.log("PAGANDO EN CAJA"),0==j?alert("Solicitud Guardada Exitosamente"):(S&&(Ua("A",R.toString(),1,localStorage.mail),setTimeout((function(){var t="http://ec2-75-101-231-83.compute-1.amazonaws.com:4033/api/checkout/pay",o='{"id_persona":"'+localStorage.rutLog+'", "numero_repertorio":"'+Na+'", "monto":'+(parseInt(Va[1]["precio"])+parseInt(Xa))+"}";fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:o}).then((function(t){t.json().then((function(t){alert(t.msg),console.log("PAGADO"),Ua("A",R.toString(),2,localStorage.mail),d.redirect()}))}))}),1500)),alert("Solicitud Enviada Exitosamente"))})),1==C&&La(p,m,R.toString(),2)}))}}var Va=[];function $a(){Object(O["e"])(Object(O["a"])(_m,"Precios")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();Va.push(o)})),console.log("PRECIOS"),console.log(Va)}))}var Ha,Ya=[];function Za(t){Ya=[],Object(O["e"])(Object(O["a"])(_m,"Patente_por_Inscripcion")).then((function(o){var e=o.docs;e.forEach((function(o){var e=o.data();e.idInscripcion==t&&Ya.push(e)})),console.log("AUTOS: "),console.log(Ya)}))}function Ja(t){Object(O["e"])(Object(O["a"])(_m,"Solicitud_Inscripcion_Prenda")).then((function(o){var e=o.docs;e.forEach((function(o){var e=o.data();console.log(o.id),o.id==t&&(Ha=e.numeroRepertorioContratoPrenda)}))}))}var Xa=0,Ka=!1;function Qa(){Ka=!1}var Wa,ti,oi={mounted:function(){var t=this;Qa(),$a(),Za(localStorage.idSol),Ja(localStorage.idSol),setTimeout((function(){console.log("REPERTORIO GLOBAL"),console.log(Ha),t.items=[],console.log(Ya);var o=document.getElementById("monto");console.log("Enviando REQUEST"),Xa=0,Ya.forEach((function(o){if(Xa+=parseInt(Va[9]["precio"])+parseInt(Va[8]["precio"]),1==o.inscripcionPrendaRVM){console.log("PATENTE");var e=new XMLHttpRequest,n="http://ec2-75-101-231-83.compute-1.amazonaws.com:4031/API/vehicles/licensePlates?patente="+o.patente;e.open("GET",n),e.send(),e.onload=function(){if(200==e.status){var t=JSON.parse(e.response);console.log("MENSAJE RECIVIDO"),console.log(t),Ka=!1,t.solicitudes.forEach((function(t){console.log(t.numero_repertorio),console.log(Ha.split("-")[1]+"-"+Ha.split("-")[0]),t.numero_repertorio==Ha.split("-")[1]+"-"+Ha.split("-")[0]&&(console.log("ENTRO EN PENDIENTE"),Ka=!0)})),console.log("LARGO"),console.log(t.solicitudes.length),console.log(Ka)}}}var a={patente:o.patente,rvm:o.inscripcionPrendaRVM,GoE:o.inscripcionProhibicionGravarEnajenar,costo:"-"};t.items.push(a)})),o.innerHTML="$"+(parseInt(Va[1]["precio"])+parseInt(Xa))}),1500)},name:"Dashboard",data:function(){return{opcion:localStorage.my_opts.split(","),username:localStorage.user,tipoDoc:"",FOtorgamiento:"",FSuscripcion:"",FAutorizacion:"",FProtocolizacion:"",RepNotaria:"",anioRepNotaria:"",ProhibGravEnajenar:!1,tipoPersona:"Natural",run:"",id:"",pais:"",rut:"",razonsocial:"",Apaterno:"",Amaterno:"",nombres:"",nombreRequirente:"",nDocRequirente:"",correoRequirente:"",fechaRequirente:this.currentDateTime(),Bienes:[],constituyentes:[],deudores:[],vehiculos:[],contrato:null,anexos:null,notaria:""}},props:{rol:{type:String,default:localStorage.rol},items:{type:Array,default:new Array},patente:{type:String,default:""},GoE:{type:Boolean,default:!1},rvm:{type:Boolean,default:!1},estado:{type:String,default:""}},components:{AntecedentesFormularioALZA:Fa,VehiculosFormulario:ka,ContratoFormulario:Un,AnexosFormulario:Yn,Monto:ia,Menu:B,Navbar:ut,RequirenteFormulario:Wn},methods:{getNotaria:function(t){this.notaria=t},currentDateTime:function(){var t=new Date,o=t.getDate()+"-"+(t.getMonth()+1)+"-"+t.getFullYear();return o},gettipoDoc:function(t){this.tipoDoc=t},getFOtorgamiento:function(t){this.FOtorgamiento=t},getFSuscripcion:function(t){this.FSuscripcion=t},getFAutorizacion:function(t){this.FAutorizacion=t},getFProtocolizacion:function(t){this.FProtocolizacion=t},getRepNotaria:function(t){this.RepNotaria=t},getanioRepNotaria:function(t){this.anioRepNotaria=t},getProhibGravEnajenar:function(t){this.ProhibGravEnajenar=t},gettipoPersona:function(t){this.tipoPersona=t},getrun:function(t){this.run=t},getid:function(t){this.id=t},getpais:function(t){this.pais=t},getrut:function(t){this.rut=t},getrazonsocial:function(t){this.razonsocial=t},getApaterno:function(t){this.Apaterno=t},getAmaterno:function(t){this.Amaterno=t},getnombreRequirente:function(t){this.nombreRequirente=t},getrutRequirente:function(t){this.nDocRequirente=t},getCorreoRequirente:function(t){this.correoRequirente=t},getFechaRequirente:function(t){this.fechaRequirente=t},getnombres:function(t){this.nombres=t},getBienes:function(t){this.Bienes=t},getConstituyentes:function(t){this.constituyentes=t,console.log("Constituyentes:"+this.constituyentes)},getDeudores:function(t){this.deudores=t,console.log("Deudores:"+this.deudores)},getVehiculos:function(t){this.vehiculos=t},getContrato:function(t){this.contrato=t,console.log("Contrato:"+this.contrato)},getAnexos:function(t){this.anexos=t,console.log("Anexos:"+this.anexos)},alzar:function(t){var o=this;return Object(U["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(Ka){e.next=12;break}return console.log("MIS BIENES"),console.log(o.Bienes[0]),console.log(o.Bienes[1]),console.log(o.Bienes[2]),console.log(o.Bienes[3]),e.next=8,o.vehiculos.forEach((function(t){console.log(t)}));case 8:Ga(o.nDocRequirente,o.tipoDoc.toString(),o.FOtorgamiento.toString(),o.FSuscripcion.toString(),o.FAutorizacion.toString(),o.FProtocolizacion.toString(),o.notaria,(o.RepNotaria+"-"+o.anioRepNotaria).toString(),o.nombreRequirente,o.correoRequirente,o.fechaRequirente,o.contrato,o.anexos,o.Bienes[0],o.Bienes[1],o.Bienes[2],o.Bienes[3],-1,-1,t,"FUNCIONARIOOFICINA"==localStorage.rol,"Mi oficina"),o.$router.push({path:"/Dashboard/".concat(localStorage.rol,"/").concat(localStorage.user,"/MisSolicitudes"),params:{username:localStorage.user,rol:localStorage.rol}}),e.next=14;break;case 12:alert("Existen patentes con solicitudes pendientes"),console.log("NO ESTA PERMITIDO");case 14:case"end":return e.stop()}}),e)})))()}}},ei=oi,ni=(e("c037"),Object(p["a"])(ei,Ea,Ca,!1,null,"bb21b832",null)),ai=ni.exports,ii=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"dashboard"}},[e("Menu",{attrs:{opciones:t.opcion}}),e("Navbar",{attrs:{username:t.username}}),e("div",{staticClass:"right"},[e("h1",{attrs:{bold:""}},[t._v("ALZAMIENTO PARCIAL")]),"FUNCIONARIOOFICINA"==t.rol?e("RequirenteFormulario"):t._e(),e("AntecedentesFormularioALZA",{attrs:{rol:t.rol},on:{gettipoDoc:t.gettipoDoc,getFOtorgamiento:t.getFOtorgamiento,getFSuscripcion:t.getFSuscripcion,getFAutorizacion:t.getFAutorizacion,getFProtocolizacion:t.getFProtocolizacion,getRepNotaria:t.getRepNotaria,getanioRepNotaria:t.getanioRepNotaria,getProhibGravEnajenar:t.getProhibGravEnajenar,getBienes:t.getBienes,getNotaria:t.getNotaria}}),e("VehiculoLecturaFormularioALZAMIENTOPARCIAL",{attrs:{tipoSolicitud:t.Modificacion,items:t.items}}),"FUNCIONARIOOFICINA"!==t.rol?e("ContratoFormulario",{on:{getContrato:t.getContrato}}):t._e(),"FUNCIONARIOOFICINA"!==t.rol?e("AnexosFormulario",{on:{getAnexos:t.getAnexos}}):t._e(),e("Monto"),e("div",{staticClass:"row d-flex justify-content-center",attrs:{id:"contenedor"}},[e("button",{staticClass:"col-2 titleButton",on:{click:function(o){return t.modificar(!1)}}},[t._v("Guardar")]),e("button",{staticClass:"col-2 titleButton",on:{click:function(o){return t.modificar(!0)}}},[t._v("Enviar")])])],1)],1)},ri=[];function ci(t){if(!t.includes("-"))return!1;t=t.split("-");var o=t[0],e=t[1],n=(new Date).getFullYear();return!isNaN(o)&&!o.includes("e")&&4==o.length&&!(e>n||isNaN(e)||e.length<4)}function si(t,o,e,n){var a=["El pago no se realizo","Hubo intencion de pagar","Pagado"];Object(O["e"])(Object(O["a"])(_m,"Counter_N_RPsD")).then((function(n){var a=n.docs[0].data(),i=a.counter;i=i<10?"000"+i.toString():i<100?"00"+i.toString():i<1e3?"0"+i.toString():i.toString();var r=a.year;Wa=i+"-"+r.toString(),console.log("RPSD: "+Wa),1==e?"I"==t?Object(O["i"])(Object(O["c"])(_m,"Solicitud_Inscripcion_Prenda",o),{estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}).then((function(){console.log("ACTUALIZADO")})):"M"==t?Object(O["i"])(Object(O["c"])(_m,"Solicitud_Modificacion_Prenda",o),{estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}):"A"==t&&Object(O["i"])(Object(O["c"])(_m,"Solicitud_Alzamiento_Prenda",o),{estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}):"I"==t?Object(O["i"])(Object(O["c"])(_m,"Solicitud_Inscripcion_Prenda",o),{estadoSecundario:e}).then((function(){console.log("ACTUALIZADO")})):"M"==t?Object(O["i"])(Object(O["c"])(_m,"Solicitud_Modificacion_Prenda",o),{estadoSecundario:e}):"A"==t&&Object(O["i"])(Object(O["c"])(_m,"Solicitud_Alzamiento_Prenda",o),{estadoSecundario:e}),Object(O["i"])(Object(O["c"])(_m,"Counter_N_RPsD","0"),{counter:a.counter+1})}));var i=new Date;Object(O["e"])(Object(O["a"])(_m,"Bitacora")).then((function(r){var c=r.docs.length,s="",l="",u="";"I"==t?s=o:"M"==t?l=o:"A"==t&&(u=o),Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Bitacora"),c.toString()),{idInscripcion:s,idModificacion:l,idAlzamiento:u,idUser:n,comment:a[e],fechaCambio:i.getFullYear()+"-"+(i.getMonth()+1)+"-"+i.getDate()})}))}function li(t,o,e,n){var a=null,i="",r="",c="";console.log("MOD DATA"),console.log(e),console.log(n),0==n?i=e:1==n?r=e:2==n&&(c=e),Object(O["e"])(Object(O["a"])(_m,"Document_RPsD")).then((function(t){var o=t.docs.length,e=t.docs[o-1];a=e.data().numero_repertorio_RPsD})).then((function(){Object(O["e"])(Object(O["a"])(_m,"Document_RPsD")).then(function(){var e=Object(U["a"])(regeneratorRuntime.mark((function e(n){var s,l,u,d,p,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:s=n.docs.length,console.log("Entro"),l=0;case 3:if(!(l<t.length)){e.next=15;break}return u=Object(bo["c"])(jm,t[l].name),e.next=7,Object(bo["d"])(u,t[l]);case 7:return e.next=9,Object(bo["a"])(u);case 9:d=e.sent,Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Document_RPsD"),s.toString()),{id_alzamiento:i,id_modificacion:r,idInscripcion:c,"año_repertorio_del_contrato":(new Date).getFullYear(),numero_repertorio_RPsD:a+1,url:d,contrato:!0}),s+=1;case 12:l++,e.next=3;break;case 15:l=0;case 16:if(!(l<o.length)){e.next=28;break}return p=Object(bo["c"])(jm,o[l].name),e.next=20,Object(bo["d"])(p,o[l]);case 20:return e.next=22,Object(bo["a"])(p);case 22:m=e.sent,Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Document_RPsD"),s.toString()),{idInscripcion:i,id_alzamiento:c,id_modificacion:r,"año_repertorio_del_contrato":(new Date).getFullYear(),numero_repertorio_RPsD:a+1,url:m,contrato:!1}),s+=1;case 25:l++,e.next=16;break;case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})).then((function(){console.log("EVERYTHING ITS SEND SUCCESFULLY"),alert("Todo se envio de forma correcta")}))}var ui=[],di=[],pi=[],mi=[],gi=[],hi=[];function fi(t,o){"I"==o?Object(O["e"])(Object(O["a"])(_m,"Solicitud_Inscripcion_Prenda")).then((function(o){var e=o.docs;e.forEach((function(o){t==o.id&&(ti=o.data(),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Document_RPsD"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();o.contrato?mi.push(o):gi.push(o)}))})).then((function(){console.log("ARCHIVOS"),console.log(mi),console.log(gi)})),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Persona_Solicitud"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();0==o.tipoContratante?ui.push(o):1==o.tipoContratante?di.push(o):2==o.tipoContratante&&pi.push(o)}))})).then((function(){console.log("PERSONAS"),console.log(ui),console.log(di),console.log(pi)})),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Patente_por_Inscripcion"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();hi.push(o)}))})).then((function(){console.log("PATENTES"),console.log(hi)})))}))})).then((function(){console.log("INSCRIPCION"),console.log(ti)})):"M"==o?Object(O["e"])(Object(O["a"])(_m,"Solicitud_Modificacion_Prenda")).then((function(o){var e=o.docs;e.forEach((function(o){t==o.id&&(ti=o.data(),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Document_RPsD"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();o.contrato?mi.push(o):gi.push(o)}))})).then((function(){console.log("ARCHIVOS"),console.log(mi),console.log(gi)})))}))})).then((function(){console.log("MODIFICACION"),console.log(ti)})):"A"==o&&Object(O["e"])(Object(O["a"])(_m,"Solicitud_Alzamiento_Prenda")).then((function(o){var e=o.docs;e.forEach((function(o){t==o.id&&(ti=o.data(),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Document_RPsD"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();o.contrato?mi.push(o):gi.push(o)}))})).then((function(){console.log("ARCHIVOS"),console.log(mi),console.log(gi)})))}))})).then((function(){console.log("ALZAMIENTO"),console.log(ti)}))}function vi(t,o,e,n,a){var i=this,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",c=arguments.length>6?arguments[6]:void 0,s=arguments.length>7?arguments[7]:void 0,l=arguments.length>8?arguments[8]:void 0,u=arguments.length>9?arguments[9]:void 0,d=arguments.length>10?arguments[10]:void 0,p=arguments.length>11&&void 0!==arguments[11]?arguments[11]:"",m=arguments.length>12&&void 0!==arguments[12]?arguments[12]:"",g=arguments.length>13?arguments[13]:void 0,h=arguments.length>14&&void 0!==arguments[14]?arguments[14]:[],f=arguments.length>15&&void 0!==arguments[15]?arguments[15]:[],v=arguments.length>16?arguments[16]:void 0,b=arguments.length>17?arguments[17]:void 0,_=arguments.length>18?arguments[18]:void 0,j=arguments.length>19?arguments[19]:void 0,S=arguments.length>20?arguments[20]:void 0,A=arguments.length>21&&void 0!==arguments[21]?arguments[21]:"",E=arguments.length>22&&void 0!==arguments[22]?arguments[22]:"",C=arguments.length>23?arguments[23]:void 0,R=!0;if(console.log(c),9==c.length||ci(c)||(R=!1,console.log("NUMERO REPERTORIO NOTARIO FORMATO INCORRECTO"),alert("Numero repertorio notario formato incorrecto")),R){var I=null;Object(O["e"])(Object(O["a"])(_m,"Solicitud_Modificacion_Prenda")).then((function(t){I=t.docs.length,console.log(I),console.log("submit"),console.log(v),console.log(b),console.log(_),console.log(j)})).then((function(){Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Solicitud_Modificacion_Prenda"),I.toString()),{privacidadDocumento:t,fechaSuscripcion:o,fechaOtorgamientoEscritura:e,fechaProtocolizacionContratoPrivado:n,fechaAutorizacionContratoPrivado:a,numeroRepertorioNotario:c,parrafo_modificacion_generica:s,tipo_de_persona:l,nombre_acreedor:u,rut_acreedor:d,nombreRequiriente:p,runRequiriente:m,estadoPrimario:g,estadoSecundario:0,activoFijo:v,bienesAgropecuarios:b,derechosIntangibles:_,prendaVehiculo:j,nombre_notaria:r,prohibicionGravarEnajenar:S,correoRequiriente:A,fechaRequirente:E,revisorAsignado:-1,firma:!1,tipoModificacion:1,usuarioCreador:localStorage.mail}).then((function(){console.log("PAGANDO EN CAJA"),C?("FUNCIONARIOOFICINA"==localStorage.rol&&(si("M",I.toString(),1,localStorage.mail),setTimeout((function(){var t="http://ec2-75-101-231-83.compute-1.amazonaws.com:4033/api/checkout/pay",o='{"id_persona":"'+localStorage.rutLog+'", "numero_repertorio":"'+Wa+'", "monto":'+(parseInt(bi[2]["precio"])+parseInt(Ci))+"}";fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:o}).then((function(t){t.json().then((function(t){alert(t.msg),console.log("PAGADO"),si("M",I.toString(),2,localStorage.mail),i.redirect()}))}))}),1500)),alert("Solicitud Enviada Exitosamente")):alert("Solicitud Guardada Exitosamente")})),console.log("entros"),1==g&&(li(h,f,I,1),console.log("enviado"))}))}}var bi=[];function Oi(){Object(O["e"])(Object(O["a"])(_m,"Precios")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();bi.push(o)})),console.log(bi)}))}var _i=[];function ji(t){_i=[],Object(O["e"])(Object(O["a"])(_m,"Patente_por_Inscripcion")).then((function(o){var e=o.docs;e.forEach((function(o){var e=o.data();e.idInscripcion==t&&_i.push(e)})),console.log("AUTOS: "),console.log(_i)}))}var Si=!1;function Ai(){Si=!1}var Ei,Ci=0,Ri={name:"formularioModificacion",mounted:function(){var t=this;Ai(),console.log("ROL"),console.log(localStorage.rol),fi(localStorage.mod_want,"I"),Oi(),ji(localStorage.idSol),setTimeout((function(){console.log("SOLICITUD DE INSCRIPCION ENCONTRADA EN ESTOS LUGARES"),console.log(ti),t.items=[],console.log(_i);var o=document.getElementById("monto");console.log("Enviando REQUEST"),Ci=0,_i.forEach((function(o){if(Ci+=parseInt(bi[8]["precio"]),1==o.inscripcionPrendaRVM){var e=new XMLHttpRequest,n="http://ec2-75-101-231-83.compute-1.amazonaws.com:4031/API/vehicles/licensePlates?patente="+o.patente;e.open("GET",n),e.send(),e.onload=function(){if(200==e.status){var t=JSON.parse(e.response);console.log("MENSAJE RECIVIDO"),console.log(t),console.log("LARGO"),console.log(t.solicitudes.length),t.solicitudes.length>0&&(Si=!0)}}}var a={patente:o.patente,rvm:o.inscripcionPrendaRVM,GoE:o.inscripcionProhibicionGravarEnajenar,costo:"-"};t.items.push(a)})),o.innerHTML="$"+(parseInt(bi[2]["precio"])+parseInt(Ci))}),1e3)},data:function(){return{opcion:localStorage.my_opts.split(","),username:localStorage.user,tipoDoc:"",FOtorgamiento:"",FSuscripcion:"",FAutorizacion:"",FProtocolizacion:"",RepNotaria:"",anioRepNotaria:"",ProhibGravEnajenar:!1,tipoPersona:"Natural",run:"",id:"",pais:"",rut:"",razonsocial:"",Apaterno:"",Amaterno:"",nombres:"",nombreRequirente:"",nDocRequirente:"",correoRequirente:"",fechaRequirente:this.currentDateTime(),Bienes:[],constituyentes:[{}],deudores:[{}],vehiculos:[{}],contrato:null,anexos:null}},props:{rol:{type:String,default:localStorage.rol},items:{type:Array,default:new Array}},components:{AntecedentesFormularioALZA:Fa,VehiculoLecturaFormularioALZAMIENTOPARCIAL:ka,ContratoFormulario:Un,RequirenteFormulario:Wn,AnexosFormulario:Yn,Monto:ia,Menu:B,Navbar:ut},methods:{getNotaria:function(t){this.notaria=t},gettipoDoc:function(t){this.tipoDoc=t},getFOtorgamiento:function(t){this.FOtorgamiento=t},getFSuscripcion:function(t){this.FSuscripcion=t},getFAutorizacion:function(t){this.FAutorizacion=t},getFProtocolizacion:function(t){this.FProtocolizacion=t},getRepNotaria:function(t){this.RepNotaria=t},getanioRepNotaria:function(t){this.anioRepNotaria=t},getProhibGravEnajenar:function(t){this.ProhibGravEnajenar=t},gettipoPersona:function(t){this.tipoPersona=t},getrun:function(t){this.run=t},getid:function(t){this.id=t},getpais:function(t){this.pais=t},getrut:function(t){this.rut=t},getrazonsocial:function(t){this.razonsocial=t},getApaterno:function(t){this.Apaterno=t},getAmaterno:function(t){this.Amaterno=t},getnombreRequirente:function(t){this.nombreRequirente=t},getrutRequirente:function(t){this.nDocRequirente=t},getCorreoRequirente:function(t){this.correoRequirente=t},currentDateTime:function(){var t=new Date,o=t.getDate()+"-"+(t.getMonth()+1)+"-"+t.getFullYear();return o},getFechaRequirente:function(t){this.fechaRequirente=t},getnombres:function(t){this.nombres=t},getBienes:function(t){this.Bienes=t},getConstituyentes:function(t){this.constituyentes=t,console.log("Constituyentes:"+this.constituyentes)},getDeudores:function(t){this.deudores=t,console.log("Deudores:"+this.deudores)},getVehiculos:function(t){this.vehiculos=t},getContrato:function(t){this.contrato=t,console.log("Contrato:"+this.contrato)},getAnexos:function(t){this.anexos=t,console.log("Anexos:"+this.anexos)},modificar:function(t){var o=0;t&&(o="FUNCIONARIONOTARIA"==localStorage.rol?1:3),Si?(alert("Existen patentes con solicitudes pendientes"),console.log("NO ESTA PERMITIDO")):(vi(this.tipoDoc.toString(),this.FSuscripcion.toString(),this.FOtorgamiento.toString(),this.FProtocolizacion.toString(),this.FAutorizacion.toString(),this.notaria,(this.RepNotaria+"-"+this.anioRepNotaria).toString(),"parrafo_modificacion_generica",this.tipoPersona,this.nombres,this.run,this.nombreRequirente,this.nDocRequirente,o,this.contrato,this.anexos,this.Bienes[0],this.Bienes[1],this.Bienes[2],this.Bienes[3],this.ProhibGravEnajenar,this.correoRequirente,this.fechaRequirente,t),this.$router.push({path:"/Dashboard/".concat(localStorage.rol,"/").concat(localStorage.user,"/MisSolicitudes"),params:{username:localStorage.user,rol:localStorage.rol}}))}}},Ii=Ri,Pi=(e("f2ab"),Object(p["a"])(Ii,ii,ri,!1,null,"20593764",null)),Ni=Pi.exports,Di=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"dashboard"}},[e("Menu",{attrs:{opciones:t.opcion}}),e("Navbar",{attrs:{username:t.username}}),e("div",{staticClass:"right"},[e("h1",{attrs:{bold:""}},[t._v("CAMBIO ACREEDOR")]),"FUNCIONARIOOFICINA"==t.rol?e("RequirenteFormulario"):t._e(),e("AntecedentesFormularioALZA",{attrs:{rol:t.rol},on:{gettipoDoc:t.gettipoDoc,getFOtorgamiento:t.getFOtorgamiento,getFSuscripcion:t.getFSuscripcion,getFAutorizacion:t.getFAutorizacion,getFProtocolizacion:t.getFProtocolizacion,getRepNotaria:t.getRepNotaria,getanioRepNotaria:t.getanioRepNotaria,getProhibGravEnajenar:t.getProhibGravEnajenar,getBienes:t.getBienes,getNotaria:t.getNotaria}}),e("AcreedorFormulario",{on:{gettipoPersona:t.gettipoPersona,getrun:t.getrun,getid:t.getid,getpais:t.getpais,getrut:t.getrut,getrazonsocial:t.getrazonsocial,getApaterno:t.getApaterno,getAmaterno:t.getAmaterno,getnombres:t.getnombres}}),e("VehiculoLecturaFormulario",{attrs:{tipoSolicitud:t.Modificacion,items:t.items}}),"FUNCIONARIOOFICINA"!==t.rol?e("ContratoFormulario",{on:{getContrato:t.getContrato}}):t._e(),"FUNCIONARIOOFICINA"!==t.rol?e("AnexosFormulario",{on:{getAnexos:t.getAnexos}}):t._e(),e("Monto"),e("div",{staticClass:"row d-flex justify-content-center",attrs:{id:"contenedor"}},[e("button",{staticClass:"col-2 titleButton",on:{click:function(o){return t.modificar(!1)}}},[t._v("Guardar")]),e("button",{staticClass:"col-2 titleButton",on:{click:function(o){return t.modificar(!0)}}},[t._v("Enviar")])])],1)],1)},yi=[];function Ti(t){if(!t.includes("-"))return!1;t=t.split("-");var o=t[0],e=t[1],n=(new Date).getFullYear();return!isNaN(o)&&!o.includes("e")&&4==o.length&&!(e>n||isNaN(e)||e.length<4)}function Fi(t,o,e,n){var a=["El pago no se realizo","Hubo intencion de pagar","Pagado"];Object(O["e"])(Object(O["a"])(_m,"Counter_N_RPsD")).then((function(n){var a=n.docs[0].data(),i=a.counter;i=i<10?"000"+i.toString():i<100?"00"+i.toString():i<1e3?"0"+i.toString():i.toString();var r=a.year;Ei=i+"-"+r.toString(),console.log("RPSD: "+Ei),1==e?"I"==t?Object(O["i"])(Object(O["c"])(_m,"Solicitud_Inscripcion_Prenda",o),{estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}).then((function(){console.log("ACTUALIZADO")})):"M"==t?Object(O["i"])(Object(O["c"])(_m,"Solicitud_Modificacion_Prenda",o),{estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}):"A"==t&&Object(O["i"])(Object(O["c"])(_m,"Solicitud_Alzamiento_Prenda",o),{estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}):"I"==t?Object(O["i"])(Object(O["c"])(_m,"Solicitud_Inscripcion_Prenda",o),{estadoSecundario:e}).then((function(){console.log("ACTUALIZADO")})):"M"==t?Object(O["i"])(Object(O["c"])(_m,"Solicitud_Modificacion_Prenda",o),{estadoSecundario:e}):"A"==t&&Object(O["i"])(Object(O["c"])(_m,"Solicitud_Alzamiento_Prenda",o),{estadoSecundario:e}),Object(O["i"])(Object(O["c"])(_m,"Counter_N_RPsD","0"),{counter:a.counter+1})}));var i=new Date;Object(O["e"])(Object(O["a"])(_m,"Bitacora")).then((function(r){var c=r.docs.length,s="",l="",u="";"I"==t?s=o:"M"==t?l=o:"A"==t&&(u=o),Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Bitacora"),c.toString()),{idInscripcion:s,idModificacion:l,idAlzamiento:u,idUser:n,comment:a[e],fechaCambio:i.getFullYear()+"-"+(i.getMonth()+1)+"-"+i.getDate()})}))}function xi(t,o,e,n){var a=null,i="",r="",c="";0==n?i=e:1==n?r=e:2==n&&(c=e),Object(O["e"])(Object(O["a"])(_m,"Document_RPsD")).then((function(t){var o=t.docs.length,e=t.docs[o-1];a=e.data().numero_repertorio_RPsD})).then((function(){Object(O["e"])(Object(O["a"])(_m,"Document_RPsD")).then(function(){var e=Object(U["a"])(regeneratorRuntime.mark((function e(n){var s,l,u,d,p,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:s=n.docs.length,console.log("Entro"),l=0;case 3:if(!(l<t.length)){e.next=15;break}return u=Object(bo["c"])(jm,t[l].name),e.next=7,Object(bo["d"])(u,t[l]);case 7:return e.next=9,Object(bo["a"])(u);case 9:d=e.sent,Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Document_RPsD"),s.toString()),{id_alzamiento:i,id_modificacion:r,idInscripcion:c,"año_repertorio_del_contrato":(new Date).getFullYear(),numero_repertorio_RPsD:a+1,url:d,contrato:!0}),s+=1;case 12:l++,e.next=3;break;case 15:l=0;case 16:if(!(l<o.length)){e.next=28;break}return p=Object(bo["c"])(jm,o[l].name),e.next=20,Object(bo["d"])(p,o[l]);case 20:return e.next=22,Object(bo["a"])(p);case 22:m=e.sent,Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Document_RPsD"),s.toString()),{idInscripcion:i,id_alzamiento:c,id_modificacion:r,"año_repertorio_del_contrato":(new Date).getFullYear(),numero_repertorio_RPsD:a+1,url:m,contrato:!1}),s+=1;case 25:l++,e.next=16;break;case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})).then((function(){console.log("EVERYTHING ITS SEND SUCCESFULLY"),alert("Todo se ha mandado correctamente")}))}function zi(t,o,e,n,a){var i=this,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",c=arguments.length>6?arguments[6]:void 0,s=arguments.length>7?arguments[7]:void 0,l=arguments.length>8?arguments[8]:void 0,u=arguments.length>9?arguments[9]:void 0,d=arguments.length>10?arguments[10]:void 0,p=arguments.length>11&&void 0!==arguments[11]?arguments[11]:"",m=arguments.length>12&&void 0!==arguments[12]?arguments[12]:"",g=arguments.length>13?arguments[13]:void 0,h=arguments.length>14&&void 0!==arguments[14]?arguments[14]:[],f=arguments.length>15&&void 0!==arguments[15]?arguments[15]:[],v=arguments.length>16?arguments[16]:void 0,b=arguments.length>17?arguments[17]:void 0,_=arguments.length>18?arguments[18]:void 0,j=arguments.length>19?arguments[19]:void 0,S=arguments.length>20?arguments[20]:void 0,A=arguments.length>21&&void 0!==arguments[21]?arguments[21]:"",E=arguments.length>22&&void 0!==arguments[22]?arguments[22]:"",C=arguments.length>23?arguments[23]:void 0,R=!0;if(console.log(c),9==c.length||Ti(c)||(R=!1,console.log("NUMERO REPERTORIO NOTARIO FORMATO INCORRECTO"),alert("Numero repertorio notario formato incorrecto")),R){var I=null;Object(O["e"])(Object(O["a"])(_m,"Solicitud_Modificacion_Prenda")).then((function(t){I=t.docs.length,console.log(I),console.log("submit")})).then((function(){Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Solicitud_Modificacion_Prenda"),I.toString()),{privacidadDocumento:t,fechaSuscripcion:o,fechaOtorgamientoEscritura:e,fechaProtocolizacionContratoPrivado:n,fechaAutorizacionContratoPrivado:a,numeroRepertorioNotario:c,parrafo_modificacion_generica:s,tipo_de_persona:l,nombre_acreedor:u,rut_acreedor:d,nombreRequiriente:p,runRequiriente:m,estadoPrimario:g,estadoSecundario:0,activoFijo:v,bienesAgropecuarios:b,derechosIntangibles:_,prendaVehiculo:j,nombre_notaria:r,prohibicionGravarEnajenar:S,correoRequiriente:A,fechaRequirente:E,revisorAsignado:-1,firma:!1,tipoModificacion:2,usuarioCreador:localStorage.mail}).then((function(){console.log("PAGANDO EN CAJA"),C?("FUNCIONARIOOFICINA"==localStorage.rol&&(Fi("M",I.toString(),1,localStorage.mail),setTimeout((function(){var t="http://ec2-75-101-231-83.compute-1.amazonaws.com:4033/api/checkout/pay",o='{"id_persona":"'+localStorage.rutLog+'", "numero_repertorio":"'+Ei+'", "monto":'+(parseInt(Mi[2]["precio"])+parseInt(qi))+"}";fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:o}).then((function(t){t.json().then((function(t){alert(t.msg),console.log("PAGADO"),Fi("M",I.toString(),2,localStorage.mail),i.redirect()}))}))}),1500)),alert("Solicitud Enviada Exitosamente")):alert("Solicitud Guardada Exitosamente")})),console.log("entros"),1==g&&(xi(h,f,I,1),console.log("enviado"))}))}}var Mi=[];function wi(){Object(O["e"])(Object(O["a"])(_m,"Precios")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();Mi.push(o)})),console.log(Mi)}))}var Bi=[];function ki(t){Bi=[],Object(O["e"])(Object(O["a"])(_m,"Patente_por_Inscripcion")).then((function(o){var e=o.docs;e.forEach((function(o){var e=o.data();e.idInscripcion==t&&Bi.push(e)})),console.log("AUTOS: "),console.log(Bi)}))}var qi=0,Ui=!1;function Li(){Ui=!1}var Gi,Vi={mounted:function(){var t=this;wi(),Li(),ki(localStorage.idSol),setTimeout((function(){t.items=[],console.log(Bi);var o=document.getElementById("monto");console.log("Enviando REQUEST"),qi=0,Bi.forEach((function(o){if(qi+=parseInt(Mi[8]["precio"]),1==o.inscripcionPrendaRVM){var e=new XMLHttpRequest,n="http://ec2-75-101-231-83.compute-1.amazonaws.com:4031/API/vehicles/licensePlates?patente="+o.patente;e.open("GET",n),e.send(),e.onload=function(){if(200==e.status){var t=JSON.parse(e.response);console.log("MENSAJE RECIVIDO"),console.log(t),console.log("LARGO"),console.log(t.solicitudes.length),t.solicitudes.length>0&&(Ui=!0)}}}var a={patente:o.patente,rvm:o.inscripcionPrendaRVM,GoE:o.inscripcionProhibicionGravarEnajenar,costo:"-"};t.items.push(a)})),o.innerHTML="$"+(parseInt(Mi[2]["precio"])+parseInt(qi))}),1e3)},name:"formularioModificacion",data:function(){return{opcion:localStorage.my_opts.split(","),username:localStorage.user,tipoDoc:"",FOtorgamiento:"",FSuscripcion:"",FAutorizacion:"",FProtocolizacion:"",RepNotaria:"",anioRepNotaria:"",ProhibGravEnajenar:!1,tipoPersona:"Natural",run:"",id:"",pais:"",rut:"",razonsocial:"",Apaterno:"",Amaterno:"",nombres:"",nombreRequirente:"",nDocRequirente:"",correoRequirente:"",fechaRequirente:this.currentDateTime(),Bienes:[],constituyentes:[{}],deudores:[{}],vehiculos:[{}],contrato:null,anexos:null}},props:{rol:{type:String,default:localStorage.rol},items:{type:Array,default:new Array}},components:{AntecedentesFormularioALZA:Fa,AcreedorFormulario:mn,VehiculoLecturaFormulario:ka,RequirenteFormulario:Wn,ContratoFormulario:Un,AnexosFormulario:Yn,Monto:ia,Menu:B,Navbar:ut},methods:{getNotaria:function(t){this.notaria=t},gettipoDoc:function(t){this.tipoDoc=t},getFOtorgamiento:function(t){this.FOtorgamiento=t},getFSuscripcion:function(t){this.FSuscripcion=t},getFAutorizacion:function(t){this.FAutorizacion=t},getFProtocolizacion:function(t){this.FProtocolizacion=t},getRepNotaria:function(t){this.RepNotaria=t},getanioRepNotaria:function(t){this.anioRepNotaria=t},getProhibGravEnajenar:function(t){this.ProhibGravEnajenar=t},gettipoPersona:function(t){this.tipoPersona=t},getrun:function(t){this.run=t},getid:function(t){this.id=t},getpais:function(t){this.pais=t},getrut:function(t){this.rut=t},getrazonsocial:function(t){this.razonsocial=t},getApaterno:function(t){this.Apaterno=t},getAmaterno:function(t){this.Amaterno=t},getnombreRequirente:function(t){this.nombreRequirente=t},getrutRequirente:function(t){this.nDocRequirente=t},getCorreoRequirente:function(t){this.correoRequirente=t},currentDateTime:function(){var t=new Date,o=t.getDate()+"-"+(t.getMonth()+1)+"-"+t.getFullYear();return o},getFechaRequirente:function(t){this.fechaRequirente=t},getnombres:function(t){this.nombres=t},getBienes:function(t){this.Bienes=t},getConstituyentes:function(t){this.constituyentes=t,console.log("Constituyentes:"+this.constituyentes)},getDeudores:function(t){this.deudores=t,console.log("Deudores:"+this.deudores)},getVehiculos:function(t){this.vehiculos=t},getContrato:function(t){this.contrato=t,console.log("Contrato:"+this.contrato)},getAnexos:function(t){this.anexos=t,console.log("Anexos:"+this.anexos)},modificar:function(t){var o=this,e=0;t&&(e="FUNCIONARIONOTARIA"==localStorage.rol?1:3);var n=new XMLHttpRequest,a="http://ec2-75-101-231-83.compute-1.amazonaws.com:4030/api/users/user?run="+this.run;n.open("GET",a),n.send(),n.onload=function(){if(200==n.status){var a=JSON.parse(n.response);a.valid?Ui?alert("Existen patentes con solicitudes pendientes"):(zi(o.tipoDoc.toString(),o.FSuscripcion.toString(),o.FOtorgamiento.toString(),o.FProtocolizacion.toString(),o.FAutorizacion.toString(),o.notaria,(o.RepNotaria+"-"+o.anioRepNotaria).toString(),"parrafo_modificacion_generica",o.tipoPersona,o.nombres+" "+o.Apaterno+" "+o.Amaterno,o.run,o.nombreRequirente,o.nDocRequirente,e,o.contrato,o.anexos,o.Bienes[0],o.Bienes[1],o.Bienes[2],o.Bienes[3],o.ProhibGravEnajenar,o.correoRequirente,o.fechaRequirente,t),o.$router.push({path:"/Dashboard/".concat(localStorage.rol,"/").concat(localStorage.user,"/MisSolicitudes"),params:{username:localStorage.user,rol:localStorage.rol}})):alert(a.msg)}}}}},$i=Vi,Hi=(e("4df9"),Object(p["a"])($i,Di,yi,!1,null,"4130065e",null)),Yi=Hi.exports,Zi=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"dashboard"}},[e("Menu",{attrs:{opciones:t.opcion}}),e("Navbar",{attrs:{username:t.username}}),e("div",{staticClass:"right"},[e("h1",{attrs:{bold:""}},[t._v("OTROS")]),"FUNCIONARIOOFICINA"==t.rol?e("RequirenteFormulario"):t._e(),e("AntecedentesFormularioALZA",{attrs:{rol:t.rol},on:{gettipoDoc:t.gettipoDoc,getFOtorgamiento:t.getFOtorgamiento,getFSuscripcion:t.getFSuscripcion,getFAutorizacion:t.getFAutorizacion,getFProtocolizacion:t.getFProtocolizacion,getRepNotaria:t.getRepNotaria,getanioRepNotaria:t.getanioRepNotaria,getProhibGravEnajenar:t.getProhibGravEnajenar,getBienes:t.getBienes,getNotaria:t.getNotaria}}),t._m(0),"FUNCIONARIOOFICINA"!==t.rol?e("ContratoFormulario",{on:{getContrato:t.getContrato}}):t._e(),"FUNCIONARIOOFICINA"!==t.rol?e("AnexosFormulario",{on:{getAnexos:t.getAnexos}}):t._e(),e("Monto"),e("div",{staticClass:"row d-flex justify-content-center",attrs:{id:"contenedor"}},[e("button",{staticClass:"col-2 titleButton",on:{click:function(o){return t.modificar(!1)}}},[t._v("Guardar")]),e("button",{staticClass:"col-2 titleButton",on:{click:function(o){return t.modificar(!0)}}},[t._v("Enviar")])])],1)],1)},Ji=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"mb-3",attrs:{id:"textarea"}},[e("label",{staticClass:"form-label titleFormulario",attrs:{for:"textoOTRO"}},[t._v("RESUMA EL MOTIVO DE LA MODIFICACION")]),e("textarea",{staticClass:"form-control",attrs:{id:"textoOTRO",rows:"3"}})])}];function Xi(t){if(!t.includes("-"))return!1;t=t.split("-");var o=t[0],e=t[1],n=(new Date).getFullYear();return!isNaN(o)&&!o.includes("e")&&4==o.length&&!(e>n||isNaN(e)||e.length<4)}function Ki(t,o,e,n){var a=["El pago no se realizo","Hubo intencion de pagar","Pagado"];Object(O["e"])(Object(O["a"])(_m,"Counter_N_RPsD")).then((function(n){var a=n.docs[0].data(),i=a.counter;i=i<10?"000"+i.toString():i<100?"00"+i.toString():i<1e3?"0"+i.toString():i.toString();var r=a.year;Gi=i+"-"+r.toString(),console.log("RPSD: "+Gi),1==e?"I"==t?Object(O["i"])(Object(O["c"])(_m,"Solicitud_Inscripcion_Prenda",o),{estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}).then((function(){console.log("ACTUALIZADO")})):"M"==t?Object(O["i"])(Object(O["c"])(_m,"Solicitud_Modificacion_Prenda",o),{estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}):"A"==t&&Object(O["i"])(Object(O["c"])(_m,"Solicitud_Alzamiento_Prenda",o),{estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}):"I"==t?Object(O["i"])(Object(O["c"])(_m,"Solicitud_Inscripcion_Prenda",o),{estadoSecundario:e}).then((function(){console.log("ACTUALIZADO")})):"M"==t?Object(O["i"])(Object(O["c"])(_m,"Solicitud_Modificacion_Prenda",o),{estadoSecundario:e}):"A"==t&&Object(O["i"])(Object(O["c"])(_m,"Solicitud_Alzamiento_Prenda",o),{estadoSecundario:e}),Object(O["i"])(Object(O["c"])(_m,"Counter_N_RPsD","0"),{counter:a.counter+1})}));var i=new Date;Object(O["e"])(Object(O["a"])(_m,"Bitacora")).then((function(r){var c=r.docs.length,s="",l="",u="";"I"==t?s=o:"M"==t?l=o:"A"==t&&(u=o),Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Bitacora"),c.toString()),{idInscripcion:s,idModificacion:l,idAlzamiento:u,idUser:n,comment:a[e],fechaCambio:i.getFullYear()+"-"+(i.getMonth()+1)+"-"+i.getDate()})}))}function Qi(t,o,e,n){var a=null,i="",r="",c="";0==n?i=e:1==n?r=e:2==n&&(c=e),Object(O["e"])(Object(O["a"])(_m,"Document_RPsD")).then((function(t){var o=t.docs.length,e=t.docs[o-1];a=e.data().numero_repertorio_RPsD})).then((function(){Object(O["e"])(Object(O["a"])(_m,"Document_RPsD")).then(function(){var e=Object(U["a"])(regeneratorRuntime.mark((function e(n){var s,l,u,d,p,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:s=n.docs.length,console.log("Entro"),l=0;case 3:if(!(l<t.length)){e.next=15;break}return u=Object(bo["c"])(jm,t[l].name),e.next=7,Object(bo["d"])(u,t[l]);case 7:return e.next=9,Object(bo["a"])(u);case 9:d=e.sent,Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Document_RPsD"),s.toString()),{id_alzamiento:i,id_modificacion:r,idInscripcion:c,"año_repertorio_del_contrato":(new Date).getFullYear(),numero_repertorio_RPsD:a+1,url:d,contrato:!0}),s+=1;case 12:l++,e.next=3;break;case 15:l=0;case 16:if(!(l<o.length)){e.next=28;break}return p=Object(bo["c"])(jm,o[l].name),e.next=20,Object(bo["d"])(p,o[l]);case 20:return e.next=22,Object(bo["a"])(p);case 22:m=e.sent,Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Document_RPsD"),s.toString()),{idInscripcion:i,id_alzamiento:c,id_modificacion:r,"año_repertorio_del_contrato":(new Date).getFullYear(),numero_repertorio_RPsD:a+1,url:m,contrato:!1}),s+=1;case 25:l++,e.next=16;break;case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})).then((function(){console.log("EVERYTHING ITS SEND SUCCESFULLY"),alert("Todo se ha mandado correctamente")}))}function Wi(t,o,e,n,a){var i=this,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",c=arguments.length>6?arguments[6]:void 0,s=arguments.length>7?arguments[7]:void 0,l=arguments.length>8?arguments[8]:void 0,u=arguments.length>9?arguments[9]:void 0,d=arguments.length>10?arguments[10]:void 0,p=arguments.length>11&&void 0!==arguments[11]?arguments[11]:"",m=arguments.length>12&&void 0!==arguments[12]?arguments[12]:"",g=arguments.length>13?arguments[13]:void 0,h=arguments.length>14&&void 0!==arguments[14]?arguments[14]:[],f=arguments.length>15&&void 0!==arguments[15]?arguments[15]:[],v=arguments.length>16?arguments[16]:void 0,b=arguments.length>17?arguments[17]:void 0,_=arguments.length>18?arguments[18]:void 0,j=arguments.length>19?arguments[19]:void 0,S=arguments.length>20?arguments[20]:void 0,A=arguments.length>21&&void 0!==arguments[21]?arguments[21]:"",E=arguments.length>22&&void 0!==arguments[22]?arguments[22]:"",C=arguments.length>23?arguments[23]:void 0,R=!0;if(console.log(c),9==c.length||Xi(c)||(R=!1,console.log("NUMERO REPERTORIO NOTARIO FORMATO INCORRECTO"),alert("Numero repertorio notario formato incorrecto")),R){var I=null;Object(O["e"])(Object(O["a"])(_m,"Solicitud_Modificacion_Prenda")).then((function(t){I=t.docs.length,console.log(I),console.log("submit")})).then((function(){Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Solicitud_Modificacion_Prenda"),I.toString()),{privacidadDocumento:t,fechaSuscripcion:o,fechaOtorgamientoEscritura:e,fechaProtocolizacionContratoPrivado:n,fechaAutorizacionContratoPrivado:a,numeroRepertorioNotario:c,parrafo_modificacion_generica:s,tipo_de_persona:l,nombre_acreedor:u,rut_acreedor:d,nombreRequiriente:p,runRequiriente:m,estadoPrimario:g,estadoSecundario:0,activoFijo:v,bienesAgropecuarios:b,derechosIntangibles:_,prendaVehiculo:j,nombre_notaria:r,prohibicionGravarEnajenar:S,correoRequiriente:A,fechaRequirente:E,revisorAsignado:-1,firma:!1,tipoModificacion:4,usuarioCreador:localStorage.mail}).then((function(){console.log("PAGANDO EN CAJA"),C?("FUNCIONARIOOFICINA"==localStorage.rol&&(Ki("M",I.toString(),1,localStorage.mail),setTimeout((function(){var t="http://ec2-75-101-231-83.compute-1.amazonaws.com:4033/api/checkout/pay",o='{"id_persona":"'+localStorage.rutLog+'", "numero_repertorio":"'+Gi+'", "monto":'+parseInt(tr[2]["precio"])+"}";fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:o}).then((function(t){t.json().then((function(t){alert(t.msg),console.log("PAGADO"),Ki("M",I.toString(),2,localStorage.mail),i.redirect()}))}))}),1500)),alert("Solicitud Enviada Exitosamente")):alert("Solicitud Guardada Exitosamente")})),console.log("entros"),1==g&&(Qi(h,f,I,1),console.log("enviado"))}))}}var tr=[];function or(){Object(O["e"])(Object(O["a"])(_m,"Precios")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();tr.push(o)})),console.log(tr)}))}var er,nr={mounted:function(){or(),setTimeout((function(){var t=document.getElementById("monto");t.innerHTML="$"+tr[2]["precio"]}),1500)},name:"formularioModificacion",data:function(){return{opcion:localStorage.my_opts.split(","),username:localStorage.user,tipoDoc:"",FOtorgamiento:"",FSuscripcion:"",FAutorizacion:"",FProtocolizacion:"",RepNotaria:"",anioRepNotaria:"",ProhibGravEnajenar:!1,tipoPersona:"Natural",run:"",id:"",pais:"",rut:"",razonsocial:"",Apaterno:"",Amaterno:"",nombres:"",nombreRequirente:"",nDocRequirente:"",correoRequirente:"",fechaRequirente:this.currentDateTime(),Bienes:[],constituyentes:[{}],deudores:[{}],vehiculos:[{}],contrato:null,anexos:null}},props:{rol:{type:String,default:localStorage.rol}},components:{AntecedentesFormularioALZA:Fa,ContratoFormulario:Un,RequirenteFormulario:Wn,AnexosFormulario:Yn,Monto:ia,Menu:B,Navbar:ut},methods:{getNotaria:function(t){this.notaria=t},gettipoDoc:function(t){this.tipoDoc=t},getFOtorgamiento:function(t){this.FOtorgamiento=t},getFSuscripcion:function(t){this.FSuscripcion=t},getFAutorizacion:function(t){this.FAutorizacion=t},getFProtocolizacion:function(t){this.FProtocolizacion=t},getRepNotaria:function(t){this.RepNotaria=t},getanioRepNotaria:function(t){this.anioRepNotaria=t},getProhibGravEnajenar:function(t){this.ProhibGravEnajenar=t},gettipoPersona:function(t){this.tipoPersona=t},getrun:function(t){this.run=t},getid:function(t){this.id=t},getpais:function(t){this.pais=t},getrut:function(t){this.rut=t},getrazonsocial:function(t){this.razonsocial=t},getApaterno:function(t){this.Apaterno=t},getAmaterno:function(t){this.Amaterno=t},getnombreRequirente:function(t){this.nombreRequirente=t},getrutRequirente:function(t){this.nDocRequirente=t},getCorreoRequirente:function(t){this.correoRequirente=t},currentDateTime:function(){var t=new Date,o=t.getDate()+"-"+(t.getMonth()+1)+"-"+t.getFullYear();return o},getFechaRequirente:function(t){this.fechaRequirente=t},getnombres:function(t){this.nombres=t},getBienes:function(t){this.Bienes=t},getConstituyentes:function(t){this.constituyentes=t,console.log("Constituyentes:"+this.constituyentes)},getDeudores:function(t){this.deudores=t,console.log("Deudores:"+this.deudores)},getVehiculos:function(t){this.vehiculos=t},getContrato:function(t){this.contrato=t,console.log("Contrato:"+this.contrato)},getAnexos:function(t){this.anexos=t,console.log("Anexos:"+this.anexos)},modificar:function(t){var o=0;t&&(o="FUNCIONARIONOTARIA"==localStorage.rol?1:3);var e=document.getElementById("textoOTRO").value;Wi(this.tipoDoc.toString(),this.FSuscripcion.toString(),this.FOtorgamiento.toString(),this.FProtocolizacion.toString(),this.FAutorizacion.toString(),this.notaria,(this.RepNotaria+"-"+this.anioRepNotaria).toString(),e,this.tipoPersona,this.nombres,this.run,this.nombreRequirente,this.nDocRequirente,o,this.contrato,this.anexos,this.Bienes[0],this.Bienes[1],this.Bienes[2],this.Bienes[3],this.ProhibGravEnajenar,this.correoRequirente,this.fechaRequirente,t),this.$router.push({path:"/Dashboard/".concat(localStorage.rol,"/").concat(localStorage.user,"/MisSolicitudes"),params:{username:localStorage.user,rol:localStorage.rol}})}}},ar=nr,ir=(e("5592"),Object(p["a"])(ar,Zi,Ji,!1,null,"17339aa8",null)),rr=ir.exports,cr=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"dashboard"}},[e("Menu",{attrs:{opciones:t.opcion}}),e("Navbar",{attrs:{username:t.username}}),e("div",{staticClass:"right"},[e("h1",{attrs:{bold:""}},[t._v("PROHIBICION DE ACTO")]),"FUNCIONARIOOFICINA"==t.rol?e("RequirenteFormulario"):t._e(),e("AntecedentesFormularioALZA",{attrs:{rol:t.rol},on:{gettipoDoc:t.gettipoDoc,getFOtorgamiento:t.getFOtorgamiento,getFSuscripcion:t.getFSuscripcion,getFAutorizacion:t.getFAutorizacion,getFProtocolizacion:t.getFProtocolizacion,getRepNotaria:t.getRepNotaria,getanioRepNotaria:t.getanioRepNotaria,getProhibGravEnajenar:t.getProhibGravEnajenar,getBienes:t.getBienes,getNotaria:t.getNotaria}}),"FUNCIONARIOOFICINA"!==t.rol?e("ContratoFormulario",{on:{getContrato:t.getContrato}}):t._e(),"FUNCIONARIOOFICINA"!==t.rol?e("AnexosFormulario",{on:{getAnexos:t.getAnexos}}):t._e(),e("Monto"),e("div",{staticClass:"row d-flex justify-content-center",attrs:{id:"contenedor"}},[e("button",{staticClass:"col-2 titleButton",on:{click:function(o){return t.modificar(!1)}}},[t._v("Guardar")]),e("button",{staticClass:"col-2 titleButton",on:{click:function(o){return t.modificar(!0)}}},[t._v("Enviar")])])],1)],1)},sr=[];function lr(t){if(!t.includes("-"))return!1;t=t.split("-");var o=t[0],e=t[1],n=(new Date).getFullYear();return!isNaN(o)&&!o.includes("e")&&4==o.length&&!(e>n||isNaN(e)||e.length<4)}function ur(t,o,e,n){var a=["El pago no se realizo","Hubo intencion de pagar","Pagado"];Object(O["e"])(Object(O["a"])(_m,"Counter_N_RPsD")).then((function(n){var a=n.docs[0].data(),i=a.counter;i=i<10?"000"+i.toString():i<100?"00"+i.toString():i<1e3?"0"+i.toString():i.toString();var r=a.year;er=i+"-"+r.toString(),console.log("RPSD: "+er),1==e?"I"==t?Object(O["i"])(Object(O["c"])(_m,"Solicitud_Inscripcion_Prenda",o),{estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}).then((function(){console.log("ACTUALIZADO")})):"M"==t?Object(O["i"])(Object(O["c"])(_m,"Solicitud_Modificacion_Prenda",o),{estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}):"A"==t&&Object(O["i"])(Object(O["c"])(_m,"Solicitud_Alzamiento_Prenda",o),{estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}):"I"==t?Object(O["i"])(Object(O["c"])(_m,"Solicitud_Inscripcion_Prenda",o),{estadoSecundario:e}).then((function(){console.log("ACTUALIZADO")})):"M"==t?Object(O["i"])(Object(O["c"])(_m,"Solicitud_Modificacion_Prenda",o),{estadoSecundario:e}):"A"==t&&Object(O["i"])(Object(O["c"])(_m,"Solicitud_Alzamiento_Prenda",o),{estadoSecundario:e}),Object(O["i"])(Object(O["c"])(_m,"Counter_N_RPsD","0"),{counter:a.counter+1})}));var i=new Date;Object(O["e"])(Object(O["a"])(_m,"Bitacora")).then((function(r){var c=r.docs.length,s="",l="",u="";"I"==t?s=o:"M"==t?l=o:"A"==t&&(u=o),Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Bitacora"),c.toString()),{idInscripcion:s,idModificacion:l,idAlzamiento:u,idUser:n,comment:a[e],fechaCambio:i.getFullYear()+"-"+(i.getMonth()+1)+"-"+i.getDate()})}))}function dr(t,o,e,n){var a=null,i="",r="",c="";0==n?i=e:1==n?r=e:2==n&&(c=e),Object(O["e"])(Object(O["a"])(_m,"Document_RPsD")).then((function(t){var o=t.docs.length,e=t.docs[o-1];a=e.data().numero_repertorio_RPsD})).then((function(){Object(O["e"])(Object(O["a"])(_m,"Document_RPsD")).then(function(){var e=Object(U["a"])(regeneratorRuntime.mark((function e(n){var s,l,u,d,p,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:s=n.docs.length,console.log("Entro"),l=0;case 3:if(!(l<t.length)){e.next=15;break}return u=Object(bo["c"])(jm,t[l].name),e.next=7,Object(bo["d"])(u,t[l]);case 7:return e.next=9,Object(bo["a"])(u);case 9:d=e.sent,Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Document_RPsD"),s.toString()),{id_alzamiento:i,id_modificacion:r,idInscripcion:c,"año_repertorio_del_contrato":(new Date).getFullYear(),numero_repertorio_RPsD:a+1,url:d,contrato:!0}),s+=1;case 12:l++,e.next=3;break;case 15:l=0;case 16:if(!(l<o.length)){e.next=28;break}return p=Object(bo["c"])(jm,o[l].name),e.next=20,Object(bo["d"])(p,o[l]);case 20:return e.next=22,Object(bo["a"])(p);case 22:m=e.sent,Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Document_RPsD"),s.toString()),{idInscripcion:i,id_alzamiento:c,id_modificacion:r,"año_repertorio_del_contrato":(new Date).getFullYear(),numero_repertorio_RPsD:a+1,url:m,contrato:!1}),s+=1;case 25:l++,e.next=16;break;case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})).then((function(){console.log("EVERYTHING ITS SEND SUCCESFULLY"),alert("Todo se ha mandado correctamente")}))}function pr(t,o,e,n,a){var i=this,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",c=arguments.length>6?arguments[6]:void 0,s=arguments.length>7?arguments[7]:void 0,l=arguments.length>8?arguments[8]:void 0,u=arguments.length>9?arguments[9]:void 0,d=arguments.length>10?arguments[10]:void 0,p=arguments.length>11&&void 0!==arguments[11]?arguments[11]:"",m=arguments.length>12&&void 0!==arguments[12]?arguments[12]:"",g=arguments.length>13?arguments[13]:void 0,h=arguments.length>14&&void 0!==arguments[14]?arguments[14]:[],f=arguments.length>15&&void 0!==arguments[15]?arguments[15]:[],v=arguments.length>16?arguments[16]:void 0,b=arguments.length>17?arguments[17]:void 0,_=arguments.length>18?arguments[18]:void 0,j=arguments.length>19?arguments[19]:void 0,S=arguments.length>20?arguments[20]:void 0,A=arguments.length>21&&void 0!==arguments[21]?arguments[21]:"",E=arguments.length>22&&void 0!==arguments[22]?arguments[22]:"",C=arguments.length>23?arguments[23]:void 0,R=!0;if(console.log(c),9==c.length||lr(c)||(R=!1,console.log("NUMERO REPERTORIO NOTARIO FORMATO INCORRECTO"),alert("Numero repertorio notario formato incorrecto")),R){var I=null;Object(O["e"])(Object(O["a"])(_m,"Solicitud_Modificacion_Prenda")).then((function(t){I=t.docs.length,console.log(I),console.log("submit")})).then((function(){Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Solicitud_Modificacion_Prenda"),I.toString()),{privacidadDocumento:t,fechaSuscripcion:o,fechaOtorgamientoEscritura:e,fechaProtocolizacionContratoPrivado:n,fechaAutorizacionContratoPrivado:a,numeroRepertorioNotario:c,parrafo_modificacion_generica:s,tipo_de_persona:l,nombre_acreedor:u,rut_acreedor:d,nombreRequiriente:p,runRequiriente:m,estadoPrimario:g,estadoSecundario:0,activoFijo:v,bienesAgropecuarios:b,derechosIntangibles:_,prendaVehiculo:j,nombre_notaria:r,prohibicionGravarEnajenar:S,correoRequiriente:A,fechaRequirente:E,revisorAsignado:-1,firma:!1,tipoModificacion:3,usuarioCreador:localStorage.mail}).then((function(){console.log("PAGANDO EN CAJA"),C?("FUNCIONARIOOFICINA"==localStorage.rol&&(ur("M",I.toString(),1,localStorage.mail),setTimeout((function(){var t="http://ec2-75-101-231-83.compute-1.amazonaws.com:4033/api/checkout/pay",o='{"id_persona":"'+localStorage.rutLog+'", "numero_repertorio":"'+er+'", "monto":'+parseInt(mr[2]["precio"])+"}";fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:o}).then((function(t){t.json().then((function(t){alert(t.msg),console.log("PAGADO"),ur("M",I.toString(),2,localStorage.mail),i.redirect()}))}))}),1500)),alert("Solicitud Enviada Exitosamente")):alert("Solicitud Guardada Exitosamente")})),console.log("entros"),1==g&&(dr(h,f,I,1),console.log("enviado"))}))}}var mr=[];function gr(){Object(O["e"])(Object(O["a"])(_m,"Precios")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();mr.push(o)})),console.log(mr)}))}var hr={mounted:function(){gr(),setTimeout((function(){var t=document.getElementById("monto");t.innerHTML="$"+mr[2]["precio"]}),1500)},name:"formularioModificacion",data:function(){return{opcion:localStorage.my_opts.split(","),username:localStorage.user,tipoDoc:"",FOtorgamiento:"",FSuscripcion:"",FAutorizacion:"",FProtocolizacion:"",RepNotaria:"",anioRepNotaria:"",ProhibGravEnajenar:!1,tipoPersona:"Natural",run:"",id:"",pais:"",rut:"",razonsocial:"",Apaterno:"",Amaterno:"",nombres:"",nombreRequirente:"",nDocRequirente:"",correoRequirente:"",fechaRequirente:this.currentDateTime(),Bienes:[],constituyentes:[{}],deudores:[{}],vehiculos:[{}],contrato:null,anexos:null}},props:{rol:{type:String,default:localStorage.rol}},components:{AntecedentesFormularioALZA:Fa,RequirenteFormulario:Wn,ContratoFormulario:Un,AnexosFormulario:Yn,Monto:ia,Menu:B,Navbar:ut},methods:{getNotaria:function(t){this.notaria=t},gettipoDoc:function(t){this.tipoDoc=t},getFOtorgamiento:function(t){this.FOtorgamiento=t},getFSuscripcion:function(t){this.FSuscripcion=t},getFAutorizacion:function(t){this.FAutorizacion=t},getFProtocolizacion:function(t){this.FProtocolizacion=t},getRepNotaria:function(t){this.RepNotaria=t},getanioRepNotaria:function(t){this.anioRepNotaria=t},getProhibGravEnajenar:function(t){this.ProhibGravEnajenar=t},gettipoPersona:function(t){this.tipoPersona=t},getrun:function(t){this.run=t},getid:function(t){this.id=t},getpais:function(t){this.pais=t},getrut:function(t){this.rut=t},getrazonsocial:function(t){this.razonsocial=t},getApaterno:function(t){this.Apaterno=t},getAmaterno:function(t){this.Amaterno=t},getnombreRequirente:function(t){this.nombreRequirente=t},getrutRequirente:function(t){this.nDocRequirente=t},getCorreoRequirente:function(t){this.correoRequirente=t},currentDateTime:function(){var t=new Date,o=t.getDate()+"-"+(t.getMonth()+1)+"-"+t.getFullYear();return o},getFechaRequirente:function(t){this.fechaRequirente=t},getnombres:function(t){this.nombres=t},getBienes:function(t){this.Bienes=t},getConstituyentes:function(t){this.constituyentes=t,console.log("Constituyentes:"+this.constituyentes)},getDeudores:function(t){this.deudores=t,console.log("Deudores:"+this.deudores)},getVehiculos:function(t){this.vehiculos=t},getContrato:function(t){this.contrato=t,console.log("Contrato:"+this.contrato)},getAnexos:function(t){this.anexos=t,console.log("Anexos:"+this.anexos)},modificar:function(t){var o=0;t&&(o="FUNCIONARIONOTARIA"==localStorage.rol?1:3),pr(this.tipoDoc.toString(),this.FSuscripcion.toString(),this.FOtorgamiento.toString(),this.FProtocolizacion.toString(),this.FAutorizacion.toString(),this.notaria,(this.RepNotaria+"-"+this.anioRepNotaria).toString(),"parrafo_modificacion_generica",this.tipoPersona,this.nombres,this.run,this.nombreRequirente,this.nDocRequirente,o,this.contrato,this.anexos,this.Bienes[0],this.Bienes[1],this.Bienes[2],this.Bienes[3],this.ProhibGravEnajenar,this.correoRequirente,this.fechaRequirente,t)}}},fr=hr,vr=(e("12d6"),Object(p["a"])(fr,cr,sr,!1,null,"d1ec974c",null)),br=vr.exports,Or=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"BusquedaAlzamiento"}},[e("Navbar",{attrs:{username:t.username}}),e("Menu",{attrs:{opciones:t.opcion}}),e("div",{staticClass:"d-flex justify-content-center contenedor right row"},[t._m(0),e("div",{staticClass:"row d-flex justify-content-center item"},[e("div",{staticClass:"col-3"},[t._v("\n                    FOLIO REP. PRENDA\n                    "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.folio,expression:"folio"}],attrs:{type:"text",placeholder:"Folio"},domProps:{value:t.folio},on:{input:function(o){o.target.composing||(t.folio=o.target.value)}}})]),e("div",{staticClass:"col-4"},[e("div",{staticClass:"titles d-flex justify-content-center"},[t._v("\n                    AÑO REPERTORIO\n                ")]),e("div",{staticClass:"d-flex justify-content-center"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.anio,expression:"anio"}],attrs:{type:"text",placeholder:"Año"},domProps:{value:t.anio},on:{input:function(o){o.target.composing||(t.anio=o.target.value)}}})])])]),e("div",{staticClass:"row d-flex justify-content-center item"},[e("div",{staticClass:"col-3"},[e("div",{staticClass:"titles d-flex justify-content-center"},[t._v("\n                    IDENTIFICADOR DE ALGUN CONSTITUYENTE\n                ")]),e("div",{staticClass:"d-flex justify-content-center"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.id,expression:"id"}],staticClass:"nrepertorioleft",attrs:{type:"text",placeholder:"ID de constituyente"},domProps:{value:t.id},on:{input:function(o){o.target.composing||(t.id=o.target.value)}}})])])]),e("button",{staticClass:"d-flex justify-content-center button",on:{click:function(o){return t.busqueda()}}},[t._v("Buscar")])]),-1!==t.id_sol2?e("div",{staticClass:"row d-flex justify-content-center item",attrs:{id:"tipomodific"}},[e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start item"},[t._v("\n                TIPO DE MODIFICACION\n            ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.tipomodificacion,expression:"tipomodificacion"}],staticClass:"form-select",attrs:{id:"tipoDeDocumento"},on:{change:[function(o){var e=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.tipomodificacion=o.target.multiple?e:e[0]},function(o){return t.elegirSolicitud()}]}},[e("option",{attrs:{selected:"",value:"Alzamiento Parcial"}},[t._v("Alzamiento Parcial")]),e("option",{attrs:{value:"Cambio Acreedor"}},[t._v("Cambio Acreedor")]),e("option",{attrs:{value:"Prohibicion de acto"}},[t._v("Prohibicion de acto")]),e("option",{attrs:{value:"Otros"}},[t._v("Otros")])])])])]):t._e()],1)},_r=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("h1",{staticClass:"title"},[t._v("Solicitud de "),e("strong",[t._v("Modificaión ")]),t._v(" de Contrato de Prendas")])}];function jr(t,o){Object(O["e"])(Object(O["a"])(_m,"Solicitud_Inscripcion_Prenda")).then((function(e){var n=e.docs;n.forEach((function(e){var n=e.data();if(n.numeroRepertorioContratoPrenda==t){console.log("Se encontro numero de repertorio igual");var a=e.id;console.log(a),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Persona_Solicitud"),Object(O["j"])("idInscripcion","==",parseInt(a)))).then((function(e){console.log(e.docs);var n=e.docs,a=!1;n.forEach((function(e){var n=e.data();if(1==n.tipoContratante&&o==n.runPersona&&!a){console.log("SE ENCONTRO UNA SOLICITUD"),console.log("ID SOLICITUD: "+n.idInscripcion);var i=[];Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Solicitud_Modificacion_Prenda"),Object(O["j"])("numero_repertorio_notaria","==",t))).then((function(t){var o=t.docs;return o.forEach((function(t){var o=t.id;i.push(o)})),i.length>0?(console.log("1"),void(Sr=i.pop())):(console.log("2"),void(Sr=n.idInscripcion))}))}}))}))}}))})).then((function(){console.log("3"),Sr=-1}))}var Sr=-1,Ar={name:"BusquedaAlzamiento",data:function(){return{opcion:localStorage.my_opts.split(","),username:localStorage.user,folio:"",anio:"",id:"",id_sol2:Sr,tipomodificacion:""}},props:{rol:{type:String,default:localStorage.rol}},methods:{busqueda:function(){var t=this;jr((this.folio+"-"+this.anio).toString(),this.id),console.log("DATA"),console.log(this.folio),console.log(this.anio),console.log(this.id),console.log("this.id_sol2"),console.log(this.id_sol2),console.log("id_sol"),console.log(Sr),setTimeout((function(){console.log("TIMEOUT"),console.log(Sr),t.id_sol2=Sr,-1==Sr&&alert("No se encontraron Coincidencias")}),3e3)},elegirSolicitud:function(){var t=this;setTimeout((function(){console.log("TIMEOUT"),console.log(Sr),localStorage.idSol=Sr,"Alzamiento Parcial"==t.tipomodificacion?(console.log("Alzamiento Parcial"),t.id_sol2=-1,Sr=-1,t.$router.push({path:"/Dashboard/".concat(localStorage.rol,"/").concat(localStorage.user,"/FormularioModificacionALZPARCIAL"),params:{username:localStorage.user,rol:localStorage.rol}})):"Cambio Acreedor"==t.tipomodificacion?(console.log("Cambio Acreedor"),t.id_sol2=-1,Sr=-1,t.$router.push({path:"/Dashboard/".concat(localStorage.rol,"/").concat(localStorage.user,"/FormularioModificacionCAMBIOACREEDOR"),params:{username:localStorage.user,rol:localStorage.rol}})):"Prohibicion de acto"==t.tipomodificacion?(console.log("Prohibicion de acto"),t.id_sol2=-1,Sr=-1,t.$router.push({path:"/Dashboard/".concat(localStorage.rol,"/").concat(localStorage.user,"/FormularioModificacionPROHIBACTO"),params:{username:localStorage.user,rol:localStorage.rol}})):"Otros"==t.tipomodificacion&&(console.log("Otros"),t.id_sol2=-1,Sr=-1,t.$router.push({path:"/Dashboard/".concat(localStorage.rol,"/").concat(localStorage.user,"/FormularioModificacionOTRO"),params:{username:localStorage.user,rol:localStorage.rol}}))}),1e3)}},components:{Menu:B,Navbar:ut}};setTimeout((function(){console.log("ME ID"),console.log(Sr),console.log("ME ID")}),1e3);var Er=Ar,Cr=(e("1053"),Object(p["a"])(Er,Or,_r,!1,null,"70c2aafe",null)),Rr=Cr.exports,Ir=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"dashboard"}},[e("Menu",{attrs:{opciones:t.opcion}}),e("Navbar",{attrs:{username:t.username}}),e("div",{staticClass:"right"},[e("AntecedentesComprobante"),e("AcreedorComprobante"),e("ConstituyentesComprobante"),e("DeudoresComprobante"),e("RequirientesComprobante"),t._m(0)],1)],1)},Pr=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"row d-flex justify-content-center",attrs:{id:"contenedor"}},[e("button",{staticClass:"col-2 titleButton"},[t._v("Imprimir")])])}],Nr=function(){var t=this,o=t.$createElement;t._self._c;return t._m(0)},Dr=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"TablaRevisor"}},[e("div",{staticStyle:{padding:"50px","margin-left":"300px"}},[e("table",{staticClass:"table table-sm table-hover zui-table-rounded"},[e("thead",{staticStyle:{color:"white","background-color":"#514BD5"}},[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("Comprobante de Solicitud")])])]),e("tbody",[e("div",{staticClass:"titleFormulario"},[t._v("Antecedentes")]),e("div",{staticClass:"row"},[e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-center"},[t._v("\n                    Notaria\n                ")])]),e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-center"},[t._v("\n                    Numero Notaria\n                ")])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-center"},[t._v("\n                    Tipo de Documento\n                ")])]),e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-center"},[t._v("\n                    Tip\n                ")])])])])])])])}],yr={name:"TablaRevisor",props:{opcion:Array,username:{type:String,default:"Hola!"},rol:{type:String,default:"REVISOR"}}},Tr=yr,Fr=(e("10a8"),Object(p["a"])(Tr,Nr,Dr,!1,null,"2516ac8a",null)),xr=Fr.exports,zr=function(){var t=this,o=t.$createElement;t._self._c;return t._m(0)},Mr=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"TablaRevisor"}},[e("div",{staticStyle:{padding:"50px","margin-left":"300px"}},[e("table",{staticClass:"table table-sm table-hover zui-table-rounded"},[e("thead",{staticStyle:{color:"white","background-color":"#514BD5"}}),e("tbody",[e("div",{staticClass:"titleFormulario"},[t._v("Acreedor")]),e("div",{staticClass:"row"},[e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-center"},[t._v("\n                    Nombre\n                ")])]),e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-center"},[t._v("\n                    Nombre\n                ")])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-center"},[t._v("\n                    Tipo \n                ")])]),e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-center"},[t._v("\n                    Tipo de Documento\n                ")])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-center"},[t._v("\n                    N° Documento\n                ")])]),e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-center"},[t._v("\n                    Numero\n                ")])])])])])])])}],wr={name:"TablaRevisor",props:{opcion:Array,username:{type:String,default:"Hola!"},rol:{type:String,default:"REVISOR"}}},Br=wr,kr=(e("3a10"),Object(p["a"])(Br,zr,Mr,!1,null,"1a381c46",null)),qr=kr.exports,Ur=function(){var t=this,o=t.$createElement;t._self._c;return t._m(0)},Lr=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"TablaRevisor"}},[e("div",{staticStyle:{padding:"50px","margin-left":"300px"}},[e("table",{staticClass:"table table-sm table-hover zui-table-rounded"},[e("thead",{staticStyle:{color:"white","background-color":"#514BD5"}}),e("tbody",[e("div",{staticClass:"titleFormulario"},[t._v("Constituyente")]),e("div",{staticClass:"row"},[e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-center"},[t._v("\n                    Nombre\n                ")])]),e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-center"},[t._v("\n                    Nombre y Apellido\n                ")])])])])])])])}],Gr={name:"TablaRevisor",props:{opcion:Array,username:{type:String,default:"Hola!"},rol:{type:String,default:"REVISOR"}}},Vr=Gr,$r=(e("503b"),Object(p["a"])(Vr,Ur,Lr,!1,null,"4f10a89d",null)),Hr=$r.exports,Yr=function(){var t=this,o=t.$createElement;t._self._c;return t._m(0)},Zr=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"TablaRevisor"}},[e("div",{staticStyle:{padding:"50px","margin-left":"300px"}},[e("table",{staticClass:"table table-sm table-hover zui-table-rounded"},[e("thead",{staticStyle:{color:"white","background-color":"#514BD5"}}),e("tbody",[e("div",{staticClass:"titleFormulario"},[t._v("Deudores")]),e("div",{staticClass:"row"},[e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-center"},[t._v("\n                    Nombre\n                ")])]),e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-center"},[t._v("\n                    Nombre y Apellido\n                ")])])])])])])])}],Jr={name:"TablaRevisor",props:{opcion:Array,username:{type:String,default:"Hola!"},rol:{type:String,default:"REVISOR"}}},Xr=Jr,Kr=(e("5b12"),Object(p["a"])(Xr,Yr,Zr,!1,null,"4a5bf8b7",null)),Qr=Kr.exports,Wr=function(){var t=this,o=t.$createElement;t._self._c;return t._m(0)},tc=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"TablaRevisor"}},[e("div",{staticStyle:{padding:"50px","margin-left":"300px"}},[e("table",{staticClass:"table table-sm table-hover zui-table-rounded"},[e("thead",{staticStyle:{color:"white","background-color":"#514BD5"}}),e("tbody",[e("div",{staticClass:"titleFormulario"},[t._v("Requirientes")]),e("div",{staticClass:"row"},[e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-center"},[t._v("\n                    Nombre\n                ")])]),e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-center"},[t._v("\n                    Nombre y Apellido\n                ")])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-center"},[t._v("\n                    Rut\n                ")])]),e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-center"},[t._v("\n                    Nombre y apellido\n                ")])])])])])])])}],oc={name:"TablaRevisor",props:{opcion:Array,username:{type:String,default:"Hola!"},rol:{type:String,default:"REVISOR"}}},ec=oc,nc=(e("e477"),Object(p["a"])(ec,Wr,tc,!1,null,"b0e6ca96",null)),ac=nc.exports,ic={name:"formularioModificacion",data:function(){return{opcion:localStorage.my_opts.split(","),username:localStorage.user}},components:{Menu:B,Navbar:ut,AntecedentesComprobante:xr,AcreedorComprobante:qr,ConstituyentesComprobante:Hr,DeudoresComprobante:Qr,RequirientesComprobante:ac}},rc=ic,cc=(e("04d7"),Object(p["a"])(rc,Ir,Pr,!1,null,"c3a31a6c",null)),sc=cc.exports,lc=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"dashboard"}},[e("Menu",{attrs:{opciones:t.opcion}}),e("Navbar",{attrs:{username:t.username}}),e("div",{staticClass:"right"},["JEFEDESERVICIO"==t.rol?e("BuscadorJefeDeServicios"):t._e(),"RECEPTOR"==t.rol?e("BuscadorReceptor"):t._e(),"REVISOR"==t.rol?e("BuscadorRevisor"):t._e(),"FUNCIONARIONOTARIA"==t.rol?e("BuscadorFuncionarioNotaria"):t._e(),"NOTARIO"==t.rol?e("BuscadorNotario"):t._e()],1)],1)},uc=[],dc=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"TablaRevisor"}},[e("div",{staticStyle:{padding:"50px","margin-left":"300px"}},[e("table",{staticClass:"table table-sm table-hover zui-table-rounded"},[e("thead",{staticStyle:{color:"black"}},[e("tr",[t._m(0),t._m(1),t._m(2),e("th",{attrs:{scope:"col"}},[e("div",{staticClass:"d-flex justify-content-center"},[e("button",{staticClass:"d-flex justify-content-center button",on:{click:function(o){return t.busqueda()}}},[t._v("Buscar")])])])])])]),e("table",{staticClass:"table table-sm table-hover zui-table-rounded"},[t._m(3),t._l(t.items,(function(o,n){return e("tbody",{key:n},[e("tr",[e("th",{attrs:{scope:"row"}},[t._v(t._s(o.Rep))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.Oficina))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.Fecha))]),e("td",[e("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"Basic example"}},[e("th",{staticClass:"status"},[t._v(t._s(o.Estado))])])]),e("td",[e("div",{staticClass:"tamanoTipoDocumento"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.tipoDoc,expression:"tipoDoc"}],staticClass:"form-select",attrs:{id:"asignado"},on:{change:[function(o){var e=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.tipoDoc=o.target.multiple?e:e[0]},function(o){return t.changeOption()}]}},[e("option",{attrs:{selected:"",value:"Revisor #1"}},[t._v("Revisor #1")]),e("option",{attrs:{value:"revisor #2"}},[t._v("Revisor #2")])])])])])])}))],2)])])},pc=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("th",{attrs:{scope:"col"}},[t._v("\n                Folio Repertorio Prenda\n                "),e("div",{staticClass:"d-flex justify-content-center"},[e("input",{attrs:{type:"text",id:"foliorep",placeholder:"N° Documento"}})])])},function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("th",{attrs:{scope:"col"}},[t._v("\n                Año\n                "),e("div",{staticClass:"d-flex justify-content-center"},[e("input",{attrs:{type:"text",id:"yearrep",placeholder:"Año"}})])])},function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("th",{attrs:{scope:"col"}},[t._v("\n                Tipo de actuación\n                "),e("div",{staticClass:"d-flex justify-content-center"},[e("select",{staticClass:"form-select",attrs:{id:"tipoact"}},[e("option",{attrs:{selected:"",value:"Inscripcion"}},[t._v("Inscripcion")]),e("option",{attrs:{value:"Modificacion"}},[t._v("Modificacion")]),e("option",{attrs:{value:"Alzamiento"}},[t._v("Alzamiento")])])])])},function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("thead",{staticStyle:{color:"white","background-color":"#514BD5"}},[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("N° Repertorio Prenda")]),e("th",{attrs:{scope:"col"}},[t._v("Oficina/Notaria")]),e("th",{attrs:{scope:"col"}},[t._v("Fecha")]),e("th",{attrs:{scope:"col"}},[t._v("Estado")]),e("th",{attrs:{scope:"col"}},[t._v("Asignada")])])])}],mc=[],gc=[],hc=[];function fc(){return vc.apply(this,arguments)}function vc(){return vc=Object(U["a"])(regeneratorRuntime.mark((function t(){var o,e,n,a,i=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(o=i.length>0&&void 0!==i[0]?i[0]:"",e=i.length>1&&void 0!==i[1]?i[1]:"",n=i.length>2&&void 0!==i[2]?i[2]:"",a=i.length>3&&void 0!==i[3]?i[3]:"",console.log("PARAMETROS"),console.log("FOLIO: "+n),console.log("YEAR: "+e),"I"!=o&&""!=o){t.next=11;break}return console.log("buscar inscripciones"),t.next=11,Object(O["e"])(Object(O["a"])(_m,"Solicitud_Inscripcion_Prenda")).then((function(t){var o=t.docs;console.log("Largo documento inscricpion: "+o.length),o.forEach((function(t){var o=t.data(),i=o.numeroRepertorioContratoPrenda;if(o.estadoSecundario>0){var r=i.split("-")[0],c=i.split("-")[1];r!=n&&""!=n||c!=e&&""!=e||o.estadoPrimario!=a&&""!=a||mc.push([t.id,o])}}))}));case 11:if("M"!=o&&""!=o){t.next=15;break}return console.log("buscar modificaciones"),t.next=15,Object(O["e"])(Object(O["a"])(_m,"Solicitud_Modificacion_Prenda")).then((function(t){var o=t.docs;console.log("Largo documento modificacion: "+o.length),o.forEach((function(t){var o=t.data(),i=o.numeroRepertorioContratoPrenda;if(o.estadoSecundario>0){var r=i.split("-")[0],c=i.split("-")[1];r!=n&&""!=n||c!=e&&""!=e||o.estadoPrimario!=a&&""!=a||gc.push([t.id,o])}}))}));case 15:if("A"!=o&&""!=o){t.next=19;break}return console.log("buscar alzamientos"),t.next=19,Object(O["e"])(Object(O["a"])(_m,"Solicitud_Alzamiento_Prenda")).then((function(t){var o=t.docs;console.log("Largo documento alzamiento: "+o.length),o.forEach((function(t){var o=t.data(),i=o.numeroRepertorioContratoPrenda;if(o.estadoSecundario>0){var r=i.split("-")[0],c=i.split("-")[1];r!=n&&""!=n||c!=e&&""!=e||o.estadoPrimario!=a&&""!=a||hc.push([t.id,o])}}))}));case 19:case"end":return t.stop()}}),t)}))),vc.apply(this,arguments)}var bc={mounted:function(){var t=this;fc(),setTimeout((function(){t.inscripciones_encontradas.length>0&&t.inscripciones_encontradas.forEach((function(o){var e;4==o[1]["estadoPrimario"]?e="En revision":5==o[1]["estadoPrimario"]?e="Aceptado":6==o[1]["estadoPrimario"]?e="Rechazado":o[1]["estadoPrimario"]>6&&(e="Rechazado Definitivo");var n={Rep:o[1]["numeroRepertorioContratoPrenda"],Oficina:o[1]["oficina"],Fecha:o[1]["fechaSuscripcion"],Estado:e,Asignada:"",ID:o[0],Tipo:"I"};t.items.push(n)})),t.modificaciones_encontradas.length>0&&t.modificaciones_encontradas.forEach((function(o){var e;4==o[1]["estadoPrimario"]?e="En revision":5==o[1]["estadoPrimario"]?e="Aceptado":6==o[1]["estadoPrimario"]?e="Rechazado":o[1]["estadoPrimario"]>6&&(e="Rechazado Definitivo");var n={Rep:o[1]["numeroRepertorioContratoPrenda"],Oficina:o[1]["oficina"],Fecha:o[1]["fechaSuscripcion"],Estado:e,Asignada:"",ID:o[0],Tipo:"M"};t.items.push(n)})),t.alzamientos_encontrados.length>0&&t.alzamientos_encontrados.forEach((function(o){var e;4==o[1]["estadoPrimario"]?e="En revision":5==o[1]["estadoPrimario"]?e="Aceptado":6==o[1]["estadoPrimario"]?e="Rechazado":o[1]["estadoPrimario"]>6&&(e="Rechazado Definitivo");var n={Rep:o[1]["numeroRepertorioContratoPrenda"],Oficina:o[1]["oficina"],Fecha:o[1]["fechaSuscripcion"],Estado:e,Asignada:"",ID:o[0],Tipo:"A"};t.items.push(n)}))}),1500)},name:"TablaRevisor",props:{opcion:Array,username:{type:String,default:"Hola!"},rol:{type:String,default:"REVISOR"}},data:function(){return{items:[],inscripciones_encontradas:mc,modificaciones_encontradas:gc,alzamientos_encontrados:hc}},methods:{busqueda:function(){var t=this;this.items=[],mc=[],gc=[],hc=[],console.log("BUSCANDO...");var o=document.getElementById("foliorep").value,e=document.getElementById("yearrep").value,n=document.getElementById("tipoact").value;console.log(o+","+e+","+n);var a="T";"Modificacion"==n?a="M":"Alzamiento"==n?a="A":"Inscripcion"==n&&(a="I"),console.log(a),fc(a,e,o),setTimeout((function(){console.log("INSCRIPCIONES ENCONTRADAS: "+mc.length),mc.length>0&&mc.forEach((function(o){var e;4==o[1]["estadoPrimario"]?e="En revision":5==o[1]["estadoPrimario"]?e="Aceptado":6==o[1]["estadoPrimario"]?e="Rechazado":o[1]["estadoPrimario"]>6&&(e="Rechazado Definitivo");var n={Rep:o[1]["numeroRepertorioContratoPrenda"],Oficina:o[1]["oficina"],Fecha:o[1]["fechaSuscripcion"],Estado:e,Asignada:"",ID:o[0],Tipo:"I"};t.items.push(n)})),console.log("MODIFICACIONES ENCONTRADAS: "+gc.length),gc.length>0&&gc.forEach((function(o){var e;4==o[1]["estadoPrimario"]?e="En revision":5==o[1]["estadoPrimario"]?e="Aceptado":6==o[1]["estadoPrimario"]?e="Rechazado":o[1]["estadoPrimario"]>6&&(e="Rechazado Definitivo");var n={Rep:o[1]["numeroRepertorioContratoPrenda"],Oficina:o[1]["oficina"],Fecha:o[1]["fechaSuscripcion"],Estado:e,Asignada:"",ID:o[0],Tipo:"M"};t.items.push(n)})),console.log("ALZAMIENTOS ENCONTRADAS: "+hc.length),hc.length>0&&hc.forEach((function(o){var e;4==o[1]["estadoPrimario"]?e="En revision":5==o[1]["estadoPrimario"]?e="Aceptado":6==o[1]["estadoPrimario"]?e="Rechazado":o[1]["estadoPrimario"]>6&&(e="Rechazado Definitivo");var n={Rep:o[1]["numeroRepertorioContratoPrenda"],Oficina:o[1]["oficina"],Fecha:o[1]["fechaSuscripcion"],Estado:e,Asignada:"",ID:o[0],Tipo:"A"};t.items.push(n)}))}),1500)}}},Oc=bc,_c=(e("eb80"),Object(p["a"])(Oc,dc,pc,!1,null,"514d0399",null)),jc=_c.exports,Sc=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"TablaRevisor"}},[e("div",{staticStyle:{padding:"50px","margin-left":"300px"}},[e("table",{staticClass:"table table-sm table-hover zui-table-rounded"},[e("thead",{staticStyle:{color:"black"}},[e("tr",[t._m(0),t._m(1),t._m(2),e("th",{attrs:{scope:"col"}},[e("div",{staticClass:"d-flex justify-content-center"},[e("button",{staticClass:"d-flex justify-content-center button",on:{click:function(o){return t.busqueda()}}},[t._v("Buscar")])])])])])]),e("table",{staticClass:"table table-sm table-hover zui-table-rounded"},[t._m(3),t._l(t.items,(function(o,n){return e("tbody",{key:n},[e("tr",[e("th",{attrs:{scope:"row"}},[t._v(t._s(o.Rep))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.Oficina))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.Fecha))]),e("td",[e("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"Basic example"}},[e("th",{staticClass:"status"},[t._v(t._s(o.Estado))])])]),e("td",[e("div",{staticClass:"tamanoTipoDocumento"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.tipoDoc,expression:"tipoDoc"}],staticClass:"form-select",attrs:{id:"asignado"},on:{change:[function(o){var e=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.tipoDoc=o.target.multiple?e:e[0]},function(o){return t.changeOption()}]}},[e("option",{attrs:{selected:"",value:"Revisor #1"}},[t._v("Revisor #1")]),e("option",{attrs:{value:"revisor #2"}},[t._v("Revisor #2")])])])])])])}))],2)])])},Ac=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("th",{attrs:{scope:"col"}},[t._v("\n                Folio Repertorio Prenda\n                "),e("div",{staticClass:"d-flex justify-content-center"},[e("input",{attrs:{type:"text",id:"foliorep",placeholder:"N° Documento"}})])])},function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("th",{attrs:{scope:"col"}},[t._v("\n                Año\n                "),e("div",{staticClass:"d-flex justify-content-center"},[e("input",{attrs:{type:"text",id:"yearrep",placeholder:"Año"}})])])},function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("th",{attrs:{scope:"col"}},[t._v("\n                Tipo de actuación\n                "),e("div",{staticClass:"d-flex justify-content-center"},[e("select",{staticClass:"form-select",attrs:{id:"tipoact"}},[e("option",{attrs:{selected:"",value:"Inscripcion"}},[t._v("Inscripcion")]),e("option",{attrs:{value:"Modificacion"}},[t._v("Modificacion")]),e("option",{attrs:{value:"Alzamiento"}},[t._v("Alzamiento")])])])])},function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("thead",{staticStyle:{color:"white","background-color":"#514BD5"}},[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("N° Repertorio Prenda")]),e("th",{attrs:{scope:"col"}},[t._v("Oficina/Notaria")]),e("th",{attrs:{scope:"col"}},[t._v("Fecha")]),e("th",{attrs:{scope:"col"}},[t._v("Estado")]),e("th",{attrs:{scope:"col"}},[t._v("Asignada")])])])}],Ec=[],Cc=[],Rc=[];function Ic(){return Pc.apply(this,arguments)}function Pc(){return Pc=Object(U["a"])(regeneratorRuntime.mark((function t(){var o,e,n,a,i,r,c,s=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(o=s.length>0&&void 0!==s[0]?s[0]:"",e=s.length>1&&void 0!==s[1]?s[1]:"",n=s.length>2&&void 0!==s[2]?s[2]:"",a=s.length>3&&void 0!==s[3]?s[3]:"",i=s.length>4&&void 0!==s[4]?s[4]:"",r=s.length>5&&void 0!==s[5]?s[5]:"",c=s.length>6&&void 0!==s[6]?s[6]:"",console.log("PARAMETROS"),console.log("FOLIO: "+n),console.log("YEAR: "+e),"I"!=o&&""!=o){t.next=14;break}return console.log("buscar inscripciones"),t.next=14,Object(O["e"])(Object(O["a"])(_m,"Solicitud_Inscripcion_Prenda")).then((function(t){var o=t.docs;console.log("Largo documento inscricpion: "+o.length),o.forEach((function(t){var o=t.data(),s=o.numeroRepertorioContratoPrenda;if(o.estadoSecundario>0){var l=s.split("-")[0],u=s.split("-")[1];l!=n&&""!=n||u!=e&&""!=e||(console.log("entro"),o.estadoPrimario!=a&&""!=a||o.usuarioCreador!=i&&""!=i||o.nombre_notaria!=r&&""!=r||o.oficina!=c&&""!=c||Ec.push([t.id,o]))}}))}));case 14:if("M"!=o&&""!=o){t.next=18;break}return console.log("buscar modificaciones"),t.next=18,Object(O["e"])(Object(O["a"])(_m,"Solicitud_Modificacion_Prenda")).then((function(t){var o=t.docs;console.log("Largo documento modificacion: "+o.length),o.forEach((function(t){var o=t.data(),s=o.numeroRepertorioContratoPrenda;if(o.estadoSecundario>0){var l=s.split("-")[0],u=s.split("-")[1];l!=n&&""!=n||u!=e&&""!=e||o.estadoPrimario!=a&&""!=a||o.usuarioCreador!=i&&""!=i||o.nombre_notaria!=r&&""!=r||o.oficina!=c&&""!=c||Cc.push([t.id,o])}}))}));case 18:if("A"!=o&&""!=o){t.next=22;break}return console.log("buscar alzamientos"),t.next=22,Object(O["e"])(Object(O["a"])(_m,"Solicitud_Alzamiento_Prenda")).then((function(t){var o=t.docs;console.log("Largo documento alzamiento: "+o.length),o.forEach((function(t){var o=t.data(),s=o.numeroRepertorioContratoPrenda;if(o.estadoSecundario>0){var l=s.split("-")[0],u=s.split("-")[1];l!=n&&""!=n||u!=e&&""!=e||o.estadoPrimario!=a&&""!=a||o.usuarioCreador!=i&&""!=i||o.nombre_notaria!=r&&""!=r||o.oficina!=c&&""!=c||Rc.push([t.id,o])}}))}));case 22:case"end":return t.stop()}}),t)}))),Pc.apply(this,arguments)}var Nc={mounted:function(){var t=this;Ic(),setTimeout((function(){t.inscripciones_encontradas.length>0&&t.inscripciones_encontradas.forEach((function(o){var e;4==o[1]["estadoPrimario"]?e="En revision":5==o[1]["estadoPrimario"]?e="Aceptado":6==o[1]["estadoPrimario"]?e="Rechazado":o[1]["estadoPrimario"]>6&&(e="Rechazado Definitivo");var n={Rep:o[1]["numeroRepertorioContratoPrenda"],Oficina:o[1]["oficina"],Fecha:o[1]["fechaSuscripcion"],Estado:e,Asignada:"",ID:o[0],Tipo:"I"};t.items.push(n)})),t.modificaciones_encontradas.length>0&&t.modificaciones_encontradas.forEach((function(o){var e;4==o[1]["estadoPrimario"]?e="En revision":5==o[1]["estadoPrimario"]?e="Aceptado":6==o[1]["estadoPrimario"]?e="Rechazado":o[1]["estadoPrimario"]>6&&(e="Rechazado Definitivo");var n={Rep:o[1]["numeroRepertorioContratoPrenda"],Oficina:o[1]["oficina"],Fecha:o[1]["fechaSuscripcion"],Estado:e,Asignada:"",ID:o[0],Tipo:"M"};t.items.push(n)})),t.alzamientos_encontrados.length>0&&t.alzamientos_encontrados.forEach((function(o){var e;4==o[1]["estadoPrimario"]?e="En revision":5==o[1]["estadoPrimario"]?e="Aceptado":6==o[1]["estadoPrimario"]?e="Rechazado":o[1]["estadoPrimario"]>6&&(e="Rechazado Definitivo");var n={Rep:o[1]["numeroRepertorioContratoPrenda"],Oficina:o[1]["oficina"],Fecha:o[1]["fechaSuscripcion"],Estado:e,Asignada:"",ID:o[0],Tipo:"A"};t.items.push(n)}))}),1500)},name:"TablaRevisor",props:{opcion:Array,username:{type:String,default:"Hola!"},rol:{type:String,default:"REVISOR"}},data:function(){return{items:[],inscripciones_encontradas:Ec,modificaciones_encontradas:Cc,alzamientos_encontrados:Rc}},methods:{busqueda:function(){var t=this;this.items=[],Ec=[],Cc=[],Rc=[],console.log("BUSCANDO...");var o=document.getElementById("foliorep").value,e=document.getElementById("yearrep").value,n=document.getElementById("tipoact").value;console.log(o+","+e+","+n);var a="T";"Modificacion"==n?a="M":"Alzamiento"==n?a="A":"Inscripcion"==n&&(a="I"),console.log(a),Ic(a,e,o),setTimeout((function(){console.log("INSCRIPCIONES ENCONTRADAS: "+Ec.length),Ec.length>0&&Ec.forEach((function(o){var e;4==o[1]["estadoPrimario"]?e="En revision":5==o[1]["estadoPrimario"]?e="Aceptado":6==o[1]["estadoPrimario"]?e="Rechazado":o[1]["estadoPrimario"]>6&&(e="Rechazado Definitivo");var n={Rep:o[1]["numeroRepertorioContratoPrenda"],Oficina:o[1]["oficina"],Fecha:o[1]["fechaSuscripcion"],Estado:e,Asignada:"",ID:o[0],Tipo:"I"};t.items.push(n)})),console.log("MODIFICACIONES ENCONTRADAS: "+Cc.length),Cc.length>0&&Cc.forEach((function(o){var e;4==o[1]["estadoPrimario"]?e="En revision":5==o[1]["estadoPrimario"]?e="Aceptado":6==o[1]["estadoPrimario"]?e="Rechazado":o[1]["estadoPrimario"]>6&&(e="Rechazado Definitivo");var n={Rep:o[1]["numeroRepertorioContratoPrenda"],Oficina:o[1]["oficina"],Fecha:o[1]["fechaSuscripcion"],Estado:e,Asignada:"",ID:o[0],Tipo:"M"};t.items.push(n)})),console.log("ALZAMIENTOS ENCONTRADAS: "+Rc.length),Rc.length>0&&Rc.forEach((function(o){var e;4==o[1]["estadoPrimario"]?e="En revision":5==o[1]["estadoPrimario"]?e="Aceptado":6==o[1]["estadoPrimario"]?e="Rechazado":o[1]["estadoPrimario"]>6&&(e="Rechazado Definitivo");var n={Rep:o[1]["numeroRepertorioContratoPrenda"],Oficina:o[1]["oficina"],Fecha:o[1]["fechaSuscripcion"],Estado:e,Asignada:"",ID:o[0],Tipo:"A"};t.items.push(n)}))}),1500)}}},Dc=Nc,yc=(e("bd36"),Object(p["a"])(Dc,Sc,Ac,!1,null,"33b7489e",null)),Tc=yc.exports,Fc=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"TablaRevisor"}},[e("div",{staticStyle:{padding:"50px","margin-left":"300px"}},[e("table",{staticClass:"table table-sm table-hover zui-table-rounded"},[e("thead",{staticStyle:{color:"black"}},[e("tr",[t._m(0),t._m(1),t._m(2),e("th",{attrs:{scope:"col"}},[e("div",{staticClass:"d-flex justify-content-center"},[e("button",{staticClass:"d-flex justify-content-center button",on:{click:function(o){return t.busqueda()}}},[t._v("Buscar")])])])])])]),e("table",{staticClass:"table table-sm table-hover zui-table-rounded"},[t._m(3),t._l(t.items,(function(o,n){return e("tbody",{key:n},[e("tr",[e("th",{attrs:{scope:"row"}},[t._v(t._s(o.Rep))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.Oficina))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.Fecha))]),e("td",[e("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"Basic example"}},[e("th",{staticClass:"status"},[t._v(t._s(o.Estado))])])]),e("td",[e("div",{staticClass:"tamanoTipoDocumento"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.tipoDoc,expression:"tipoDoc"}],staticClass:"form-select",attrs:{id:"asignado"},on:{change:[function(o){var e=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.tipoDoc=o.target.multiple?e:e[0]},function(o){return t.changeOption()}]}},[e("option",{attrs:{selected:"",value:"Revisor #1"}},[t._v("Revisor #1")]),e("option",{attrs:{value:"revisor #2"}},[t._v("Revisor #2")])])])])])])}))],2)])])},xc=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("th",{attrs:{scope:"col"}},[t._v("\n                Folio Repertorio Prenda\n                "),e("div",{staticClass:"d-flex justify-content-center"},[e("input",{attrs:{type:"text",id:"foliorep",placeholder:"N° Documento"}})])])},function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("th",{attrs:{scope:"col"}},[t._v("\n                Año\n                "),e("div",{staticClass:"d-flex justify-content-center"},[e("input",{attrs:{type:"text",id:"yearrep",placeholder:"Año"}})])])},function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("th",{attrs:{scope:"col"}},[t._v("\n                Tipo de actuación\n                "),e("div",{staticClass:"d-flex justify-content-center"},[e("select",{staticClass:"form-select",attrs:{id:"tipoact"}},[e("option",{attrs:{selected:"",value:"Inscripcion"}},[t._v("Inscripcion")]),e("option",{attrs:{value:"Modificacion"}},[t._v("Modificacion")]),e("option",{attrs:{value:"Alzamiento"}},[t._v("Alzamiento")])])])])},function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("thead",{staticStyle:{color:"white","background-color":"#514BD5"}},[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("N° Repertorio Prenda")]),e("th",{attrs:{scope:"col"}},[t._v("Oficina/Notaria")]),e("th",{attrs:{scope:"col"}},[t._v("Fecha")]),e("th",{attrs:{scope:"col"}},[t._v("Estado")]),e("th",{attrs:{scope:"col"}},[t._v("Asignada")])])])}],zc=[],Mc=[],wc=[];function Bc(){return kc.apply(this,arguments)}function kc(){return kc=Object(U["a"])(regeneratorRuntime.mark((function t(){var o,e,n,a,i=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(o=i.length>0&&void 0!==i[0]?i[0]:"",e=i.length>1&&void 0!==i[1]?i[1]:"",n=i.length>2&&void 0!==i[2]?i[2]:"",a=i.length>3&&void 0!==i[3]?i[3]:"",console.log("PARAMETROS"),console.log("FOLIO: "+n),console.log("YEAR: "+e),"I"!=o&&""!=o){t.next=11;break}return console.log("buscar inscripciones"),t.next=11,Object(O["e"])(Object(O["a"])(_m,"Solicitud_Inscripcion_Prenda")).then((function(t){var o=t.docs;console.log("Largo documento inscricpion: "+o.length),o.forEach((function(t){var o=t.data(),i=o.numeroRepertorioContratoPrenda;if(o.estadoSecundario>0){var r=i.split("-")[0],c=i.split("-")[1];r!=n&&""!=n||c!=e&&""!=e||o.estadoPrimario!=a&&""!=a||zc.push([t.id,o])}}))}));case 11:if("M"!=o&&""!=o){t.next=15;break}return console.log("buscar modificaciones"),t.next=15,Object(O["e"])(Object(O["a"])(_m,"Solicitud_Modificacion_Prenda")).then((function(t){var o=t.docs;console.log("Largo documento modificacion: "+o.length),o.forEach((function(t){var o=t.data(),i=o.numeroRepertorioContratoPrenda;if(o.estadoSecundario>0){var r=i.split("-")[0],c=i.split("-")[1];r!=n&&""!=n||c!=e&&""!=e||o.estadoPrimario!=a&&""!=a||Mc.push([t.id,o])}}))}));case 15:if("A"!=o&&""!=o){t.next=19;break}return console.log("buscar alzamientos"),t.next=19,Object(O["e"])(Object(O["a"])(_m,"Solicitud_Alzamiento_Prenda")).then((function(t){var o=t.docs;console.log("Largo documento alzamiento: "+o.length),o.forEach((function(t){var o=t.data(),i=o.numeroRepertorioContratoPrenda;if(o.estadoSecundario>0){var r=i.split("-")[0],c=i.split("-")[1];r!=n&&""!=n||c!=e&&""!=e||o.estadoPrimario!=a&&""!=a||wc.push([t.id,o])}}))}));case 19:case"end":return t.stop()}}),t)}))),kc.apply(this,arguments)}var qc={mounted:function(){var t=this;Bc(),setTimeout((function(){t.inscripciones_encontradas.length>0&&t.inscripciones_encontradas.forEach((function(o){var e;4==o[1]["estadoPrimario"]?e="En revision":5==o[1]["estadoPrimario"]?e="Aceptado":6==o[1]["estadoPrimario"]?e="Rechazado":o[1]["estadoPrimario"]>6&&(e="Rechazado Definitivo");var n={Rep:o[1]["numeroRepertorioContratoPrenda"],Oficina:o[1]["oficina"],Fecha:o[1]["fechaSuscripcion"],Estado:e,Asignada:"",ID:o[0],Tipo:"I"};t.items.push(n)})),t.modificaciones_encontradas.length>0&&t.modificaciones_encontradas.forEach((function(o){var e;4==o[1]["estadoPrimario"]?e="En revision":5==o[1]["estadoPrimario"]?e="Aceptado":6==o[1]["estadoPrimario"]?e="Rechazado":o[1]["estadoPrimario"]>6&&(e="Rechazado Definitivo");var n={Rep:o[1]["numeroRepertorioContratoPrenda"],Oficina:o[1]["oficina"],Fecha:o[1]["fechaSuscripcion"],Estado:e,Asignada:"",ID:o[0],Tipo:"M"};t.items.push(n)})),t.alzamientos_encontrados.length>0&&t.alzamientos_encontrados.forEach((function(o){var e;4==o[1]["estadoPrimario"]?e="En revision":5==o[1]["estadoPrimario"]?e="Aceptado":6==o[1]["estadoPrimario"]?e="Rechazado":o[1]["estadoPrimario"]>6&&(e="Rechazado Definitivo");var n={Rep:o[1]["numeroRepertorioContratoPrenda"],Oficina:o[1]["oficina"],Fecha:o[1]["fechaSuscripcion"],Estado:e,Asignada:"",ID:o[0],Tipo:"A"};t.items.push(n)}))}),1500)},name:"TablaRevisor",props:{opcion:Array,username:{type:String,default:"Hola!"},rol:{type:String,default:"REVISOR"}},data:function(){return{items:[],inscripciones_encontradas:zc,modificaciones_encontradas:Mc,alzamientos_encontrados:wc}},methods:{busqueda:function(){var t=this;this.items=[],zc=[],Mc=[],wc=[],console.log("BUSCANDO...");var o=document.getElementById("foliorep").value,e=document.getElementById("yearrep").value,n=document.getElementById("tipoact").value;console.log(o+","+e+","+n);var a="T";"Modificacion"==n?a="M":"Alzamiento"==n?a="A":"Inscripcion"==n&&(a="I"),console.log(a),Bc(a,e,o),setTimeout((function(){console.log("INSCRIPCIONES ENCONTRADAS: "+zc.length),zc.length>0&&zc.forEach((function(o){var e;4==o[1]["estadoPrimario"]?e="En revision":5==o[1]["estadoPrimario"]?e="Aceptado":6==o[1]["estadoPrimario"]?e="Rechazado":o[1]["estadoPrimario"]>6&&(e="Rechazado Definitivo");var n={Rep:o[1]["numeroRepertorioContratoPrenda"],Oficina:o[1]["oficina"],Fecha:o[1]["fechaSuscripcion"],Estado:e,Asignada:"",ID:o[0],Tipo:"I"};t.items.push(n)})),console.log("MODIFICACIONES ENCONTRADAS: "+Mc.length),Mc.length>0&&Mc.forEach((function(o){var e;4==o[1]["estadoPrimario"]?e="En revision":5==o[1]["estadoPrimario"]?e="Aceptado":6==o[1]["estadoPrimario"]?e="Rechazado":o[1]["estadoPrimario"]>6&&(e="Rechazado Definitivo");var n={Rep:o[1]["numeroRepertorioContratoPrenda"],Oficina:o[1]["oficina"],Fecha:o[1]["fechaSuscripcion"],Estado:e,Asignada:"",ID:o[0],Tipo:"M"};t.items.push(n)})),console.log("ALZAMIENTOS ENCONTRADAS: "+wc.length),wc.length>0&&wc.forEach((function(o){var e;4==o[1]["estadoPrimario"]?e="En revision":5==o[1]["estadoPrimario"]?e="Aceptado":6==o[1]["estadoPrimario"]?e="Rechazado":o[1]["estadoPrimario"]>6&&(e="Rechazado Definitivo");var n={Rep:o[1]["numeroRepertorioContratoPrenda"],Oficina:o[1]["oficina"],Fecha:o[1]["fechaSuscripcion"],Estado:e,Asignada:"",ID:o[0],Tipo:"A"};t.items.push(n)}))}),1500)}}},Uc=qc,Lc=(e("6148"),Object(p["a"])(Uc,Fc,xc,!1,null,"2ad13eaa",null)),Gc=Lc.exports,Vc=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"TablaRevisor"}},[e("div",{staticStyle:{padding:"50px","margin-left":"300px"}},[e("table",{staticClass:"table table-sm table-hover zui-table-rounded"},[e("thead",{staticStyle:{color:"black"}},[e("tr",[t._m(0),t._m(1),t._m(2),e("th",{attrs:{scope:"col"}},[e("div",{staticClass:"d-flex justify-content-center"},[e("button",{staticClass:"d-flex justify-content-center button",on:{click:function(o){return t.busqueda()}}},[t._v("Buscar")])])])])])]),e("table",{staticClass:"table table-sm table-hover zui-table-rounded"},[t._m(3),t._l(t.items,(function(o,n){return e("tbody",{key:n},[e("tr",[e("th",{attrs:{scope:"row"}},[t._v(t._s(o.Rep))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.Oficina))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.Fecha))]),e("td",[e("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"Basic example"}},[e("th",{staticClass:"status"},[t._v(t._s(o.Estado))])])])])])}))],2)])])},$c=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("th",{attrs:{scope:"col"}},[t._v("\n                Folio Repertorio Prenda\n                "),e("div",{staticClass:"d-flex justify-content-center"},[e("input",{attrs:{type:"text",id:"foliorep",placeholder:"N° Documento"}})])])},function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("th",{attrs:{scope:"col"}},[t._v("\n                Año\n                "),e("div",{staticClass:"d-flex justify-content-center"},[e("input",{attrs:{type:"text",id:"yearrep",placeholder:"Año"}})])])},function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("th",{attrs:{scope:"col"}},[t._v("\n                Tipo de actuación\n                "),e("div",{staticClass:"d-flex justify-content-center"},[e("select",{staticClass:"form-select",attrs:{id:"tipoact"}},[e("option",{attrs:{selected:"",value:"Inscripcion"}},[t._v("Inscripcion")]),e("option",{attrs:{value:"Modificacion"}},[t._v("Modificacion")]),e("option",{attrs:{value:"Alzamiento"}},[t._v("Alzamiento")])])])])},function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("thead",{staticStyle:{color:"white","background-color":"#514BD5"}},[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("N° Repertorio Prenda")]),e("th",{attrs:{scope:"col"}},[t._v("Oficina/Notaria")]),e("th",{attrs:{scope:"col"}},[t._v("Fecha")]),e("th",{attrs:{scope:"col"}},[t._v("Estado")])])])}],Hc=[],Yc=[],Zc=[];function Jc(){return Xc.apply(this,arguments)}function Xc(){return Xc=Object(U["a"])(regeneratorRuntime.mark((function t(){var o,e,n,a,i,r,c,s=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(o=s.length>0&&void 0!==s[0]?s[0]:"",e=s.length>1&&void 0!==s[1]?s[1]:"",n=s.length>2&&void 0!==s[2]?s[2]:"",a=s.length>3&&void 0!==s[3]?s[3]:"",i=s.length>4&&void 0!==s[4]?s[4]:"",r=s.length>5&&void 0!==s[5]?s[5]:"",c=s.length>6&&void 0!==s[6]?s[6]:"",console.log("PARAMETROS"),console.log("FOLIO: "+n),console.log("YEAR: "+e),"I"!=o&&""!=o){t.next=14;break}return console.log("buscar inscripciones"),t.next=14,Object(O["e"])(Object(O["a"])(_m,"Solicitud_Inscripcion_Prenda")).then((function(t){var o=t.docs;console.log("Largo documento inscricpion: "+o.length),o.forEach((function(t){var o=t.data(),s=o.numeroRepertorioContratoPrenda;if(o.estadoSecundario>0&&o.usuarioCreador==localStorage.mail){var l=s.split("-")[0],u=s.split("-")[1];l!=n&&""!=n||u!=e&&""!=e||(console.log("entro"),o.estadoPrimario!=a&&""!=a||o.usuarioCreador!=i&&""!=i||o.nombre_notaria!=r&&""!=r||o.oficina!=c&&""!=c||Hc.push([t.id,o]))}}))}));case 14:if("M"!=o&&""!=o){t.next=18;break}return console.log("buscar modificaciones"),t.next=18,Object(O["e"])(Object(O["a"])(_m,"Solicitud_Modificacion_Prenda")).then((function(t){var o=t.docs;console.log("Largo documento modificacion: "+o.length),o.forEach((function(t){var o=t.data(),s=o.numeroRepertorioContratoPrenda;if(o.estadoSecundario>0&&o.usuarioCreador==localStorage.mail){var l=s.split("-")[0],u=s.split("-")[1];l!=n&&""!=n||u!=e&&""!=e||o.estadoPrimario!=a&&""!=a||o.usuarioCreador!=i&&""!=i||o.nombre_notaria!=r&&""!=r||o.oficina!=c&&""!=c||Yc.push([t.id,o])}}))}));case 18:if("A"!=o&&""!=o){t.next=22;break}return console.log("buscar alzamientos"),t.next=22,Object(O["e"])(Object(O["a"])(_m,"Solicitud_Alzamiento_Prenda")).then((function(t){var o=t.docs;console.log("Largo documento alzamiento: "+o.length),o.forEach((function(t){var o=t.data(),s=o.numeroRepertorioContratoPrenda;if(o.estadoSecundario>0&&o.usuarioCreador==localStorage.mail){var l=s.split("-")[0],u=s.split("-")[1];l!=n&&""!=n||u!=e&&""!=e||o.estadoPrimario!=a&&""!=a||o.usuarioCreador!=i&&""!=i||o.nombre_notaria!=r&&""!=r||o.oficina!=c&&""!=c||Zc.push([t.id,o])}}))}));case 22:case"end":return t.stop()}}),t)}))),Xc.apply(this,arguments)}var Kc={mounted:function(){var t=this;Jc(),setTimeout((function(){t.inscripciones_encontradas.length>0&&t.inscripciones_encontradas.forEach((function(o){var e;4==o[1]["estadoPrimario"]?e="En revision":5==o[1]["estadoPrimario"]?e="Aceptado":6==o[1]["estadoPrimario"]?e="Rechazado":o[1]["estadoPrimario"]>6&&(e="Rechazado Definitivo");var n={Rep:o[1]["numeroRepertorioContratoPrenda"],Oficina:o[1]["oficina"],Fecha:o[1]["fechaSuscripcion"],Estado:e,Asignada:"",ID:o[0],Tipo:"I"};t.items.push(n)})),t.modificaciones_encontradas.length>0&&t.modificaciones_encontradas.forEach((function(o){var e;4==o[1]["estadoPrimario"]?e="En revision":5==o[1]["estadoPrimario"]?e="Aceptado":6==o[1]["estadoPrimario"]?e="Rechazado":o[1]["estadoPrimario"]>6&&(e="Rechazado Definitivo");var n={Rep:o[1]["numeroRepertorioContratoPrenda"],Oficina:o[1]["oficina"],Fecha:o[1]["fechaSuscripcion"],Estado:e,Asignada:"",ID:o[0],Tipo:"M"};t.items.push(n)})),t.alzamientos_encontrados.length>0&&t.alzamientos_encontrados.forEach((function(o){var e;4==o[1]["estadoPrimario"]?e="En revision":5==o[1]["estadoPrimario"]?e="Aceptado":6==o[1]["estadoPrimario"]?e="Rechazado":o[1]["estadoPrimario"]>6&&(e="Rechazado Definitivo");var n={Rep:o[1]["numeroRepertorioContratoPrenda"],Oficina:o[1]["oficina"],Fecha:o[1]["fechaSuscripcion"],Estado:e,Asignada:"",ID:o[0],Tipo:"A"};t.items.push(n)}))}),1500)},name:"TablaRevisor",props:{opcion:Array,username:{type:String,default:"Hola!"},rol:{type:String,default:"REVISOR"}},data:function(){return{items:[],inscripciones_encontradas:Hc,modificaciones_encontradas:Yc,alzamientos_encontrados:Zc}},methods:{busqueda:function(){var t=this;this.items=[],Hc=[],Yc=[],Zc=[],console.log("BUSCANDO...");var o=document.getElementById("foliorep").value,e=document.getElementById("yearrep").value,n=document.getElementById("tipoact").value;console.log(o+","+e+","+n);var a="T";"Modificacion"==n?a="M":"Alzamiento"==n?a="A":"Inscripcion"==n&&(a="I"),console.log(a),Jc(a,e,o),setTimeout((function(){console.log("INSCRIPCIONES ENCONTRADAS: "+Hc.length),Hc.length>0&&Hc.forEach((function(o){var e;4==o[1]["estadoPrimario"]?e="En revision":5==o[1]["estadoPrimario"]?e="Aceptado":6==o[1]["estadoPrimario"]?e="Rechazado":o[1]["estadoPrimario"]>6&&(e="Rechazado Definitivo");var n={Rep:o[1]["numeroRepertorioContratoPrenda"],Oficina:o[1]["oficina"],Fecha:o[1]["fechaSuscripcion"],Estado:e,Asignada:"",ID:o[0],Tipo:"I"};t.items.push(n)})),console.log("MODIFICACIONES ENCONTRADAS: "+Yc.length),Yc.length>0&&Yc.forEach((function(o){var e;4==o[1]["estadoPrimario"]?e="En revision":5==o[1]["estadoPrimario"]?e="Aceptado":6==o[1]["estadoPrimario"]?e="Rechazado":o[1]["estadoPrimario"]>6&&(e="Rechazado Definitivo");var n={Rep:o[1]["numeroRepertorioContratoPrenda"],Oficina:o[1]["oficina"],Fecha:o[1]["fechaSuscripcion"],Estado:e,Asignada:"",ID:o[0],Tipo:"M"};t.items.push(n)})),console.log("ALZAMIENTOS ENCONTRADAS: "+Zc.length),Zc.length>0&&Zc.forEach((function(o){var e;4==o[1]["estadoPrimario"]?e="En revision":5==o[1]["estadoPrimario"]?e="Aceptado":6==o[1]["estadoPrimario"]?e="Rechazado":o[1]["estadoPrimario"]>6&&(e="Rechazado Definitivo");var n={Rep:o[1]["numeroRepertorioContratoPrenda"],Oficina:o[1]["oficina"],Fecha:o[1]["fechaSuscripcion"],Estado:e,Asignada:"",ID:o[0],Tipo:"A"};t.items.push(n)}))}),1500)}}},Qc=Kc,Wc=(e("b81e"),Object(p["a"])(Qc,Vc,$c,!1,null,"713401a6",null)),ts=Wc.exports,os=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"TablaRevisor"}},[e("div",{staticStyle:{padding:"50px","margin-left":"300px"}},[e("table",{staticClass:"table table-sm table-hover zui-table-rounded"},[e("thead",{staticStyle:{color:"black"}},[e("tr",[t._m(0),t._m(1),t._m(2),e("th",{attrs:{scope:"col"}},[e("div",{staticClass:"d-flex justify-content-center"},[e("button",{staticClass:"d-flex justify-content-center button",on:{click:function(o){return t.busqueda()}}},[t._v("Buscar")])])])])])]),e("table",{staticClass:"table table-sm table-hover zui-table-rounded"},[t._m(3),t._l(t.items,(function(o,n){return e("tbody",{key:n},[e("tr",[e("th",{attrs:{scope:"row"}},[t._v(t._s(o.Rep))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.Fecha))]),e("td",[e("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"Basic example"}},[e("th",{staticClass:"status"},[t._v(t._s(o.Estado))])])])])])}))],2)])])},es=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("th",{attrs:{scope:"col"}},[t._v("\n                Folio Repertorio Prenda\n                "),e("div",{staticClass:"d-flex justify-content-center"},[e("input",{attrs:{type:"text",id:"foliorep",placeholder:"N° Documento"}})])])},function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("th",{attrs:{scope:"col"}},[t._v("\n                Año\n                "),e("div",{staticClass:"d-flex justify-content-center"},[e("input",{attrs:{type:"text",id:"yearrep",placeholder:"Año"}})])])},function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("th",{attrs:{scope:"col"}},[t._v("\n                Tipo de actuación\n                "),e("div",{staticClass:"d-flex justify-content-center"},[e("select",{staticClass:"form-select",attrs:{id:"tipoact"}},[e("option",{attrs:{selected:"",value:"Inscripcion"}},[t._v("Inscripcion")]),e("option",{attrs:{value:"Modificacion"}},[t._v("Modificacion")]),e("option",{attrs:{value:"Alzamiento"}},[t._v("Alzamiento")])])])])},function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("thead",{staticStyle:{color:"white","background-color":"#514BD5"}},[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("N° Repertorio Prenda")]),e("th",{attrs:{scope:"col"}},[t._v("Fecha")]),e("th",{attrs:{scope:"col"}},[t._v("Estado")])])])}],ns=[],as=[],is=[];function rs(){return cs.apply(this,arguments)}function cs(){return cs=Object(U["a"])(regeneratorRuntime.mark((function t(){var o,e,n,a,i,r,c,s=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(o=s.length>0&&void 0!==s[0]?s[0]:"",e=s.length>1&&void 0!==s[1]?s[1]:"",n=s.length>2&&void 0!==s[2]?s[2]:"",a=s.length>3&&void 0!==s[3]?s[3]:"",i=s.length>4&&void 0!==s[4]?s[4]:"",r=s.length>5&&void 0!==s[5]?s[5]:"",c=s.length>6&&void 0!==s[6]?s[6]:"",console.log("PARAMETROS"),console.log("FOLIO: "+n),console.log("YEAR: "+e),"I"!=o&&""!=o){t.next=14;break}return console.log("buscar inscripciones"),t.next=14,Object(O["e"])(Object(O["a"])(_m,"Solicitud_Inscripcion_Prenda")).then((function(t){var o=t.docs;console.log("Largo documento inscricpion: "+o.length),o.forEach((function(t){var o=t.data(),s=o.numeroRepertorioContratoPrenda,l="-1",u="-2";Object(O["e"])(Object(O["a"])(_m,"Usuario")).then((function(t){t.docs.forEach((function(t){o.usuarioCreador==t.data().mail&&(u=t.data().NotariaID),localStorage.mail==t.data().mail&&(l=t.data().NotariaID)}))})).then((function(){if(o.estadoSecundario>0&&u==l){var d=s.split("-")[0],p=s.split("-")[1];d!=n&&""!=n||p!=e&&""!=e||o.estadoPrimario!=a&&""!=a||o.usuarioCreador!=i&&""!=i||o.nombre_notaria!=r&&""!=r||o.oficina!=c&&""!=c||ns.push([t.id,o])}}))}))}));case 14:if("M"!=o&&""!=o){t.next=18;break}return console.log("buscar modificaciones"),t.next=18,Object(O["e"])(Object(O["a"])(_m,"Solicitud_Modificacion_Prenda")).then((function(t){var o=t.docs;console.log("Largo documento modificacion: "+o.length),o.forEach((function(t){var o=t.data(),s=o.numeroRepertorioContratoPrenda,l="-1",u="-2";Object(O["e"])(Object(O["a"])(_m,"Usuario")).then((function(t){t.docs.forEach((function(t){o.usuarioCreador==t.data().mail&&(u=t.data().NotariaID),localStorage.mail==t.data().mail&&(l=t.data().NotariaID)}))})).then((function(){if(o.estadoSecundario>0&&u==l){var d=s.split("-")[0],p=s.split("-")[1];d!=n&&""!=n||p!=e&&""!=e||o.estadoPrimario!=a&&""!=a||o.usuarioCreador!=i&&""!=i||o.nombre_notaria!=r&&""!=r||o.oficina!=c&&""!=c||as.push([t.id,o])}}))}))}));case 18:if("A"!=o&&""!=o){t.next=22;break}return console.log("buscar alzamientos"),t.next=22,Object(O["e"])(Object(O["a"])(_m,"Solicitud_Alzamiento_Prenda")).then((function(t){var o=t.docs;console.log("Largo documento alzamiento: "+o.length),o.forEach((function(t){var o=t.data(),s=o.numeroRepertorioContratoPrenda,l="-1",u="-2";Object(O["e"])(Object(O["a"])(_m,"Usuario")).then((function(t){t.docs.forEach((function(t){o.usuarioCreador==t.data().mail&&(u=t.data().NotariaID),localStorage.mail==t.data().mail&&(l=t.data().NotariaID)}))})).then((function(){if(o.estadoSecundario>0&&u==l){var d=s.split("-")[0],p=s.split("-")[1];d!=n&&""!=n||p!=e&&""!=e||o.estadoPrimario!=a&&""!=a||o.usuarioCreador!=i&&""!=i||o.nombre_notaria!=r&&""!=r||o.oficina!=c&&""!=c||is.push([t.id,o])}}))}))}));case 22:case"end":return t.stop()}}),t)}))),cs.apply(this,arguments)}var ss,ls,us={mounted:function(){var t=this;rs(),setTimeout((function(){t.inscripciones_encontradas.length>0&&t.inscripciones_encontradas.forEach((function(o){var e;4==o[1]["estadoPrimario"]?e="En revision":5==o[1]["estadoPrimario"]?e="Aceptado":6==o[1]["estadoPrimario"]?e="Rechazado":o[1]["estadoPrimario"]>6&&(e="Rechazado Definitivo");var n={Rep:o[1]["numeroRepertorioContratoPrenda"],Oficina:o[1]["oficina"],Fecha:o[1]["fechaSuscripcion"],Estado:e,Asignada:"",ID:o[0],Tipo:"I"};t.items.push(n)})),t.modificaciones_encontradas.length>0&&t.modificaciones_encontradas.forEach((function(o){var e;4==o[1]["estadoPrimario"]?e="En revision":5==o[1]["estadoPrimario"]?e="Aceptado":6==o[1]["estadoPrimario"]?e="Rechazado":o[1]["estadoPrimario"]>6&&(e="Rechazado Definitivo");var n={Rep:o[1]["numeroRepertorioContratoPrenda"],Oficina:o[1]["oficina"],Fecha:o[1]["fechaSuscripcion"],Estado:e,Asignada:"",ID:o[0],Tipo:"M"};t.items.push(n)})),t.alzamientos_encontrados.length>0&&t.alzamientos_encontrados.forEach((function(o){var e;4==o[1]["estadoPrimario"]?e="En revision":5==o[1]["estadoPrimario"]?e="Aceptado":6==o[1]["estadoPrimario"]?e="Rechazado":o[1]["estadoPrimario"]>6&&(e="Rechazado Definitivo");var n={Rep:o[1]["numeroRepertorioContratoPrenda"],Oficina:o[1]["oficina"],Fecha:o[1]["fechaSuscripcion"],Estado:e,Asignada:"",ID:o[0],Tipo:"A"};t.items.push(n)}))}),1500)},name:"TablaRevisor",props:{opcion:Array,username:{type:String,default:"Hola!"},rol:{type:String,default:"REVISOR"}},data:function(){return{items:[],inscripciones_encontradas:ns,modificaciones_encontradas:as,alzamientos_encontrados:is}},methods:{busqueda:function(){var t=this;this.items=[],ns=[],as=[],is=[],console.log("BUSCANDO...");var o=document.getElementById("foliorep").value,e=document.getElementById("yearrep").value,n=document.getElementById("tipoact").value;console.log(o+","+e+","+n);var a="T";"Modificacion"==n?a="M":"Alzamiento"==n?a="A":"Inscripcion"==n&&(a="I"),console.log(a),rs(a,e,o),setTimeout((function(){console.log("INSCRIPCIONES ENCONTRADAS: "+ns.length),ns.length>0&&ns.forEach((function(o){var e;4==o[1]["estadoPrimario"]?e="En revision":5==o[1]["estadoPrimario"]?e="Aceptado":6==o[1]["estadoPrimario"]?e="Rechazado":o[1]["estadoPrimario"]>6&&(e="Rechazado Definitivo");var n={Rep:o[1]["numeroRepertorioContratoPrenda"],Oficina:o[1]["oficina"],Fecha:o[1]["fechaSuscripcion"],Estado:e,Asignada:"",ID:o[0],Tipo:"I"};t.items.push(n)})),console.log("MODIFICACIONES ENCONTRADAS: "+as.length),as.length>0&&as.forEach((function(o){var e;4==o[1]["estadoPrimario"]?e="En revision":5==o[1]["estadoPrimario"]?e="Aceptado":6==o[1]["estadoPrimario"]?e="Rechazado":o[1]["estadoPrimario"]>6&&(e="Rechazado Definitivo");var n={Rep:o[1]["numeroRepertorioContratoPrenda"],Oficina:o[1]["oficina"],Fecha:o[1]["fechaSuscripcion"],Estado:e,Asignada:"",ID:o[0],Tipo:"M"};t.items.push(n)})),console.log("ALZAMIENTOS ENCONTRADAS: "+is.length),is.length>0&&is.forEach((function(o){var e;4==o[1]["estadoPrimario"]?e="En revision":5==o[1]["estadoPrimario"]?e="Aceptado":6==o[1]["estadoPrimario"]?e="Rechazado":o[1]["estadoPrimario"]>6&&(e="Rechazado Definitivo");var n={Rep:o[1]["numeroRepertorioContratoPrenda"],Oficina:o[1]["oficina"],Fecha:o[1]["fechaSuscripcion"],Estado:e,Asignada:"",ID:o[0],Tipo:"A"};t.items.push(n)}))}),1500)}}},ds=us,ps=(e("514e"),Object(p["a"])(ds,os,es,!1,null,"09210326",null)),ms=ps.exports,gs={name:"Buscador",data:function(){return{opcion:localStorage.my_opts.split(","),username:localStorage.user,rol:localStorage.rol}},components:{Menu:B,Navbar:ut,BuscadorReceptor:jc,BuscadorJefeDeServicios:Tc,BuscadorRevisor:Gc,BuscadorFuncionarioNotaria:ts,BuscadorNotario:ms}},hs=gs,fs=(e("f747"),Object(p["a"])(hs,lc,uc,!1,null,"6c1cea4c",null)),vs=fs.exports,bs=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"dashboard"}},[e("Menu",{attrs:{opciones:t.opcion}}),e("Navbar",{attrs:{username:t.username}}),e("div",{staticClass:"right"},["RECEPTOR"==t.rol?e("RepcionDocumentosBuscador"):t._e()],1)],1)},Os=[],_s=function(){var t=this,o=t.$createElement;t._self._c;return t._m(0)},js=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"row",attrs:{id:"contenedor"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-8"},[t._v("Recepción Solicitudes")]),e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-4",staticStyle:{"background-color":"white"}},[e("h3",[t._v("N° Repertorio Notaria")]),e("input",{attrs:{type:"search",placeholder:"N° Repertorio Notaria"}})]),e("div",{staticClass:"col-lg-4",staticStyle:{"background-color":"white"}},[e("h3",[t._v("N° Repertorio Prenda")]),e("input",{attrs:{type:"search",placeholder:"N° Repertorio Prenda"}})])]),e("div",{staticClass:"row"},[e("button",{staticClass:"buttonRec"},[t._v("Recepcionado")])])])])])}],Ss={name:"AcreedorFormularios",data:function(){return{option:"Natural",headers:["Tipo","Id","Name"],items:[{}]}},methods:{changeOption:function(){var t=document.getElementById("tipoDePersona");this.option=t.options[t.selectedIndex].value,console.log(this.option)},add:function(t){this.items.push(t)}}},As=Ss,Es=(e("a05b"),Object(p["a"])(As,_s,js,!1,null,"0e55471f",null)),Cs=Es.exports,Rs={name:"Buscador",data:function(){return{opcion:localStorage.my_opts.split(","),username:localStorage.user,rol:localStorage.rol}},components:{Menu:B,Navbar:ut,RepcionDocumentosBuscador:Cs}},Is=Rs,Ps=(e("0e08"),Object(p["a"])(Is,bs,Os,!1,null,"0b516ff1",null)),Ns=Ps.exports,Ds=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"dashboard"}},[e("Menu",{attrs:{opciones:t.opcion}}),e("Navbar",{attrs:{username:t.username}}),e("div",{staticClass:"right"},[e("h1",{staticClass:"d-flex justify-content-center",staticStyle:{color:"#514BD5"}},[t._v("Revisión de documentos")]),e("AntecedentesFormulario",{attrs:{rol:t.rol}}),e("AcreedorLectura"),e("ConstituyenteLectura",{attrs:{items:t.items_Constituyentes,modo:"leer"}}),e("DeudoresLectura",{attrs:{items:t.items_Deudores,modo:"leer"}}),e("VehiculosLectura",{attrs:{tipoSolicitud:"RevisionDoc",items:t.total_itemsVehiculos}}),e("ArchivosLectura",{attrs:{items:t.items_Contrato,itemsAnexos:t.items_Anexos}}),e("div",{staticClass:"row d-flex justify-content-center",attrs:{id:"contenedor"}},[e("button",{staticClass:"col-2 titleButton",on:{click:function(o){return t.rechazar()}}},[t._v("Rechazar")]),e("button",{staticClass:"col-2 titleButton",on:{click:function(o){return t.aceptar()}}},[t._v("Firmar FEA")])])],1)],1)},ys=[],Ts=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"row",attrs:{id:"contenedor"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"titleFormulario col",on:{change:function(o){return t.setData()}}},[t._v("Contrato")]),e("div",{staticClass:"row "},t._l(t.items,(function(o,n){return e("div",{key:n,staticClass:"col d-flex justify-content-start",on:{change:function(o){return t.setData()}}},[e("a",{attrs:{href:o.href,target:"black"}},[e("font-awesome-icon",{staticStyle:{"margin-right":"5px"},attrs:{icon:"file-download"}})],1)])})),0)]),e("div",{staticClass:"row"},[e("div",{staticClass:"titleFormulario col",on:{change:function(o){return t.setData()}}},[t._v("Anexos")]),e("div",{staticClass:"row"},t._l(t.itemsAnexos,(function(o,n){return e("div",{key:n,staticClass:"col d-flex justify-content-start",on:{change:function(o){return t.setData()}}},[e("a",{attrs:{href:o.href,target:"black"}},[e("font-awesome-icon",{staticStyle:{"margin-right":"5px"},attrs:{icon:"file-download"}})],1)])})),0)])])},Fs=[],xs={props:{items:{type:Array,default:new Array},itemsAnexos:{type:Array,default:new Array}}},zs=xs,Ms=(e("996a"),Object(p["a"])(zs,Ts,Fs,!1,null,"6f2c118c",null)),ws=Ms.exports,Bs=localStorage.user,ks="/Dashboard/"+localStorage.rol+"/"+Bs+"/MisSolicitudes",qs=[],Us=[],Ls=[],Gs=[],Vs=[];function $s(t,o,e,n){var a={patente:t,rvm:o,GoE:e,estado:n};0==a.estado?a.estado="Sin alzar":a.estado="Alzado",0==a.GoE?a.GoE="No":a.GoE="Si",0==a.rvm?a.rvm="No":a.rvm="Si",qs.push(a)}function Hs(t,o,e,n){console.log("PASEEEE");var a={Tipo:t,Id:o,Name:e,Pais:n};Us.push(a)}function Ys(t,o,e,n){console.log("PASEEEE");var a={Tipo:t,Id:o,Name:e,Pais:n};Ls.push(a)}function Zs(t){var o={href:t};Gs.push(o)}function Js(t){var o={href:t};Vs.push(o)}var Xs=[],Ks=[],Qs=[],Ws=[],tl=[],ol=[];function el(t,o){"I"==o?Object(O["e"])(Object(O["a"])(_m,"Solicitud_Inscripcion_Prenda")).then((function(o){var e=o.docs;e.forEach((function(o){t==o.id&&(ss=o.data(),ls=o.id,Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Document_RPsD"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();o.contrato?Ws.push(o):tl.push(o)}))})).then((function(){console.log("ARCHIVOS"),console.log(Ws),Ws.forEach((function(t){Zs(t.url)})),console.log(tl),tl.forEach((function(t){Js(t.url)}))})),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Persona_Solicitud"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;console.log("per"),console.log(t.docs),o.forEach((function(t){var o=t.data();0==o.tipoContratante?Xs.push(o):1==o.tipoContratante?Ks.push(o):2==o.tipoContratante&&Qs.push(o)}))})).then((function(){console.log("PERSONASs"),console.log(Xs),console.log(Ks),Ks.forEach((function(t){Hs(t.tipoAcreedor,t.runPersona,t.nombrePersona,t.paisPersona)})),console.log(Qs),Qs.forEach((function(t){Ys(t.tipoAcreedor,t.runPersona,t.nombrePersona,t.paisPersona)}))})),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Patente_por_Inscripcion"),Object(O["j"])("idInscripcion","==",parseInt(t)))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();ol.push(o)}))})).then((function(){console.log("PATENTES"),console.log(ol),ol.forEach((function(t){console.log(t.patente),console.log(t.inscripcionPrendaRVM),console.log(t.inscripcionProhibicionGravarEnajenar),console.log(t.alzamiento),$s(t.patente,t.inscripcionPrendaRVM,t.inscripcionProhibicionGravarEnajenar,t.alzamiento)}))})))}))})).then((function(){console.log("INSCRIPCION"),console.log(ol)})):"M"==o?Object(O["e"])(Object(O["a"])(_m,"Solicitud_Modificacion_Prenda")).then((function(o){var e=o.docs;e.forEach((function(o){t==o.id&&(ss=o.data(),ls=o.id,Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Document_RPsD"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();o.contrato?Ws.push(o):tl.push(o)}))})).then((function(){console.log("ARCHIVOS"),console.log(Ws),Ws.forEach((function(t){Zs(t.url)})),console.log(tl),tl.forEach((function(t){Js(t.url)}))})),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Persona_Solicitud"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;console.log("per"),console.log(t.docs),o.forEach((function(t){var o=t.data();0==o.tipoContratante?Xs.push(o):1==o.tipoContratante?Ks.push(o):2==o.tipoContratante&&Qs.push(o)}))})).then((function(){console.log("PERSONASs"),console.log(Xs),console.log(Ks),Ks.forEach((function(t){Hs(t.tipoAcreedor,t.runPersona,t.nombrePersona,t.paisPersona)})),console.log(Qs),Qs.forEach((function(t){Ys(t.tipoAcreedor,t.runPersona,t.nombrePersona,t.paisPersona)}))})),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Patente_por_Inscripcion"),Object(O["j"])("idInscripcion","==",parseInt(t)))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();ol.push(o)}))})).then((function(){console.log("PATENTES"),console.log(ol),ol.forEach((function(t){console.log(t.patente),console.log(t.inscripcionPrendaRVM),console.log(t.inscripcionProhibicionGravarEnajenar),console.log(t.alzamiento),$s(t.patente,t.inscripcionPrendaRVM,t.inscripcionProhibicionGravarEnajenar,t.alzamiento)}))})))}))})).then((function(){console.log("MODIFICACION"),console.log(ss)})):"A"==o&&Object(O["e"])(Object(O["a"])(_m,"Solicitud_Alzamiento_Prenda")).then((function(o){var e=o.docs;e.forEach((function(o){t==o.id&&(ss=o.data(),ls=o.id,Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Document_RPsD"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();o.contrato?Ws.push(o):tl.push(o)}))})).then((function(){console.log("ARCHIVOS"),console.log(Ws),Ws.forEach((function(t){Zs(t.url)})),console.log(tl),tl.forEach((function(t){Js(t.url)}))})),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Persona_Solicitud"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;console.log("per"),console.log(t.docs),o.forEach((function(t){var o=t.data();0==o.tipoContratante?Xs.push(o):1==o.tipoContratante?Ks.push(o):2==o.tipoContratante&&Qs.push(o)}))})).then((function(){console.log("PERSONASs"),console.log(Xs),console.log(Ks),Ks.forEach((function(t){Hs(t.tipoAcreedor,t.runPersona,t.nombrePersona,t.paisPersona)})),console.log(Qs),Qs.forEach((function(t){Ys(t.tipoAcreedor,t.runPersona,t.nombrePersona,t.paisPersona)}))})),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Patente_por_Inscripcion"),Object(O["j"])("idInscripcion","==",parseInt(t)))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();ol.push(o)}))})).then((function(){console.log("PATENTES"),console.log(ol),ol.forEach((function(t){console.log(t.patente),console.log(t.inscripcionPrendaRVM),console.log(t.inscripcionProhibicionGravarEnajenar),console.log(t.alzamiento),$s(t.patente,t.inscripcionPrendaRVM,t.inscripcionProhibicionGravarEnajenar,t.alzamiento)}))})))}))})).then((function(){console.log("ALZAMIENTO"),console.log(ss)}))}var nl={mounted:function(){var t=this;this.clean(),console.log("MOUNT hh"),console.log(localStorage.tipo_revisar),console.log(localStorage.id_judge+" "+localStorage.tipo_judge),el(parseInt(localStorage.id_judge),localStorage.tipo_judge),setTimeout((function(){console.log("SOLICITUD2"),console.log(ss);var o=document.getElementById("tipoDeDocumento");o.value=ss.privacidadDocumento;var e=new Event("change");o.dispatchEvent(e),o.disabled=!0,setTimeout((function(){if("Publico"==ss.privacidadDocumento){var t=document.getElementById("FechaOtorgamiento"),o=document.getElementById("FechaSubscripcion");t.value=ss.fechaOtorgamientoEscritura,o.value=ss.fechaSuscripcion,t.disabled=!0,o.disabled=!0}else if("Privado"==ss.privacidadDocumento){var e=document.getElementById("FechaAutorizacion"),n=document.getElementById("FechaProtocolizacion");e.value=ss.fechaAutorizacionContratoPrivado,n.value=ss.fechaProtocolizacionContratoPrivado,e.disabled=!0,n.disabled=!0}}),500),setTimeout((function(){var t=ss.numeroRepertorioNotario.split("-"),o=document.getElementById("foliorepnontaria"),e=document.getElementById("anorepnotaria"),n=document.getElementById("gravaroenajenar"),a=document.getElementById("checkinscactfijo"),i=document.getElementById("checkinscbagropec"),r=document.getElementById("checkinscderecheint"),c=document.getElementById("checkinscvehic");n.checked=ss.prohibicionGravarEnajenar,a.checked=ss.activoFijo,i.checked=ss.bienesAgropecuarios,r.checked=ss.derechosIntangibles,c.checked=ss.prendaVehiculo,o.value=t[0],e.value=t[1],n.disabled=!0,a.disabled=!0,i.disabled=!0,r.disabled=!0,c.disabled=!0,o.disabled=!0,e.disabled=!0}),500);var n=document.getElementById("tipodepersona"),a=document.getElementById("runacreedor"),i=document.getElementById("nombresacreedor"),r=document.getElementById("apellidopaterno"),c=document.getElementById("apellidomaterno"),s=Xs[0].nombrePersona.split(" ");n.value=Xs[0].tipoAcreedor,a.value=Xs[0].runPersona,i.value=s[0],r.value=s[1],c.value=s[2],n.disabled=!0,a.disabled=!0,i.disabled=!0,c.disabled=!0,r.disabled=!0,t.items_Constituyentes=Us,t.items_Deudores=Ls,console.log(t.items_Deudores),t.total_itemsVehiculos=qs,t.items_Contrato=Gs,t.items_Anexos=Vs}),2e3)},name:"RevisionDocNotario",data:function(){return{opcion:localStorage.my_opts.split(","),username:localStorage.user,rol:localStorage.rol,total_itemsVehiculos:new Array,items_Constituyentes:new Array,items_Deudores:new Array,items_Contrato:new Array,items_Anexos:new Array}},components:{AntecedentesFormulario:rn,VehiculosLectura:ka,ConstituyenteLectura:On,DeudoresLectura:Cn,ArchivosLectura:ws,AcreedorLectura:mn,Menu:B,Navbar:ut},methods:{aceptar:function(){var t=this;"I"==localStorage.tipo_revisar.toString()?Object(O["i"])(Object(O["c"])(Object(O["a"])(_m,"Solicitud_Inscripcion_Prenda"),ls.toString()),{firma:!0}).then((function(){t.$router.push({path:ks})})):"M"==localStorage.tipo_revisar.toString()?Object(O["i"])(Object(O["c"])(Object(O["a"])(_m,"Solicitud_Modificacion_Prenda"),ls.toString()),{firma:!0}).then((function(){t.$router.push({path:ks})})):"A"==localStorage.tipo_revisar.toString()&&Object(O["i"])(Object(O["c"])(Object(O["a"])(_m,"Solicitud_Alzamiento_Prenda"),ls.toString()),{firma:!0}).then((function(){t.$router.push({path:ks})}))},rechazar:function(){var t=this;"I"==localStorage.tipo_revisar.toString()?(console.log("RECHAZANDO"),console.log(ls),Object(O["i"])(Object(O["c"])(Object(O["a"])(_m,"Solicitud_Inscripcion_Prenda"),ls.toString()),{estadoPrimario:2}).then((function(){console.log("RECHAZADO OK"),t.$router.push({path:ks})}))):"M"==localStorage.tipo_revisar.toString()?(console.log("RECHAZANDO"),console.log(ls),Object(O["i"])(Object(O["c"])(Object(O["a"])(_m,"Solicitud_Modificacion_Prenda"),ls.toString()),{estadoPrimario:2}).then((function(){console.log("RECHAZADO OK"),t.$router.push({path:ks})}))):"A"==localStorage.tipo_revisar.toString()&&(console.log("RECHAZANDO"),console.log(ls),Object(O["i"])(Object(O["c"])(Object(O["a"])(_m,"Solicitud_Alzamiento_Prenda"),ls.toString()),{estadoPrimario:2}).then((function(){console.log("RECHAZADO OK"),t.$router.push({path:ks})})))},clean:function(){ol.length=0,Xs.length=0,Ks.length=0,Qs.length=0,Ws.length=0,tl.length=0,qs.length=0,Ls.length=0,Us.length=0,Vs.length=0,Gs.length=0}}};console.log(localStorage.my_opts);var al,il,rl=nl,cl=(e("fc6f"),Object(p["a"])(rl,Ds,ys,!1,null,"3c99c4aa",null)),sl=cl.exports,ll=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"dashboard"}},[e("Menu",{attrs:{opciones:t.opcion}}),e("Navbar",{attrs:{username:t.username}}),e("div",{staticClass:"right"},[e("h1",{staticStyle:{color:"#514BD5"}},[t._v("Revisión de documentos")]),e("AntecedentesFormulario",{attrs:{rol:t.rol}}),e("AcreedorLectura"),e("ConstituyenteLectura",{attrs:{items:t.items_Constituyentes,modo:"leer"}}),e("DeudoresLectura",{attrs:{items:t.items_Deudores,modo:"leer"}}),e("VehiculosLectura",{attrs:{tipoSolicitud:"RevisionDoc",items:t.total_itemsVehiculos}}),e("ArchivosLectura",{attrs:{items:t.items_Contrato,itemsAnexos:t.items_Anexos}}),e("div",{staticClass:"row d-flex justify-content-center",attrs:{id:"contenedor"}},[e("button",{staticClass:"col-2 titleButton",on:{click:function(o){return t.rechazar()}}},[t._v("Rechazar")]),e("button",{staticClass:"col-2 titleButton",on:{click:function(o){return t.aceptar()}}},[t._v("Aprobar")])])],1)],1)},ul=[],dl=localStorage.user,pl="/Dashboard/"+localStorage.rol+"/"+dl+"/MisSolicitudes",ml=[],gl=[],hl=[],fl=[],vl=[];function bl(t,o,e,n){var a={patente:t,rvm:o,GoE:e,estado:n};0==a.estado?a.estado="Sin alzar":a.estado="Alzado",0==a.GoE?a.GoE="No":a.GoE="Si",0==a.rvm?a.rvm="No":a.rvm="Si",ml.push(a)}function Ol(t,o,e,n){console.log("PASEEEE");var a={Tipo:t,Id:o,Name:e,Pais:n};gl.push(a)}function _l(t,o,e,n){console.log("PASEEEE");var a={Tipo:t,Id:o,Name:e,Pais:n};hl.push(a)}function jl(t){var o={href:t};fl.push(o)}function Sl(t){var o={href:t};vl.push(o)}var Al=[],El=[],Cl=[],Rl=[],Il=[],Pl=[];function Nl(t,o){"I"==o?Object(O["e"])(Object(O["a"])(_m,"Solicitud_Inscripcion_Prenda")).then((function(o){var e=o.docs;e.forEach((function(o){t==o.id&&(al=o.data(),il=o.id,Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Document_RPsD"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();o.contrato?Rl.push(o):Il.push(o)}))})).then((function(){console.log("ARCHIVOS"),console.log(Rl),Rl.forEach((function(t){jl(t.url)})),console.log(Il),Il.forEach((function(t){Sl(t.url)}))})),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Persona_Solicitud"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;console.log("per"),console.log(t.docs),o.forEach((function(t){var o=t.data();0==o.tipoContratante?Al.push(o):1==o.tipoContratante?El.push(o):2==o.tipoContratante&&Cl.push(o)}))})).then((function(){console.log("PERSONASs"),console.log(Al),console.log(El),El.forEach((function(t){Ol(t.tipoAcreedor,t.runPersona,t.nombrePersona,t.paisPersona)})),console.log(Cl),Cl.forEach((function(t){_l(t.tipoAcreedor,t.runPersona,t.nombrePersona,t.paisPersona)}))})),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Patente_por_Inscripcion"),Object(O["j"])("idInscripcion","==",parseInt(t)))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();Pl.push(o)}))})).then((function(){console.log("PATENTES"),console.log(Pl),Pl.forEach((function(t){console.log(t.patente),console.log(t.inscripcionPrendaRVM),console.log(t.inscripcionProhibicionGravarEnajenar),console.log(t.alzamiento),bl(t.patente,t.inscripcionPrendaRVM,t.inscripcionProhibicionGravarEnajenar,t.alzamiento)}))})))}))})).then((function(){console.log("INSCRIPCION"),console.log(Pl)})):"M"==o?Object(O["e"])(Object(O["a"])(_m,"Solicitud_Modificacion_Prenda")).then((function(o){var e=o.docs;e.forEach((function(o){t==o.id&&(al=o.data(),il=o.id,Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Document_RPsD"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();o.contrato?Rl.push(o):Il.push(o)}))})).then((function(){console.log("ARCHIVOS"),console.log(Rl),Rl.forEach((function(t){jl(t.url)})),console.log(Il),Il.forEach((function(t){Sl(t.url)}))})),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Persona_Solicitud"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;console.log("per"),console.log(t.docs),o.forEach((function(t){var o=t.data();0==o.tipoContratante?Al.push(o):1==o.tipoContratante?El.push(o):2==o.tipoContratante&&Cl.push(o)}))})).then((function(){console.log("PERSONASs"),console.log(Al),console.log(El),El.forEach((function(t){Ol(t.tipoAcreedor,t.runPersona,t.nombrePersona,t.paisPersona)})),console.log(Cl),Cl.forEach((function(t){_l(t.tipoAcreedor,t.runPersona,t.nombrePersona,t.paisPersona)}))})),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Patente_por_Inscripcion"),Object(O["j"])("idInscripcion","==",parseInt(t)))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();Pl.push(o)}))})).then((function(){console.log("PATENTES"),console.log(Pl),Pl.forEach((function(t){console.log(t.patente),console.log(t.inscripcionPrendaRVM),console.log(t.inscripcionProhibicionGravarEnajenar),console.log(t.alzamiento),bl(t.patente,t.inscripcionPrendaRVM,t.inscripcionProhibicionGravarEnajenar,t.alzamiento)}))})))}))})).then((function(){console.log("MODIFICACION"),console.log(al)})):"A"==o&&Object(O["e"])(Object(O["a"])(_m,"Solicitud_Alzamiento_Prenda")).then((function(o){var e=o.docs;e.forEach((function(o){t==o.id&&(al=o.data(),il=o.id,Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Document_RPsD"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();o.contrato?Rl.push(o):Il.push(o)}))})).then((function(){console.log("ARCHIVOS"),console.log(Rl),Rl.forEach((function(t){jl(t.url)})),console.log(Il),Il.forEach((function(t){Sl(t.url)}))})),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Persona_Solicitud"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;console.log("per"),console.log(t.docs),o.forEach((function(t){var o=t.data();0==o.tipoContratante?Al.push(o):1==o.tipoContratante?El.push(o):2==o.tipoContratante&&Cl.push(o)}))})).then((function(){console.log("PERSONASs"),console.log(Al),console.log(El),El.forEach((function(t){Ol(t.tipoAcreedor,t.runPersona,t.nombrePersona,t.paisPersona)})),console.log(Cl),Cl.forEach((function(t){_l(t.tipoAcreedor,t.runPersona,t.nombrePersona,t.paisPersona)}))})),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Patente_por_Inscripcion"),Object(O["j"])("idInscripcion","==",parseInt(t)))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();Pl.push(o)}))})).then((function(){console.log("PATENTES"),console.log(Pl),Pl.forEach((function(t){console.log(t.patente),console.log(t.inscripcionPrendaRVM),console.log(t.inscripcionProhibicionGravarEnajenar),console.log(t.alzamiento),bl(t.patente,t.inscripcionPrendaRVM,t.inscripcionProhibicionGravarEnajenar,t.alzamiento)}))})))}))})).then((function(){console.log("ALZAMIENTO"),console.log(al)}))}var Dl=[];function yl(t){Dl=[],Object(O["e"])(Object(O["a"])(_m,"Patente_por_Inscripcion")).then((function(o){var e=o.docs;e.forEach((function(o){var e=o.data();e.idInscripcion==t&&Dl.push(e)})),console.log("AUTOS: "),console.log(Dl)}))}var Tl,Fl={mounted:function(){var t=this;this.clean(),console.log("MOUNT"),console.log(localStorage.id_judge+" "+localStorage.tipo_judge),Nl(parseInt(localStorage.id_judge),localStorage.tipo_judge),setTimeout((function(){console.log("ID RELACIONADA"),console.log(il),yl(il),console.log("SOLICITUD2"),console.log(al);var o=document.getElementById("tipoDeDocumento");o.value=al.privacidadDocumento;var e=new Event("change");o.dispatchEvent(e),o.disabled=!0,setTimeout((function(){if("Publico"==al.privacidadDocumento){var t=document.getElementById("FechaOtorgamiento"),o=document.getElementById("FechaSubscripcion");t.value=al.fechaOtorgamientoEscritura,o.value=al.fechaSuscripcion,t.disabled=!0,o.disabled=!0}else if("Privado"==al.privacidadDocumento){var e=document.getElementById("FechaAutorizacion"),n=document.getElementById("FechaProtocolizacion");e.value=al.fechaAutorizacionContratoPrivado,n.value=al.fechaProtocolizacionContratoPrivado,e.disabled=!0,n.disabled=!0}}),500),setTimeout((function(){var t=al.numeroRepertorioNotario.split("-"),o=document.getElementById("foliorepnontaria"),e=document.getElementById("anorepnotaria"),n=document.getElementById("gravaroenajenar"),a=document.getElementById("checkinscactfijo"),i=document.getElementById("checkinscbagropec"),r=document.getElementById("checkinscderecheint"),c=document.getElementById("checkinscvehic");n.checked=al.prohibicionGravarEnajenar,a.checked=al.activoFijo,i.checked=al.bienesAgropecuarios,r.checked=al.derechosIntangibles,c.checked=al.prendaVehiculo,o.value=t[0],e.value=t[1],n.disabled=!0,a.disabled=!0,i.disabled=!0,r.disabled=!0,c.disabled=!0,o.disabled=!0,e.disabled=!0}),500);var n=document.getElementById("tipodepersona"),a=document.getElementById("runacreedor"),i=document.getElementById("nombresacreedor"),r=document.getElementById("apellidopaterno"),c=document.getElementById("apellidomaterno"),s=Al[0].nombrePersona.split(" ");n.value=Al[0].tipoAcreedor,a.value=Al[0].runPersona,i.value=s[0],r.value=s[1],c.value=s[2],n.disabled=!0,a.disabled=!0,i.disabled=!0,c.disabled=!0,r.disabled=!0,t.items_Constituyentes=gl,t.items_Deudores=hl,console.log(t.items_Deudores),t.total_itemsVehiculos=ml,t.items_Contrato=fl,t.items_Anexos=vl}),2e3)},name:"RevisionDoc",data:function(){return{opcion:localStorage.my_opts.split(","),username:localStorage.user,rol:localStorage.rol,total_itemsVehiculos:new Array,items_Constituyentes:new Array,items_Deudores:new Array,items_Contrato:new Array,items_Anexos:new Array}},components:{AntecedentesFormulario:rn,VehiculosLectura:ka,ConstituyenteLectura:On,DeudoresLectura:Cn,ArchivosLectura:ws,AcreedorLectura:mn,Menu:B,Navbar:ut},methods:{aceptar:function(){var t=this,o="http://ec2-75-101-231-83.compute-1.amazonaws.com:4031/api/vehicles/acceptRejectAnotation";if(console.log("VEHICULOS RELACIONADOS"),console.log(Dl),console.log(localStorage.tipo_judge.toString()),"I"==localStorage.tipo_judge.toString())Dl.forEach((function(t){var e='{"patente": "'+t.patente+'", "tipo":"PN", "aceptarORechazar":"aceptada", "numero_repertorio":"'+al.numeroRepertorioContratoPrenda.split("-")[1]+"-"+al.numeroRepertorioContratoPrenda.split("-")[0]+'"}';console.log("SOLICITUD RELACIONADA"),console.log(e),fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:e}).then((function(t){console.log("RESPUESTA"),console.log(t.json())}))})),Object(O["i"])(Object(O["c"])(Object(O["a"])(_m,"Solicitud_Inscripcion_Prenda"),localStorage.id_judge.toString()),{estadoPrimario:5}).then((function(){console.log("AQUI DEBERIA PASAR A TRUE"),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Inspeccion_inscripcion"),Object(O["j"])("solicitudId","==",localStorage.id_judge.toString()))).then((function(o){console.log("AQUI DEBERIA PASAR A TRUE-2",localStorage.id_judge),Object(O["i"])(Object(O["c"])(Object(O["a"])(_m,"Inspeccion_inscripcion"),o.docs[0].id.toString()),{aprovRevisor:!0}).then((function(){return t.$router.push({path:pl})}))}))}));else if("M"==localStorage.tipo_judge.toString()){var e="";Object(O["e"])(Object(O["a"])(_m,"Solicitud_Modificacion_Prenda")).then((function(t){t.docs.forEach((function(t){localStorage.id_judge.toString()==t.id&&(console.log("Es igual"),console.log(t.data().tipoModificacion),1==t.data().tipoModificacion?e="AlzPN":2==t.data().tipoModificacion?e="CA":(3==t.data().tipoModificacion||4==t.data().tipoModificacion)&&(e="AlzPH"))}))})).then((function(){Dl.forEach((function(t){var n='{"patente": "'+t.patente+'", "tipo":"'+e+'", "aceptarORechazar":"aceptado", "numero_repertorio":"'+al.numeroRepertorioNotario.split("-")[1]+"-"+al.numeroRepertorioNotario.split("-")[0]+'"}';fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:n})})),Object(O["i"])(Object(O["c"])(Object(O["a"])(_m,"Solicitud_Modificacion_Prenda"),localStorage.id_judge.toString()),{estadoPrimario:5}).then((function(){Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Inspeccion_modificacion"),Object(O["j"])("solicitudId","==",localStorage.id_judge.toString()))).then((function(o){Object(O["i"])(Object(O["c"])(Object(O["a"])(_m,"Inspeccion_modificacion"),o.docs[0].id.toString()),{aprovRevisor:!0}).then((function(){return t.$router.push({path:pl})}))}))}))}))}else"A"==localStorage.tipo_judge.toString()&&(Dl.forEach((function(t){var e='{"patente": "'+t.patente+'", "tipo":"AlzPN", "aceptarORechazar":"aceptado", "numero_repertorio":"'+al.numeroRepertorioNotario.split("-")[1]+"-"+al.numeroRepertorioNotario.split("-")[0]+'"}';fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:e})})),Object(O["i"])(Object(O["c"])(Object(O["a"])(_m,"Solicitud_Alzamiento_Prenda"),localStorage.id_judge.toString()),{estadoPrimario:5}).then((function(){Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Inspeccion_alzamiento"),Object(O["j"])("solicitudId","==",localStorage.id_judge.toString()))).then((function(o){Object(O["i"])(Object(O["c"])(Object(O["a"])(_m,"Inspeccion_alzamiento"),o.docs[0].id.toString()),{aprovRevisor:!0}).then((function(){return t.$router.push({path:pl})}))}))})))},rechazar:function(){var t=this,o="http://ec2-75-101-231-83.compute-1.amazonaws.com:4031/api/vehicles/acceptRejectAnotation";if("I"==localStorage.tipo_judge.toString())Dl.forEach((function(t){var e='{"patente": "'+t.patente+'", "tipo":"PN", "aceptarORechazar":rechazada", "numero_repertorio":'+al.numeroRepertorioNotario+"}";fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:e})})),Object(O["i"])(Object(O["c"])(Object(O["a"])(_m,"Solicitud_Inscripcion_Prenda"),localStorage.id_judge.toString()),{estadoPrimario:6}).then((function(){Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Inspeccion_inscripcion"),Object(O["j"])("solicitudId","==",localStorage.id_judge))).then((function(){Object(O["i"])(Object(O["c"])(Object(O["a"])(_m,"Inspeccion_inscripcion"),localStorage.id_judge.toString()),{aprovRevisor:!1}).then((function(){return t.$router.push({path:pl})}))}))}));else if("M"==localStorage.tipo_judge.toString()){var e="";Object(O["e"])(Object(O["a"])(_m,"Solicitud_Modificacion_Prenda")).then((function(t){t.docs.forEach((function(t){localStorage.id_judge.toString()==t.id&&(console.log("Es igual"),console.log(t.data().tipoModificacion),1==t.data().tipoModificacion?e="AlzPN":2==t.data().tipoModificacion?e="CA":3==t.data().tipoModificacion?e="AlzPH":4==t.data().tipoModificacion&&(e=""))}))})).then((function(){Dl.forEach((function(t){var n='{"patente": "'+t.patente+'", "tipo":"'+e+'", "aceptarORechazar":rechazada", "numero_repertorio":'+al.numeroRepertorioNotario+"}";fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:n})})),Object(O["i"])(Object(O["c"])(Object(O["a"])(_m,"Solicitud_Modificacion_Prenda"),localStorage.id_judge.toString()),{estadoPrimario:6}).then((function(){Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Inspeccion_modificacion"),Object(O["j"])("solicitudId","==",localStorage.id_judge))).then((function(){Object(O["i"])(Object(O["c"])(Object(O["a"])(_m,"Inspeccion_modificacion"),localStorage.id_judge.toString()),{aprovRevisor:!1}).then((function(){return t.$router.push({path:pl})}))}))}))}))}else"A"==localStorage.tipo_judge.toString()&&(Dl.forEach((function(t){var e='{"patente": "'+t.patente+'", "tipo":"AlzPN", "aceptarORechazar":rechazada", "numero_repertorio":'+al.numeroRepertorioNotario+"}";fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:e})})),Object(O["i"])(Object(O["c"])(Object(O["a"])(_m,"Solicitud_Alzamiento_Prenda"),localStorage.id_judge.toString()),{estadoPrimario:6}).then((function(){Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Inspeccion_alzamiento"),Object(O["j"])("solicitudId","==",localStorage.id_judge))).then((function(){Object(O["i"])(Object(O["c"])(Object(O["a"])(_m,"Inspeccion_alzamiento"),localStorage.id_judge.toString()),{aprovRevisor:!1}).then((function(){return t.$router.push({path:pl})}))}))})))},clean:function(){Pl.length=0,Al.length=0,El.length=0,Cl.length=0,Rl.length=0,Il.length=0,ml.length=0,hl.length=0,gl.length=0,vl.length=0,fl.length=0}}},xl=Fl,zl=(e("91b1"),Object(p["a"])(xl,ll,ul,!1,null,"5774980d",null)),Ml=zl.exports,wl=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"dashboard"}},[e("Menu",{attrs:{opciones:t.opcion}}),e("Navbar",{attrs:{username:t.username}}),e("div",{staticClass:"right"},[e("h1",{staticStyle:{color:"#514BD5"}},[t._v("Revisión de documentos")]),e("AntecedentesFormulario",{attrs:{rol:t.rol}}),e("AcreedorLectura"),e("ConstituyenteLectura",{attrs:{items:t.items_Constituyentes,modo:"leer"}}),e("DeudoresLectura",{attrs:{items:t.items_Deudores,modo:"leer"}}),e("VehiculosLectura",{attrs:{tipoSolicitud:"RevisionDoc",items:t.total_itemsVehiculos}}),e("ArchivosLectura",{attrs:{items:t.items_Contrato,itemsAnexos:t.items_Anexos}}),e("div",{staticClass:"row d-flex justify-content-center",attrs:{id:"contenedor"}},[e("button",{staticClass:"col-2 titleButton",on:{click:function(o){return t.rechazar()}}},[t._v("Rechazar")]),e("button",{staticClass:"col-2 titleButton",on:{click:function(o){return t.aceptar()}}},[t._v("Aprobar")])])],1)],1)},Bl=[],kl=localStorage.user,ql="/Dashboard/"+localStorage.rol+"/"+kl+"/MisSolicitudes",Ul=[],Ll=[],Gl=[],Vl=[],$l=[];function Hl(t,o,e,n){var a={patente:t,rvm:o,GoE:e,estado:n};0==a.estado?a.estado="Sin alzar":a.estado="Alzado",0==a.GoE?a.GoE="No":a.GoE="Si",0==a.rvm?a.rvm="No":a.rvm="Si",Ul.push(a)}function Yl(t,o,e,n){console.log("PASEEEE");var a={Tipo:t,Id:o,Name:e,Pais:n};Ll.push(a)}function Zl(t,o,e,n){console.log("PASEEEE");var a={Tipo:t,Id:o,Name:e,Pais:n};Gl.push(a)}function Jl(t){var o={href:t};Vl.push(o)}function Xl(t){var o={href:t};$l.push(o)}var Kl=[],Ql=[],Wl=[],tu=[],ou=[],eu=[];function nu(t,o){"I"==o?Object(O["e"])(Object(O["a"])(_m,"Solicitud_Inscripcion_Prenda")).then((function(o){var e=o.docs;e.forEach((function(o){t==o.id&&(Tl=o.data(),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Document_RPsD"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();o.contrato?tu.push(o):ou.push(o)}))})).then((function(){tu.forEach((function(t){Jl(t.url)})),ou.forEach((function(t){Xl(t.url)}))})),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Persona_Solicitud"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();0==o.tipoContratante?Kl.push(o):1==o.tipoContratante?Ql.push(o):2==o.tipoContratante&&Wl.push(o)}))})).then((function(){Ql.forEach((function(t){Yl(t.tipoAcreedor,t.runPersona,t.nombrePersona,t.paisPersona)})),Wl.forEach((function(t){Zl(t.tipoAcreedor,t.runPersona,t.nombrePersona,t.paisPersona)}))})),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Patente_por_Inscripcion"),Object(O["j"])("idInscripcion","==",parseInt(t)))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();eu.push(o)}))})).then((function(){eu.forEach((function(t){Hl(t.patente,t.inscripcionPrendaRVM,t.inscripcionProhibicionGravarEnajenar,t.alzamiento)}))})))}))})).then((function(){})):"M"==o?Object(O["e"])(Object(O["a"])(_m,"Solicitud_Modificacion_Prenda")).then((function(o){var e=o.docs;e.forEach((function(o){t==o.id&&(Tl=o.data(),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Document_RPsD"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();o.contrato?tu.push(o):ou.push(o)}))})).then((function(){tu.forEach((function(t){Jl(t.url)})),ou.forEach((function(t){Xl(t.url)}))})),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Persona_Solicitud"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();0==o.tipoContratante?Kl.push(o):1==o.tipoContratante?Ql.push(o):2==o.tipoContratante&&Wl.push(o)}))})).then((function(){Ql.forEach((function(t){Yl(t.tipoAcreedor,t.runPersona,t.nombrePersona,t.paisPersona)})),Wl.forEach((function(t){Zl(t.tipoAcreedor,t.runPersona,t.nombrePersona,t.paisPersona)}))})),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Patente_por_Inscripcion"),Object(O["j"])("idInscripcion","==",parseInt(t)))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();eu.push(o)}))})).then((function(){eu.forEach((function(t){Hl(t.patente,t.inscripcionPrendaRVM,t.inscripcionProhibicionGravarEnajenar,t.alzamiento)}))})))}))})).then((function(){})):"A"==o&&Object(O["e"])(Object(O["a"])(_m,"Solicitud_Alzamiento_Prenda")).then((function(o){var e=o.docs;e.forEach((function(o){t==o.id&&(Tl=o.data(),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Document_RPsD"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();o.contrato?tu.push(o):ou.push(o)}))})).then((function(){tu.forEach((function(t){Jl(t.url)})),ou.forEach((function(t){Xl(t.url)}))})),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Persona_Solicitud"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();0==o.tipoContratante?Kl.push(o):1==o.tipoContratante?Ql.push(o):2==o.tipoContratante&&Wl.push(o)}))})).then((function(){Ql.forEach((function(t){Yl(t.tipoAcreedor,t.runPersona,t.nombrePersona,t.paisPersona)})),Wl.forEach((function(t){Zl(t.tipoAcreedor,t.runPersona,t.nombrePersona,t.paisPersona)}))})),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Patente_por_Inscripcion"),Object(O["j"])("idInscripcion","==",parseInt(t)))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();eu.push(o)}))})).then((function(){eu.forEach((function(t){Hl(t.patente,t.inscripcionPrendaRVM,t.inscripcionProhibicionGravarEnajenar,t.alzamiento)}))})))}))})).then((function(){}))}var au,iu,ru={mounted:function(){var t=this;this.clean(),console.log("MOUNT"),console.log(localStorage.id_judge+" "+localStorage.tipo_judge),nu(parseInt(localStorage.id_judge),localStorage.tipo_judge),setTimeout((function(){console.log("SOLICITUD2"),console.log(Tl);var o=document.getElementById("tipoDeDocumento");o.value=Tl.privacidadDocumento;var e=new Event("change");o.dispatchEvent(e),o.disabled=!0,setTimeout((function(){if("Publico"==Tl.privacidadDocumento){var t=document.getElementById("FechaOtorgamiento"),o=document.getElementById("FechaSubscripcion");t.value=Tl.fechaOtorgamientoEscritura,o.value=Tl.fechaSuscripcion,t.disabled=!0,o.disabled=!0}else if("Privado"==Tl.privacidadDocumento){var e=document.getElementById("FechaAutorizacion"),n=document.getElementById("FechaProtocolizacion");e.value=Tl.fechaAutorizacionContratoPrivado,n.value=Tl.fechaProtocolizacionContratoPrivado,e.disabled=!0,n.disabled=!0}}),500),setTimeout((function(){var t=Tl.numeroRepertorioNotario.split("-"),o=document.getElementById("foliorepnontaria"),e=document.getElementById("anorepnotaria"),n=document.getElementById("gravaroenajenar"),a=document.getElementById("checkinscactfijo"),i=document.getElementById("checkinscbagropec"),r=document.getElementById("checkinscderecheint"),c=document.getElementById("checkinscvehic");n.checked=Tl.prohibicionGravarEnajenar,a.checked=Tl.activoFijo,i.checked=Tl.bienesAgropecuarios,r.checked=Tl.derechosIntangibles,c.checked=Tl.prendaVehiculo,o.value=t[0],e.value=t[1],n.disabled=!0,a.disabled=!0,i.disabled=!0,r.disabled=!0,c.disabled=!0,o.disabled=!0,e.disabled=!0}),500);var n=document.getElementById("tipodepersona"),a=document.getElementById("runacreedor"),i=document.getElementById("nombresacreedor"),r=document.getElementById("apellidopaterno"),c=document.getElementById("apellidomaterno"),s=Kl[0].nombrePersona.split(" ");n.value=Kl[0].tipoAcreedor,a.value=Kl[0].runPersona,i.value=s[0],r.value=s[1],c.value=s[2],n.disabled=!0,a.disabled=!0,i.disabled=!0,c.disabled=!0,r.disabled=!0,t.items_Constituyentes=Ll,t.items_Deudores=Gl,console.log(t.items_Deudores),t.total_itemsVehiculos=Ul,t.items_Contrato=Vl,t.items_Anexos=$l}),2e3)},name:"RevisionDoc",data:function(){return{opcion:localStorage.my_opts.split(","),username:localStorage.user,rol:localStorage.rol}},components:{AntecedentesFormulario:rn,VehiculosLectura:ka,ConstituyenteLectura:On,DeudoresLectura:Cn,ArchivosLectura:ws,AcreedorLectura:mn,Menu:B,Navbar:ut},methods:{aceptar:function(){var t=this;"I"==localStorage.tipo_judge.toString()?Object(O["i"])(Object(O["c"])(Object(O["a"])(_m,"Solicitud_Inscripcion_Prenda"),localStorage.id_judge.toString()),{estadoPrimario:5}).then((function(){Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Inspeccion_inscripcion"),Object(O["j"])("solicitudId","==",localStorage.id_judge))).then((function(){Object(O["i"])(Object(O["c"])(Object(O["a"])(_m,"Inspeccion_inscripcion"),localStorage.id_judge.toString()),{aprovJefeRevisor:!0}).then((function(){return t.$router.push({path:ql})}))}))})):"M"==localStorage.tipo_judge.toString()?Object(O["i"])(Object(O["c"])(Object(O["a"])(_m,"Solicitud_Modificacion_Prenda"),localStorage.id_judge.toString()),{estadoPrimario:5}).then((function(){Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Inspeccion_modificacion"),Object(O["j"])("solicitudId","==",localStorage.id_judge))).then((function(){Object(O["i"])(Object(O["c"])(Object(O["a"])(_m,"Inspeccion_modificacion"),localStorage.id_judge.toString()),{aprovJefeRevisor:!0}).then((function(){return t.$router.push({path:ql})}))}))})):"A"==localStorage.tipo_judge.toString()&&Object(O["i"])(Object(O["c"])(Object(O["a"])(_m,"Solicitud_Alzamiento_Prenda"),localStorage.id_judge.toString()),{estadoPrimario:5}).then((function(){Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Inspeccion_alzamiento"),Object(O["j"])("solicitudId","==",localStorage.id_judge))).then((function(){Object(O["i"])(Object(O["c"])(Object(O["a"])(_m,"Inspeccion_alzamiento"),localStorage.id_judge.toString()),{aprovJefeRevisor:!0}).then((function(){return t.$router.push({path:ql})}))}))}))},rechazar:function(){var t=this;"I"==localStorage.tipo_judge.toString()?Object(O["i"])(Object(O["c"])(Object(O["a"])(_m,"Solicitud_Inscripcion_Prenda"),localStorage.id_judge.toString()),{estadoPrimario:7}).then((function(){Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Inspeccion_inscripcion"),Object(O["j"])("solicitudId","==",localStorage.id_judge))).then((function(){Object(O["i"])(Object(O["c"])(Object(O["a"])(_m,"Inspeccion_inscripcion"),localStorage.id_judge.toString()),{aprovJefeRevisor:!1}).then((function(){return t.$router.push({path:ql})}))}))})):"M"==localStorage.tipo_judge.toString()?Object(O["i"])(Object(O["c"])(Object(O["a"])(_m,"Solicitud_Modificacion_Prenda"),localStorage.id_judge.toString()),{estadoPrimario:7}).then((function(){Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Inspeccion_modificacion"),Object(O["j"])("solicitudId","==",localStorage.id_judge))).then((function(){Object(O["i"])(Object(O["c"])(Object(O["a"])(_m,"Inspeccion_modificacion"),localStorage.id_judge.toString()),{aprovJefeRevisor:!1}).then((function(){return t.$router.push({path:ql})}))}))})):"A"==localStorage.tipo_judge.toString()&&Object(O["i"])(Object(O["c"])(Object(O["a"])(_m,"Solicitud_Alzamiento_Prenda"),localStorage.id_judge.toString()),{estadoPrimario:7}).then((function(){Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Inspeccion_alzamiento"),Object(O["j"])("solicitudId","==",localStorage.id_judge))).then((function(){Object(O["i"])(Object(O["c"])(Object(O["a"])(_m,"Inspeccion_alzamiento"),localStorage.id_judge.toString()),{aprovJefeRevisor:!1}).then((function(){return t.$router.push({path:ql})}))}))}))},clean:function(){eu.length=0,Kl.length=0,Ql.length=0,Wl.length=0,tu.length=0,ou.length=0,Ul.length=0,Gl.length=0,Ll.length=0,$l.length=0,Vl.length=0}}},cu=ru,su=(e("cda9"),Object(p["a"])(cu,wl,Bl,!1,null,"739fa729",null)),lu=su.exports,uu=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"dashboard"}},[e("Menu",{attrs:{opciones:t.opcion}}),e("Navbar",{attrs:{username:t.username}}),e("div",{ref:"content",staticClass:"right"},["FUNCIONARIOOFICINA"==t.rol?e("RequirenteFormulario",{on:{getnombreRequirente:t.getnombreRequirente,getrutRequirente:t.getrutRequirente,getCorreoRequirente:t.getCorreoRequirente,getFechaRequirente:t.getFechaRequirente}}):t._e(),e("AntecedentesFormulario",{attrs:{rol:t.rol},on:{gettipoDoc:t.gettipoDoc,getFOtorgamiento:t.getFOtorgamiento,getFSuscripcion:t.getFSuscripcion,getFAutorizacion:t.getFAutorizacion,getFProtocolizacion:t.getFProtocolizacion,getRepNotaria:t.getRepNotaria,getanioRepNotaria:t.getanioRepNotaria,getProhibGravEnajenar:t.getProhibGravEnajenar,getBienes:t.getBienes,getNotaria:t.getNotaria}}),e("AcreedorFormulario",{on:{gettipoPersona:t.gettipoPersona,getrun:t.getrun,getid:t.getid,getpais:t.getpais,getrut:t.getrut,getrazonsocial:t.getrazonsocial,getApaterno:t.getApaterno,getAmaterno:t.getAmaterno,getnombres:t.getnombres}}),e("ConstituyentesFormulario",{attrs:{items:t.items_Constituyentes,modo:"Escribir"},on:{getConstituyentes:t.getConstituyentes}}),e("DeudoresFormulario",{attrs:{items:t.items_Deudores,modo:"Escribir"},on:{getDeudores:t.getDeudores}}),e("VehiculosFormulario",{attrs:{items:t.total_itemsVehiculos},on:{getVehiculos:t.getVehiculos}}),"FUNCIONARIOOFICINA"!==t.rol?e("ContratoFormulario",{on:{getContrato:t.getContrato}}):t._e(),"FUNCIONARIOOFICINA"!==t.rol?e("AnexosFormulario",{on:{getAnexos:t.getAnexos}}):t._e(),e("ArchivosLectura",{attrs:{items:t.items_Contrato,itemsAnexos:t.items_Anexos}}),e("Monto"),e("div",{staticClass:"row d-flex justify-content-center",attrs:{id:"contenedor"}},[e("button",{staticClass:"col-2 titleButton",on:{click:function(o){return t.crearInscripcion(!1)}}},[t._v("Guardar")]),e("button",{staticClass:"col-2 titleButton",on:{click:function(o){return t.crearInscripcion(!0)}}},[t._v("Enviar")])])],1)],1)},du=[];function pu(t){if(!t.includes("-"))return!1;t=t.split("-");var o=t[0],e=t[1],n=(new Date).getFullYear();return!isNaN(o)&&!o.includes("e")&&4==o.length&&!(e>n||isNaN(e)||e.length<4)}var mu=[],gu=[],hu=[],fu=[],vu=[];function bu(t,o,e,n){var a={patente:t,rvm:o,GoE:e,estado:n};mu.push(a)}function Ou(t,o,e,n){console.log("PASEEEE");var a={Tipo:t,Id:o,Name:e,Pais:n};gu.push(a)}function _u(t,o,e,n){console.log("PASEEEE");var a={Tipo:t,Id:o,Name:e,Pais:n};hu.push(a)}function ju(t){var o={href:t};fu.push(o)}function Su(t){var o={href:t};vu.push(o)}var Au=[],Eu=[],Cu=[],Ru=[],Iu=[],Pu=[];function Nu(t,o,e,n){var a=["El pago no se realizo","Hubo intencion de pagar","Pagado"];Object(O["e"])(Object(O["a"])(_m,"Counter_N_RPsD")).then((function(n){var a=n.docs[0].data(),i=a.counter;i=i<10?"000"+i.toString():i<100?"00"+i.toString():i<1e3?"0"+i.toString():i.toString();var r=a.year;au=i+"-"+r.toString(),console.log("RPSD: "+au),1==e?"I"==t?Object(O["i"])(Object(O["c"])(_m,"Solicitud_Inscripcion_Prenda",o),{estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}).then((function(){console.log("ACTUALIZADO")})):"M"==t?Object(O["i"])(Object(O["c"])(_m,"Solicitud_Modificacion_Prenda",o),{estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}):"A"==t&&Object(O["i"])(Object(O["c"])(_m,"Solicitud_Alzamiento_Prenda",o),{estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}):"I"==t?Object(O["i"])(Object(O["c"])(_m,"Solicitud_Inscripcion_Prenda",o),{estadoSecundario:e}).then((function(){console.log("ACTUALIZADO")})):"M"==t?Object(O["i"])(Object(O["c"])(_m,"Solicitud_Modificacion_Prenda",o),{estadoSecundario:e}):"A"==t&&Object(O["i"])(Object(O["c"])(_m,"Solicitud_Alzamiento_Prenda",o),{estadoSecundario:e}),Object(O["i"])(Object(O["c"])(_m,"Counter_N_RPsD","0"),{counter:a.counter+1})}));var i=new Date;Object(O["e"])(Object(O["a"])(_m,"Bitacora")).then((function(r){var c=r.docs.length,s="",l="",u="";"I"==t?s=o:"M"==t?l=o:"A"==t&&(u=o),Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Bitacora"),c.toString()),{idInscripcion:s,idModificacion:l,idAlzamiento:u,idUser:n,comment:a[e],fechaCambio:i.getFullYear()+"-"+(i.getMonth()+1)+"-"+i.getDate()})}))}function Du(t,o){"I"==o?Object(O["e"])(Object(O["a"])(_m,"Solicitud_Inscripcion_Prenda")).then((function(o){var e=o.docs;e.forEach((function(o){t==o.id&&(iu=o.data(),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Document_RPsD"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();o.contrato?Ru.push(o):Iu.push(o)}))})).then((function(){console.log("ARCHIVOS"),console.log(Ru),Ru.forEach((function(t){ju(t.url)})),console.log(Iu),Iu.forEach((function(t){Su(t.url)}))})),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Persona_Solicitud"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;console.log("per"),console.log(t.docs),o.forEach((function(t){var o=t.data();0==o.tipoContratante?Au.push(o):1==o.tipoContratante?Eu.push(o):2==o.tipoContratante&&Cu.push(o)}))})).then((function(){console.log("PERSONASs"),console.log(Au),console.log(Eu),Eu.forEach((function(t){Ou(t.tipoAcreedor,t.runPersona,t.nombrePersona,t.paisPersona)})),console.log(Cu),Cu.forEach((function(t){_u(t.tipoAcreedor,t.runPersona,t.nombrePersona,t.paisPersona)}))})),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Patente_por_Inscripcion"),Object(O["j"])("idInscripcion","==",parseInt(t)))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();Pu.push(o)}))})).then((function(){console.log("PATENTES"),console.log(Pu),Pu.forEach((function(t){console.log(t.patente),console.log(t.inscripcionPrendaRVM),console.log(t.inscripcionProhibicionGravarEnajenar),console.log(t.alzamiento),bu(t.patente,t.inscripcionPrendaRVM,t.inscripcionProhibicionGravarEnajenar,t.alzamiento)}))})))}))})).then((function(){console.log("INSCRIPCION"),console.log(Pu)})):"M"==o?Object(O["e"])(Object(O["a"])(_m,"Solicitud_Modificacion_Prenda")).then((function(o){var e=o.docs;e.forEach((function(o){t==o.id&&(iu=o.data(),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Document_RPsD"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();o.contrato?Ru.push(o):Iu.push(o)}))})).then((function(){console.log("ARCHIVOS"),console.log(Ru),Ru.forEach((function(t){ju(t.url)})),console.log(Iu),Iu.forEach((function(t){Su(t.url)}))})),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Persona_Solicitud"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;console.log("per"),console.log(t.docs),o.forEach((function(t){var o=t.data();0==o.tipoContratante?Au.push(o):1==o.tipoContratante?Eu.push(o):2==o.tipoContratante&&Cu.push(o)}))})).then((function(){console.log("PERSONASs"),console.log(Au),console.log(Eu),Eu.forEach((function(t){Ou(t.tipoAcreedor,t.runPersona,t.nombrePersona,t.paisPersona)})),console.log(Cu),Cu.forEach((function(t){_u(t.tipoAcreedor,t.runPersona,t.nombrePersona,t.paisPersona)}))})),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Patente_por_Inscripcion"),Object(O["j"])("idInscripcion","==",parseInt(t)))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();Pu.push(o)}))})).then((function(){console.log("PATENTES"),console.log(Pu),Pu.forEach((function(t){console.log(t.patente),console.log(t.inscripcionPrendaRVM),console.log(t.inscripcionProhibicionGravarEnajenar),console.log(t.alzamiento),bu(t.patente,t.inscripcionPrendaRVM,t.inscripcionProhibicionGravarEnajenar,t.alzamiento)}))})))}))})).then((function(){console.log("MODIFICACION"),console.log(iu)})):"A"==o&&Object(O["e"])(Object(O["a"])(_m,"Solicitud_Alzamiento_Prenda")).then((function(o){var e=o.docs;e.forEach((function(o){t==o.id&&(iu=o.data(),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Document_RPsD"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();o.contrato?Ru.push(o):Iu.push(o)}))})).then((function(){console.log("ARCHIVOS"),console.log(Ru),Ru.forEach((function(t){ju(t.url)})),console.log(Iu),Iu.forEach((function(t){Su(t.url)}))})),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Persona_Solicitud"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;console.log("per"),console.log(t.docs),o.forEach((function(t){var o=t.data();0==o.tipoContratante?Au.push(o):1==o.tipoContratante?Eu.push(o):2==o.tipoContratante&&Cu.push(o)}))})).then((function(){console.log("PERSONASs"),console.log(Au),console.log(Eu),Eu.forEach((function(t){Ou(t.tipoAcreedor,t.runPersona,t.nombrePersona,t.paisPersona)})),console.log(Cu),Cu.forEach((function(t){_u(t.tipoAcreedor,t.runPersona,t.nombrePersona,t.paisPersona)}))})),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Patente_por_Inscripcion"),Object(O["j"])("idInscripcion","==",parseInt(t)))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();Pu.push(o)}))})).then((function(){console.log("PATENTES"),console.log(Pu),Pu.forEach((function(t){console.log(t.patente),console.log(t.inscripcionPrendaRVM),console.log(t.inscripcionProhibicionGravarEnajenar),console.log(t.alzamiento),bu(t.patente,t.inscripcionPrendaRVM,t.inscripcionProhibicionGravarEnajenar,t.alzamiento)}))})))}))})).then((function(){console.log("ALZAMIENTO"),console.log(iu)}))}function yu(t,o,e,n,a,i,r,c,s,l,u,d,p,m,g,h,f,v,b,j,A,E){var C=this,R=arguments.length>22&&void 0!==arguments[22]?arguments[22]:[],I=arguments.length>23&&void 0!==arguments[23]?arguments[23]:[],P=arguments.length>24&&void 0!==arguments[24]?arguments[24]:[],N=arguments.length>25&&void 0!==arguments[25]?arguments[25]:[],D=arguments.length>26&&void 0!==arguments[26]?arguments[26]:[],y=arguments.length>27&&void 0!==arguments[27]&&arguments[27],T=arguments.length>28?arguments[28]:void 0,F=arguments.length>29?arguments[29]:void 0;console.log("loading");var x=!0;if(P.forEach((function(t){t[0]&&console.log("VALIDANDO PATENTES")})),!h&&P.length>0&&(h=!0),console.log(i),9==i.length&&pu(i)||(x=!1,console.log("NUMERO REPERTORIO NOTARIO FORMATO INCORRECTO"),alert("Numero repertorio notario formato incorrecto")),y||0!=N.length||(x=!1,console.log("NO HAY CONTRATO"),alert("No hay contrato")),x){var z=0;console.log("validate"),v&&(z=y?3:1),Object(O["e"])(Object(O["a"])(_m,"Solicitud_Inscripcion_Prenda")).then((function(x){var M=x.docs.length+1;console.log(M),Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Solicitud_Inscripcion_Prenda"),localStorage.id_revisar.toString()),{privacidadDocumento:t,fechaSuscripcion:o,fechaOtorgamientoEscritura:e,fechaProtocolizacionContratoPrivado:n,fechaAutorizacionContratoPrivado:a,numeroRepertorioNotario:i,numeroRepertorioContratoPrenda:-1,prohibicionGravarEnajenar:r,nombre_notaria:c,nombreRequiriente:s,runRequiriente:l,correoRequiriente:u,fechaRequirente:d,activoFijo:p,bienesAgropecuarios:m,derechosIntangibles:g,prendaVehiculo:h,montoTotal:f,estadoPrimario:z,estadoSecundario:0,usuarioCreador:F,oficina:T,firma:!1}).then((function(){Object(O["e"])(Object(O["a"])(_m,"Patente_por_Inscripcion")).then((function(t){var o=t.docs.length+1;console.log(o),P.forEach((function(t){Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Patente_por_Inscripcion"),o.toString()),{patente:t["patente"],inscripcionPrendaRVM:t["rvm"],inscripcionProhibicionGravarEnajenar:t["GoE"],alzamiento:!1,idInscripcion:M}),o+=1}))})),Object(O["e"])(Object(O["a"])(_m,"Persona_Solicitud")).then((function(t){var o=t.docs.length+1;console.log(o),Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Persona_Solicitud"),o.toString()),{tipoContratante:0,tipoAcreedor:b,runPersona:j,nombrePersona:A,idInscripcion:M,paisPersona:E}),o+=1,R.forEach((function(t){var e=t["pais"];""==e&&(e="Chile"),Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Persona_Solicitud"),o.toString()),{tipoContratante:1,tipoAcreedor:t["Tipo"],runPersona:t["Id"],nombrePersona:t["Name"],idInscripcion:M,paisPersona:e}),o+=1})),I.forEach((function(t){var e=t["pais"];""==e&&(e="Chile"),Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Persona_Solicitud"),o.toString()),{tipoContratante:2,tipoAcreedor:t["Tipo"],runPersona:t["Id"],nombrePersona:t["Name"],idInscripcion:M,paisPersona:e}),o+=1}))}));var t=null;Object(O["e"])(Object(O["a"])(_m,"Document_RPsD")).then((function(o){var e=o.docs.length,n=o.docs[e-1];t=n.data().numero_repertorio_RPsD})).then((function(){Object(O["e"])(Object(O["a"])(_m,"Document_RPsD")).then(function(){var o=Object(U["a"])(regeneratorRuntime.mark((function o(e){var n,a,i,r,c,s;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:n=e.docs.length,console.log("Entro"),console.log(N),console.log(D),console.log("---------------------"),a=0;case 6:if(!(a<N.length)){o.next=22;break}return i=Object(bo["c"])(jm,N[a].name),o.next=10,Object(bo["d"])(i,N[a]);case 10:return o.next=12,Object(bo["a"])(i);case 12:r=o.sent,console.log("MY URL"),console.log(r),console.log(n.toString()),console.log("---------------------"),Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Document_RPsD"),n.toString()),{id_alzamiento:"",id_modificacion:n.toString(),idInscripcion:M,"año_repertorio_del_contrato":(new Date).getFullYear(),numero_repertorio_RPsD:t+1,url:r,contrato:!0}),n+=1;case 19:a++,o.next=6;break;case 22:a=0;case 23:if(!(a<D.length)){o.next=35;break}return c=Object(bo["c"])(jm,D[a].name),o.next=27,Object(bo["d"])(c,D[a]);case 27:return o.next=29,Object(bo["a"])(c);case 29:s=o.sent,Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Document_RPsD"),n.toString()),{idInscripcion:M,id_alzamiento:"",id_modificacion:n.toString(),"año_repertorio_del_contrato":(new Date).getFullYear(),numero_repertorio_RPsD:t+1,url:s,contrato:!1}),n+=1;case 32:a++,o.next=23;break;case 35:case"end":return o.stop()}}),o)})));return function(t){return o.apply(this,arguments)}}())})).then((function(){var t=new _["a"],o=document.createElement("canvas");S()(C.$refs.content,{scale:1},{canvas:o}).then((function(o){var e=o.toDataURL("image/jpeg",.8);t.addImage(e,"JPEG",20,20,120,120),t.save("sample.pdf")})),console.log("EVERYTHING ITS SEND SUCCESFULLY"),0==v?alert("Solicitud Guardada Exitosamente"):(alert("Solicitud Enviada Exitosamente"),C.$router.push({path:"/Dashboard/".concat(localStorage.rol,"/").concat(localStorage.user,"/MisSolicitudes")})),console.log("PAGANDO EN CAJA"),y&&(Nu("I",M.toString(),1,F),setTimeout((function(){var t="http://ec2-75-101-231-83.compute-1.amazonaws.com:4033/api/checkout/pay",o='{"id_persona":"'+localStorage.rutLog+'", "numero_repertorio":"'+au+'", "monto":'+f+"}";fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:o}).then((function(t){t.json().then((function(t){alert(t.msg),console.log("PAGADO"),Nu("I",M.toString(),2,F),C.redirect()}))}))}),1500))}))}))}))}}var Tu=[];function Fu(){Object(O["e"])(Object(O["a"])(_m,"Precios")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();Tu.push(o)})),console.log(Tu)}))}var xu,zu={mounted:function(){var t=this;this.clean(),console.log("MOUNT"),Fu(),setTimeout((function(){console.log("DINERO");var t=document.getElementById("monto");t.innerHTML="$"+Tu[0]["precio"]}),1500),console.log(localStorage.id_revisar+" "+localStorage.tipo_revisar),Du(parseInt(localStorage.id_revisar),localStorage.tipo_revisar),setTimeout((function(){console.log("SOLICITUD2"),console.log(iu);var o=document.getElementById("tipoDeDocumento");o.value=iu.privacidadDocumento;var e=new Event("change");o.dispatchEvent(e),o.disabled=!0,setTimeout((function(){if("Publico"==iu.privacidadDocumento){var t=document.getElementById("FechaOtorgamiento"),o=document.getElementById("FechaSubscripcion");t.value=iu.fechaOtorgamientoEscritura,o.value=iu.fechaSuscripcion,t.disabled=!0,o.disabled=!0}else if("Privado"==iu.privacidadDocumento){var e=document.getElementById("FechaAutorizacion"),n=document.getElementById("FechaProtocolizacion");e.value=iu.fechaAutorizacionContratoPrivado,n.value=iu.fechaProtocolizacionContratoPrivado,e.disabled=!0,n.disabled=!0}}),500),setTimeout((function(){var t=iu.numeroRepertorioNotario.split("-"),o=document.getElementById("foliorepnontaria"),e=document.getElementById("anorepnotaria"),n=document.getElementById("gravaroenajenar"),a=document.getElementById("checkinscactfijo"),i=document.getElementById("checkinscbagropec"),r=document.getElementById("checkinscderecheint"),c=document.getElementById("checkinscvehic");n.checked=iu.prohibicionGravarEnajenar,a.checked=iu.activoFijo,i.checked=iu.bienesAgropecuarios,r.checked=iu.derechosIntangibles,c.checked=iu.prendaVehiculo,o.value=t[0],e.value=t[1],n.disabled=!0,a.disabled=!0,i.disabled=!0,r.disabled=!0,c.disabled=!0,o.disabled=!0,e.disabled=!0}),500);var n=document.getElementById("tipodepersona"),a=document.getElementById("runacreedor"),i=document.getElementById("nombresacreedor"),r=document.getElementById("apellidopaterno"),c=document.getElementById("apellidomaterno"),s=Au[0].nombrePersona.split(" ");n.value=Au[0].tipoAcreedor,a.value=Au[0].runPersona,i.value=s[0],r.value=s[1],c.value=s[2],n.disabled=!0,a.disabled=!0,i.disabled=!0,c.disabled=!0,r.disabled=!0,t.items_Constituyentes=gu,t.items_Deudores=hu,console.log("deudores"),console.log(t.items_Deudores),t.total_itemsVehiculos=mu,t.items_Contrato=fu,console.log("estoy aqui en contratos, lo que esta abajo"),console.log(t.items_Contrato),t.items_Anexos=vu}),2e3)},name:"Dashboard",data:function(){return{opcion:localStorage.my_opts.split(","),username:localStorage.user,tipoDoc:"",FOtorgamiento:"",FSuscripcion:"",FAutorizacion:"",FProtocolizacion:"",RepNotaria:"",anioRepNotaria:"",ProhibGravEnajenar:!1,tipoPersona:"Natural",run:"",id:"",pais:"",rut:"",razonsocial:"",Apaterno:"",Amaterno:"",nombres:"",nombreRequirente:"",nDocRequirente:"",correoRequirente:"",fechaRequirente:this.currentDateTime,Bienes:[!1,!1,!1,!1],constituyentes:[],deudores:[],vehiculos:[],contrato:null,anexos:null,notaria:"",rol:localStorage.rol,total_itemsVehiculos:new Array,items_Constituyentes:new Array,items_Deudores:new Array,items_Contrato:new Array,items_Anexos:new Array}},props:{},methods:{getNotaria:function(t){this.notaria=t},gettipoDoc:function(t){this.tipoDoc=t},getFOtorgamiento:function(t){this.FOtorgamiento=t},getFSuscripcion:function(t){this.FSuscripcion=t},getFAutorizacion:function(t){this.FAutorizacion=t},getFProtocolizacion:function(t){this.FProtocolizacion=t},getRepNotaria:function(t){this.RepNotaria=t},getanioRepNotaria:function(t){this.anioRepNotaria=t},getProhibGravEnajenar:function(t){this.ProhibGravEnajenar=t},gettipoPersona:function(t){this.tipoPersona=t},getrun:function(t){this.run=t},getid:function(t){this.id=t},getpais:function(t){this.pais=t},getrut:function(t){this.rut=t},getrazonsocial:function(t){this.razonsocial=t},getApaterno:function(t){this.Apaterno=t},getAmaterno:function(t){this.Amaterno=t},getnombreRequirente:function(t){this.nombreRequirente=t},getrutRequirente:function(t){this.nDocRequirente=t},getCorreoRequirente:function(t){this.correoRequirente=t},currentDateTime:function(){var t=new Date,o=t.getDate()+"-"+(t.getMonth()+1)+"-"+t.getFullYear();return o},getFechaRequirente:function(t){this.fechaRequirente=t},getnombres:function(t){this.nombres=t},getBienes:function(t){this.Bienes=t},getConstituyentes:function(t){this.constituyentes=t,console.log("Constituyentes:"+this.constituyentes)},getDeudores:function(t){this.deudores=t,console.log("Deudores:"+this.deudores)},getVehiculos:function(t){this.vehiculos=t},getContrato:function(t){this.contrato=t,console.log("Contrato:"+this.contrato)},getAnexos:function(t){this.anexos=t,console.log("Anexos:"+this.anexos)},crearInscripcion:function(t){var o,e,n=this;"Natural"==this.tipoPersona?(o=this.run,e=this.nombres+" "+this.Apaterno+" "+this.Amaterno):"Juridica"==this.tipoPersona?(o=this.rut,e=this.razonsocial):(o=this.id,e=this.nombres),console.log(this.Bienes);var a=new XMLHttpRequest,i="http://ec2-75-101-231-83.compute-1.amazonaws.com:4030/api/users/user?run="+o;a.open("GET",i),a.send(),a.onload=function(){if(200==a.status){var i=JSON.parse(a.response);i.valid?yu(n.tipoDoc.toString(),n.FSuscripcion.toString(),n.FOtorgamiento.toString(),n.FProtocolizacion.toString(),n.FAutorizacion.toString(),iu.numeroRepertorioNotario,n.ProhibGravEnajenar,n.notaria,n.nombreRequirente,n.nDocRequirente,n.correoRequirente,n.fechaRequirente,n.Bienes[0],n.Bienes[1],n.Bienes[2],n.Bienes[3],n.monto,t,n.tipoPersona,o.toString(),e,n.pais,n.constituyentes,n.deudores,n.vehiculos,n.contrato,n.anexos,"FUNCIONARIOOFICINA"==localStorage.rol,"mi oficina",localStorage.mail):alert(i.msg)}n.downloadWithCSS()}},downloadWithCSS:function(){var t=new _["a"],o=document.createElement("canvas");S()(this.$refs.content,{scale:1},{canvas:o}).then((function(o){var e=o.toDataURL("image/jpeg",.8);t.addImage(e,"JPEG",20,20,120,120),t.save("sample.pdf")}))},clean:function(){Pu.length=0,Au.length=0,Eu.length=0,Cu.length=0,Ru.length=0,Iu.length=0,mu.length=0,hu.length=0,gu.length=0,vu.length=0,fu.length=0}},components:{AntecedentesFormulario:rn,AcreedorFormulario:mn,ConstituyentesFormulario:On,DeudoresFormulario:Cn,VehiculosFormulario:zn,ContratoFormulario:Un,AnexosFormulario:Yn,Menu:B,Navbar:ut,RequirenteFormulario:Wn,Monto:ia,ArchivosLectura:ws}},Mu=zu,wu=(e("8417"),Object(p["a"])(Mu,uu,du,!1,null,"7e934e6a",null)),Bu=wu.exports,ku=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"dashboard"}},[e("Menu",{attrs:{opciones:t.opcion}}),e("Navbar",{attrs:{username:t.username}}),e("div",{attrs:{id:"contenedor"}},["FUNCIONARIOOFICINA"==t.rol?e("RequirenteFormulario",{on:{getnombreRequirente:t.getnombreRequirente,getrutRequirente:t.getrutRequirente,getCorreoRequirente:t.getCorreoRequirente,getFechaRequirente:t.getFechaRequirente,change:function(o){return t.getPatentes()}}}):t._e(),e("AntecedentesFormularioALZA",{attrs:{rol:t.rol,esInsc:!1},on:{gettipoDoc:t.gettipoDoc,getFOtorgamiento:t.getFOtorgamiento,getFSuscripcion:t.getFSuscripcion,getFAutorizacion:t.getFAutorizacion,getFProtocolizacion:t.getFProtocolizacion,getRepNotaria:t.getRepNotaria,getanioRepNotaria:t.getanioRepNotaria,getProhibGravEnajenar:t.getProhibGravEnajenar,getBienes:t.getBienes,getNotaria:t.getNotaria,change:function(o){return t.getPatentes()}}}),e("VehiculosFormulario",{attrs:{tipoSolicitud:t.Alzamiento,items:t.patentes}}),"FUNCIONARIOOFICINA"!==t.rol?e("ContratoFormulario",{on:{getContrato:t.getContrato}}):t._e(),"FUNCIONARIOOFICINA"!==t.rol?e("AnexosFormulario",{on:{getAnexos:t.getAnexos}}):t._e(),e("Monto"),e("div",{staticClass:"row d-flex justify-content-center",attrs:{id:"contenedor"}},[e("button",{staticClass:"col-2 titleButton",on:{click:function(o){return t.alzar(!1)}}},[t._v("Guardar")]),e("button",{staticClass:"col-2 titleButton",on:{click:function(o){return t.alzar(!0)}}},[t._v("Enviar")])])],1)],1)},qu=[];function Uu(t){if(!t.includes("-"))return!1;t=t.split("-");var o=t[0],e=t[1],n=(new Date).getFullYear();return!isNaN(o)&&!o.includes("e")&&4==o.length&&!(e>n||isNaN(e)||e.length<4)}var Lu,Gu=[],Vu=[],$u=[],Hu=[],Yu=[],Zu=[];function Ju(t,o,e,n){var a=["El pago no se realizo","Hubo intencion de pagar","Pagado"];Object(O["e"])(Object(O["a"])(_m,"Counter_N_RPsD")).then((function(n){var a=n.docs[0].data(),i=a.counter;i=i<10?"000"+i.toString():i<100?"00"+i.toString():i<1e3?"0"+i.toString():i.toString();var r=a.year;Lu=i+"-"+r.toString(),console.log("RPSD: "+Lu),1==e?"I"==t?Object(O["i"])(Object(O["c"])(_m,"Solicitud_Inscripcion_Prenda",o),{estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}).then((function(){console.log("ACTUALIZADO")})):"M"==t?Object(O["i"])(Object(O["c"])(_m,"Solicitud_Modificacion_Prenda",o),{estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}):"A"==t&&Object(O["i"])(Object(O["c"])(_m,"Solicitud_Alzamiento_Prenda",o),{estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}):"I"==t?Object(O["i"])(Object(O["c"])(_m,"Solicitud_Inscripcion_Prenda",o),{estadoSecundario:e}).then((function(){console.log("ACTUALIZADO")})):"M"==t?Object(O["i"])(Object(O["c"])(_m,"Solicitud_Modificacion_Prenda",o),{estadoSecundario:e}):"A"==t&&Object(O["i"])(Object(O["c"])(_m,"Solicitud_Alzamiento_Prenda",o),{estadoSecundario:e}),Object(O["i"])(Object(O["c"])(_m,"Counter_N_RPsD","0"),{counter:a.counter+1})}));var i=new Date;Object(O["e"])(Object(O["a"])(_m,"Bitacora")).then((function(r){var c=r.docs.length,s="",l="",u="";"I"==t?s=o:"M"==t?l=o:"A"==t&&(u=o),Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Bitacora"),c.toString()),{idInscripcion:s,idModificacion:l,idAlzamiento:u,idUser:n,comment:a[e],fechaCambio:i.getFullYear()+"-"+(i.getMonth()+1)+"-"+i.getDate()})}))}function Xu(t,o){console.log("ENTREEEEEEEE"),"I"==o?Object(O["e"])(Object(O["a"])(_m,"Solicitud_Inscripcion_Prenda")).then((function(o){var e=o.docs;e.forEach((function(o){t==o.id&&(xu=o.data(),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Document_RPsD"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();o.contrato?Hu.push(o):Yu.push(o)}))})).then((function(){console.log("ARCHIVOS"),console.log(Hu),console.log(Yu)})),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Persona_Solicitud"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();0==o.tipoContratante?Gu.push(o):1==o.tipoContratante?Vu.push(o):2==o.tipoContratante&&$u.push(o)}))})).then((function(){console.log("PERSONAS"),console.log(Gu),console.log(Vu),console.log($u)})),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Patente_por_Inscripcion"),Object(O["j"])("idInscripcion","==",parseInt(t)))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();Zu.push(o)}))})).then((function(){console.log("PATENTES"),console.log(Zu),Zu.forEach((function(t){console.log(t.patente),console.log(t.inscripcionPrendaRVM),console.log(t.inscripcionProhibicionGravarEnajenar),console.log(t.alzamiento)}))})))}))})).then((function(){console.log("INSCRIPCION"),console.log(Zu)})):"M"==o?Object(O["e"])(Object(O["a"])(_m,"Solicitud_Modificacion_Prenda")).then((function(o){var e=o.docs;e.forEach((function(o){t==o.id&&(xu=o.data(),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Document_RPsD"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();o.contrato?Hu.push(o):Yu.push(o)}))})).then((function(){console.log("ARCHIVOS"),console.log(Hu),console.log(Yu)})))}))})).then((function(){console.log("MODIFICACION"),console.log(xu)})):"A"==o&&Object(O["e"])(Object(O["a"])(_m,"Solicitud_Alzamiento_Prenda")).then((function(o){var e=o.docs;e.forEach((function(o){t==o.id&&(xu=o.data(),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Document_RPsD"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();o.contrato?Hu.push(o):Yu.push(o)}))})).then((function(){console.log("ARCHIVOS"),console.log(Hu),console.log(Yu)})))}))})).then((function(){console.log("ALZAMIENTO"),console.log(xu)}))}function Ku(t,o,e,n){var a=null,i="",r="",c="";console.log("LOL FILES"),0==n?i=e:1==n?r=e:2==n&&(c=e),console.log("INSCRIPCION: "+i),console.log("MODIFICACION: "+r),console.log("ALZAMIENTO: "+c),Object(O["e"])(Object(O["a"])(_m,"Document_RPsD")).then((function(t){var o=t.docs.length,e=t.docs[o-1];a=e.data().numero_repertorio_RPsD})).then((function(){Object(O["e"])(Object(O["a"])(_m,"Document_RPsD")).then(function(){var e=Object(U["a"])(regeneratorRuntime.mark((function e(n){var s,l,u,d,p,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:s=n.docs.length,console.log("Entro"),console.log(t.length),l=0;case 4:if(!(l<t.length)){e.next=17;break}return u=Object(bo["c"])(jm,t[l].name),e.next=8,Object(bo["d"])(u,t[l]);case 8:return e.next=10,Object(bo["a"])(u);case 10:d=e.sent,console.log("CONTRATO"),Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Document_RPsD"),s.toString()),{id_alzamiento:i,id_modificacion:r,idInscripcion:c,"año_repertorio_del_contrato":(new Date).getFullYear(),numero_repertorio_RPsD:a+1,url:d,contrato:!0}),s+=1;case 14:l++,e.next=4;break;case 17:l=0;case 18:if(!(l<o.length)){e.next=31;break}return p=Object(bo["c"])(jm,o[l].name),e.next=22,Object(bo["d"])(p,o[l]);case 22:return e.next=24,Object(bo["a"])(p);case 24:m=e.sent,console.log("ADJUNTO"),Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Document_RPsD"),s.toString()),{idInscripcion:i,id_alzamiento:c,id_modificacion:r,"año_repertorio_del_contrato":(new Date).getFullYear(),numero_repertorio_RPsD:a+1,url:m,contrato:!1}),s+=1;case 28:l++,e.next=18;break;case 31:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})).then((function(){console.log("EVERYTHING ITS SEND SUCCESFULLY"),alert("ALZAMIENTO SE ENVIO DE FORMA CORRECTA")}))}function Qu(t,o,e,n,a,i,r,c,s,l,u){var d=this,p=arguments.length>11&&void 0!==arguments[11]?arguments[11]:[],m=arguments.length>12&&void 0!==arguments[12]?arguments[12]:[],g=arguments.length>13?arguments[13]:void 0,h=arguments.length>14?arguments[14]:void 0,f=arguments.length>15?arguments[15]:void 0,v=arguments.length>16?arguments[16]:void 0,b=arguments.length>17?arguments[17]:void 0,_=arguments.length>18?arguments[18]:void 0,j=arguments.length>19?arguments[19]:void 0,S=arguments.length>20&&void 0!==arguments[20]&&arguments[20],A=arguments.length>21?arguments[21]:void 0,E=!0;if(console.log("VERYFING..."),console.log(A),console.log(c),9==c.length||Uu(c)||(E=!1,console.log("NUMERO REPERTORIO NOTARIO FORMATO INCORRECTO"),alert("Numero repertorio notaria en formato incorrecto")),E){var C=0;console.log("validate"),j&&(C=S?3:1),console.log("MY DATA"),console.log(g),console.log(C);var R=null;Object(O["e"])(Object(O["a"])(_m,"Solicitud_Alzamiento_Prenda")).then((function(t){R=t.docs.length})).then((function(){Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Solicitud_Alzamiento_Prenda"),localStorage.id_revisar.toString()),{privacidadDocumento:o,fechaOtorgamientoEscritura:e,fechaSuscripcion:n,fecha_de_autorizacion:a,fechaProtocolizacionContratoPrivado:i,nombre_notaria:r,numeroRepertorioNotario:c,runRequiriente:t,nombreRequiriente:s,correoRequiriente:l,fechaRequirente:u,estadoPrimario:C,estadoSecundario:0,activoFijo:g,bienesAgropecuarios:h,prendaVehiculo:v,derechosIntangibles:f,"año_repertorio_RPsD":b,numeroRepertorioContratoPrenda:_,oficina:"mi oficina",firma:!1,usuarioCreador:localStorage.mail}).then((function(){console.log("PAGANDO EN CAJA"),S&&(Ju("A",R.toString(),1,localStorage.mail),setTimeout((function(){var t="http://ec2-75-101-231-83.compute-1.amazonaws.com:4033/api/checkout/pay",o='{"id_persona":"'+localStorage.rutLog+'", "numero_repertorio":"'+Lu+'", "monto":'+(parseInt(ed[1]["precio"])+parseInt(od))+"}";fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:o}).then((function(t){t.json().then((function(t){alert(t.msg),console.log("PAGADO"),Ju("A",R.toString(),2,localStorage.mail),d.redirect()}))}))}),1500))})),1==C&&Ku(p,m,R.toString(),2)}))}}var Wu=[];function td(t){Wu=[],Object(O["e"])(Object(O["a"])(_m,"Patente_por_Inscripcion")).then((function(o){var e=o.docs;e.forEach((function(o){var e=o.data();e.idInscripcion==t&&Wu.push(e)})),console.log("AUTOS: "),console.log(Wu)}))}var od=0,ed=[];function nd(){Object(O["e"])(Object(O["a"])(_m,"Precios")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();ed.push(o)})),console.log(ed)}))}var ad=!1;function id(){ad=!1}var rd,cd,sd={mounted:function(){var t=this;console.log("STARTER DATA"),console.log(localStorage.id_revisar),console.log(localStorage.tipo_revisar),id(),Xu(localStorage.id_revisar,localStorage.tipo_revisar),nd(),td(localStorage.idSol),setTimeout((function(){t.items=[],console.log(Wu);var o=document.getElementById("monto");console.log("Enviando REQUEST"),od=0,Wu.forEach((function(o){if(od+=parseInt(ed[9]["precio"])+parseInt(ed[8]["precio"]),1==o.inscripcionPrendaRVM){var e=new XMLHttpRequest,n="http://ec2-75-101-231-83.compute-1.amazonaws.com:4031/API/vehicles/licensePlates?patente="+o.patente;e.open("GET",n),e.send(),e.onload=function(){if(200==e.status){var t=JSON.parse(e.response);console.log("MENSAJE RECIVIDO"),console.log(t),console.log("LARGO"),console.log(t.solicitudes.length),t.solicitudes.length>0&&(ad=!0)}}}var a={patente:o.patente,rvm:o.inscripcionPrendaRVM,GoE:o.inscripcionProhibicionGravarEnajenar,costo:"-"};t.items.push(a)})),o.innerHTML="$"+(parseInt(ed[1]["precio"])+parseInt(od))}),1500)},name:"Dashboard",data:function(){return{opcion:localStorage.my_opts.split(","),username:localStorage.user,tipoDoc:"",FOtorgamiento:"",FSuscripcion:"",FAutorizacion:"",FProtocolizacion:"",RepNotaria:"",anioRepNotaria:"",ProhibGravEnajenar:!1,tipoPersona:"Natural",run:"",id:"",pais:"",rut:"",razonsocial:"",Apaterno:"",Amaterno:"",nombres:"",nombreRequirente:"",nDocRequirente:"",correoRequirente:"",fechaRequirente:this.currentDateTime(),Bienes:[],constituyentes:[],deudores:[],vehiculos:[],contrato:null,anexos:null,notaria:""}},props:{rol:{type:String,default:localStorage.rol}},components:{AntecedentesFormularioALZA:Fa,VehiculosFormulario:ka,ContratoFormulario:Un,AnexosFormulario:Yn,Monto:ia,Menu:B,Navbar:ut,RequirenteFormulario:Wn},methods:{getNotaria:function(t){this.notaria=t},gettipoDoc:function(t){this.tipoDoc=t},getFOtorgamiento:function(t){this.FOtorgamiento=t},getFSuscripcion:function(t){this.FSuscripcion=t},getFAutorizacion:function(t){this.FAutorizacion=t},getFProtocolizacion:function(t){this.FProtocolizacion=t},getRepNotaria:function(t){this.RepNotaria=t},getanioRepNotaria:function(t){this.anioRepNotaria=t},getProhibGravEnajenar:function(t){this.ProhibGravEnajenar=t},gettipoPersona:function(t){this.tipoPersona=t},getrun:function(t){this.run=t},getid:function(t){this.id=t},getpais:function(t){this.pais=t},getrut:function(t){this.rut=t},getrazonsocial:function(t){this.razonsocial=t},getApaterno:function(t){this.Apaterno=t},getAmaterno:function(t){this.Amaterno=t},getnombreRequirente:function(t){this.nombreRequirente=t},getrutRequirente:function(t){this.nDocRequirente=t},getCorreoRequirente:function(t){this.correoRequirente=t},currentDateTime:function(){var t=new Date,o=t.getDate()+"-"+(t.getMonth()+1)+"-"+t.getFullYear();return o},getFechaRequirente:function(t){this.fechaRequirente=t},getnombres:function(t){this.nombres=t},getBienes:function(t){this.Bienes=t},getConstituyentes:function(t){this.constituyentes=t,console.log("Constituyentes:"+this.constituyentes)},getDeudores:function(t){this.deudores=t,console.log("Deudores:"+this.deudores)},getVehiculos:function(t){this.vehiculos=t},getContrato:function(t){this.contrato=t,console.log("Contrato:"+this.contrato)},getAnexos:function(t){this.anexos=t,console.log("Anexos:"+this.anexos)},alzar:function(t){console.log("MIS BIENES"),console.log(this.Bienes[0]),console.log(this.Bienes[1]),console.log(this.Bienes[2]),console.log(this.Bienes[3]),ad?(alert("Existen patentes con solicitudes pendientes"),console.log("NO ESTA PERMITIDO")):Qu(this.nDocRequirente,this.tipoDoc.toString(),this.FOtorgamiento.toString(),this.FSuscripcion.toString(),this.FAutorizacion.toString(),this.FProtocolizacion.toString(),this.notaria,(this.RepNotaria+"-"+this.anioRepNotaria).toString(),this.nombreRequirente,this.correoRequirente,this.fechaRequirente,this.contrato,this.anexos,this.Bienes[0],this.Bienes[1],this.Bienes[2],this.Bienes[3],-1,-1,t,"FUNCIONARIOOFICINA"==localStorage.rol,"Mi oficina")}}},ld=sd,ud=(e("cc69"),Object(p["a"])(ld,ku,qu,!1,null,"4253c1b5",null)),dd=ud.exports,pd=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"dashboard"}},[e("Menu",{attrs:{opciones:t.opcion}}),e("Navbar",{attrs:{username:t.username}}),e("div",{staticClass:"right"},[e("h1",{attrs:{bold:""}},[t._v("ALZAMIENTO PARCIAL")]),"FUNCIONARIOOFICINA"==t.rol?e("RequirenteFormulario"):t._e(),e("AntecedentesFormularioALZA",{attrs:{rol:t.rol},on:{gettipoDoc:t.gettipoDoc,getFOtorgamiento:t.getFOtorgamiento,getFSuscripcion:t.getFSuscripcion,getFAutorizacion:t.getFAutorizacion,getFProtocolizacion:t.getFProtocolizacion,getRepNotaria:t.getRepNotaria,getanioRepNotaria:t.getanioRepNotaria,getProhibGravEnajenar:t.getProhibGravEnajenar,getBienes:t.getBienes,getNotaria:t.getNotaria}}),e("VehiculoLecturaFormularioALZAMIENTOPARCIAL",{attrs:{tipoSolicitud:t.Modificacion,items:t.items}}),"FUNCIONARIOOFICINA"!==t.rol?e("ContratoFormulario",{on:{getContrato:t.getContrato}}):t._e(),"FUNCIONARIOOFICINA"!==t.rol?e("AnexosFormulario",{on:{getAnexos:t.getAnexos}}):t._e(),e("Monto"),e("div",{staticClass:"row d-flex justify-content-center",attrs:{id:"contenedor"}},[e("button",{staticClass:"col-2 titleButton",on:{click:function(o){return t.modificar(!1)}}},[t._v("Guardar")]),e("button",{staticClass:"col-2 titleButton",on:{click:function(o){return t.modificar(!0)}}},[t._v("Enviar")])])],1)],1)},md=[];function gd(t){if(!t.includes("-"))return!1;t=t.split("-");var o=t[0],e=t[1],n=(new Date).getFullYear();return!isNaN(o)&&!o.includes("e")&&4==o.length&&!(e>n||isNaN(e)||e.length<4)}function hd(t,o,e,n){var a=["El pago no se realizo","Hubo intencion de pagar","Pagado"];Object(O["e"])(Object(O["a"])(_m,"Counter_N_RPsD")).then((function(n){var a=n.docs[0].data(),i=a.counter;i=i<10?"000"+i.toString():i<100?"00"+i.toString():i<1e3?"0"+i.toString():i.toString();var r=a.year;rd=i+"-"+r.toString(),console.log("RPSD: "+rd),1==e?"I"==t?Object(O["i"])(Object(O["c"])(_m,"Solicitud_Inscripcion_Prenda",o),{estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}).then((function(){console.log("ACTUALIZADO")})):"M"==t?Object(O["i"])(Object(O["c"])(_m,"Solicitud_Modificacion_Prenda",o),{estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}):"A"==t&&Object(O["i"])(Object(O["c"])(_m,"Solicitud_Alzamiento_Prenda",o),{estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}):"I"==t?Object(O["i"])(Object(O["c"])(_m,"Solicitud_Inscripcion_Prenda",o),{estadoSecundario:e}).then((function(){console.log("ACTUALIZADO")})):"M"==t?Object(O["i"])(Object(O["c"])(_m,"Solicitud_Modificacion_Prenda",o),{estadoSecundario:e}):"A"==t&&Object(O["i"])(Object(O["c"])(_m,"Solicitud_Alzamiento_Prenda",o),{estadoSecundario:e}),Object(O["i"])(Object(O["c"])(_m,"Counter_N_RPsD","0"),{counter:a.counter+1})}));var i=new Date;Object(O["e"])(Object(O["a"])(_m,"Bitacora")).then((function(r){var c=r.docs.length,s="",l="",u="";"I"==t?s=o:"M"==t?l=o:"A"==t&&(u=o),Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Bitacora"),c.toString()),{idInscripcion:s,idModificacion:l,idAlzamiento:u,idUser:n,comment:a[e],fechaCambio:i.getFullYear()+"-"+(i.getMonth()+1)+"-"+i.getDate()})}))}function fd(t,o,e,n){var a=null,i="",r="",c="";console.log("MOD DATA"),console.log(e),console.log(n),0==n?i=e:1==n?r=e:2==n&&(c=e),Object(O["e"])(Object(O["a"])(_m,"Document_RPsD")).then((function(t){var o=t.docs.length,e=t.docs[o-1];a=e.data().numero_repertorio_RPsD})).then((function(){Object(O["e"])(Object(O["a"])(_m,"Document_RPsD")).then(function(){var e=Object(U["a"])(regeneratorRuntime.mark((function e(n){var s,l,u,d,p,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:s=n.docs.length,console.log("Entro"),l=0;case 3:if(!(l<t.length)){e.next=15;break}return u=Object(bo["c"])(jm,t[l].name),e.next=7,Object(bo["d"])(u,t[l]);case 7:return e.next=9,Object(bo["a"])(u);case 9:d=e.sent,Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Document_RPsD"),s.toString()),{id_alzamiento:i,id_modificacion:r,idInscripcion:c,"año_repertorio_del_contrato":(new Date).getFullYear(),numero_repertorio_RPsD:a+1,url:d,contrato:!0}),s+=1;case 12:l++,e.next=3;break;case 15:l=0;case 16:if(!(l<o.length)){e.next=28;break}return p=Object(bo["c"])(jm,o[l].name),e.next=20,Object(bo["d"])(p,o[l]);case 20:return e.next=22,Object(bo["a"])(p);case 22:m=e.sent,Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Document_RPsD"),s.toString()),{idInscripcion:i,id_alzamiento:c,id_modificacion:r,"año_repertorio_del_contrato":(new Date).getFullYear(),numero_repertorio_RPsD:a+1,url:m,contrato:!1}),s+=1;case 25:l++,e.next=16;break;case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})).then((function(){console.log("EVERYTHING ITS SEND SUCCESFULLY"),alert("Todo se ha mandado correctamente")}))}var vd=[],bd=[],Od=[],_d=[],jd=[],Sd=[];function Ad(t,o){console.log("ENTREEEEEEEE"),"I"==o?Object(O["e"])(Object(O["a"])(_m,"Solicitud_Inscripcion_Prenda")).then((function(o){var e=o.docs;e.forEach((function(o){t==o.id&&(cd=o.data(),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Document_RPsD"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();o.contrato?_d.push(o):jd.push(o)}))})).then((function(){console.log("ARCHIVOS"),console.log(_d),console.log(jd)})),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Persona_Solicitud"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();0==o.tipoContratante?vd.push(o):1==o.tipoContratante?bd.push(o):2==o.tipoContratante&&Od.push(o)}))})).then((function(){console.log("PERSONAS"),console.log(vd),console.log(bd),console.log(Od)})),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Patente_por_Inscripcion"),Object(O["j"])("idInscripcion","==",parseInt(t)))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();Sd.push(o)}))})).then((function(){console.log("PATENTES"),console.log(Sd),Sd.forEach((function(t){console.log(t.patente),console.log(t.inscripcionPrendaRVM),console.log(t.inscripcionProhibicionGravarEnajenar),console.log(t.alzamiento)}))})))}))})).then((function(){console.log("INSCRIPCION"),console.log(Sd)})):"M"==o?Object(O["e"])(Object(O["a"])(_m,"Solicitud_Modificacion_Prenda")).then((function(o){var e=o.docs;e.forEach((function(o){t==o.id&&(cd=o.data(),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Document_RPsD"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();o.contrato?_d.push(o):jd.push(o)}))})).then((function(){console.log("ARCHIVOS"),console.log(_d),console.log(jd)})))}))})).then((function(){console.log("MODIFICACION"),console.log(cd)})):"A"==o&&Object(O["e"])(Object(O["a"])(_m,"Solicitud_Alzamiento_Prenda")).then((function(o){var e=o.docs;e.forEach((function(o){t==o.id&&(cd=o.data(),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Document_RPsD"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();o.contrato?_d.push(o):jd.push(o)}))})).then((function(){console.log("ARCHIVOS"),console.log(_d),console.log(jd)})))}))})).then((function(){console.log("ALZAMIENTO"),console.log(cd)}))}function Ed(t,o,e,n,a){var i=this,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",c=arguments.length>6?arguments[6]:void 0,s=arguments.length>7?arguments[7]:void 0,l=arguments.length>8?arguments[8]:void 0,u=arguments.length>9?arguments[9]:void 0,d=arguments.length>10?arguments[10]:void 0,p=arguments.length>11&&void 0!==arguments[11]?arguments[11]:"",m=arguments.length>12&&void 0!==arguments[12]?arguments[12]:"",g=arguments.length>13?arguments[13]:void 0,h=arguments.length>14&&void 0!==arguments[14]?arguments[14]:[],f=arguments.length>15&&void 0!==arguments[15]?arguments[15]:[],v=arguments.length>16?arguments[16]:void 0,b=arguments.length>17?arguments[17]:void 0,_=arguments.length>18?arguments[18]:void 0,j=arguments.length>19?arguments[19]:void 0,S=arguments.length>20?arguments[20]:void 0,A=arguments.length>21&&void 0!==arguments[21]?arguments[21]:"",E=arguments.length>22&&void 0!==arguments[22]?arguments[22]:"",C=arguments.length>23?arguments[23]:void 0,R=!0;if(console.log(c),9==c.length||gd(c)||(R=!1,console.log("NUMERO REPERTORIO NOTARIO FORMATO INCORRECTO"),alert("Numero repertorio notario formato incorrecto")),R){var I=null;Object(O["e"])(Object(O["a"])(_m,"Solicitud_Modificacion_Prenda")).then((function(t){I=t.docs.length,console.log(I),console.log("submit")})).then((function(){Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Solicitud_Modificacion_Prenda"),localStorage.id_revisar.toString()),{privacidadDocumento:t,fechaSuscripcion:o,fechaOtorgamientoEscritura:e,fechaProtocolizacionContratoPrivado:n,fechaAutorizacionContratoPrivado:a,numeroRepertorioNotario:c,parrafo_modificacion_generica:s,tipo_de_persona:l,nombre_acreedor:u,rut_acreedor:d,nombreRequiriente:p,runRequiriente:m,estadoPrimario:g,estadoSecundario:0,activoFijo:v,bienesAgropecuarios:b,derechosIntangibles:_,prendaVehiculo:j,nombre_notaria:r,prohibicionGravarEnajenar:S,correoRequiriente:A,fechaRequirente:E,revisorAsignado:-1,firma:!1,tipoModificacion:1,usuarioCreador:localStorage.mail}).then((function(){console.log("PAGANDO EN CAJA"),C?("FUNCIONARIOOFICINA"==localStorage.rol&&(hd("M",I.toString(),1,localStorage.mail),setTimeout((function(){var t="http://ec2-75-101-231-83.compute-1.amazonaws.com:4033/api/checkout/pay",o='{"id_persona":"'+localStorage.rutLog+'", "numero_repertorio":"'+rd+'", "monto":'+(parseInt(Cd[2]["precio"])+parseInt(Nd))+"}";fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:o}).then((function(t){t.json().then((function(t){alert(t.msg),console.log("PAGADO"),hd("M",I.toString(),2,localStorage.mail),i.redirect()}))}))}),1500)),alert("Solicitud Enviada Exitosamente")):alert("Solicitud Guardada Exitosamente")})),console.log("entros"),1==g&&(fd(h,f,I,1),console.log("enviado"))}))}}var Cd=[];function Rd(){Object(O["e"])(Object(O["a"])(_m,"Precios")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();Cd.push(o)})),console.log(Cd)}))}var Id=[];function Pd(t){Id=[],Object(O["e"])(Object(O["a"])(_m,"Patente_por_Inscripcion")).then((function(o){var e=o.docs;e.forEach((function(o){var e=o.data();e.idInscripcion==t&&Id.push(e)})),console.log("AUTOS: "),console.log(Id)}))}var Nd=0,Dd=!1;function yd(){Dd=!1}var Td,Fd,xd={name:"formularioModificacion",mounted:function(){var t=this;console.log("STARTER DATA"),console.log(localStorage.id_revisar),console.log(localStorage.tipo_revisar),Ad(localStorage.id_revisar,localStorage.tipo_revisar),Rd(),yd(),Pd(localStorage.idSol),setTimeout((function(){console.log("SOLICITUD DE INSCRIPCION ENCONTRADA EN ESTOS LUGARES"),console.log(cd),t.items=[],console.log(Id);var o=document.getElementById("monto");console.log("Enviando REQUEST"),Nd=0,Id.forEach((function(o){if(Nd+=parseInt(Cd[8]["precio"]),1==o.inscripcionPrendaRVM){var e=new XMLHttpRequest,n="http://ec2-75-101-231-83.compute-1.amazonaws.com:4031/API/vehicles/licensePlates?patente="+o.patente;e.open("GET",n),e.send(),e.onload=function(){if(200==e.status){var t=JSON.parse(e.response);console.log("MENSAJE RECIVIDO"),console.log(t),console.log("LARGO"),console.log(t.solicitudes.length),t.solicitudes.length>0&&(Dd=!0)}}}var a={patente:o.patente,rvm:o.inscripcionPrendaRVM,GoE:o.inscripcionProhibicionGravarEnajenar,costo:"-"};t.items.push(a)})),o.innerHTML="$"+(parseInt(Cd[2]["precio"])+parseInt(Nd))}),1e3)},data:function(){return{opcion:localStorage.my_opts.split(","),username:localStorage.user,tipoDoc:"",FOtorgamiento:"",FSuscripcion:"",FAutorizacion:"",FProtocolizacion:"",RepNotaria:"",anioRepNotaria:"",ProhibGravEnajenar:!1,tipoPersona:"Natural",run:"",id:"",pais:"",rut:"",razonsocial:"",Apaterno:"",Amaterno:"",nombres:"",nombreRequirente:"",nDocRequirente:"",correoRequirente:"",fechaRequirente:this.currentDateTime(),Bienes:[],constituyentes:[{}],deudores:[{}],vehiculos:[{}],contrato:null,anexos:null}},props:{rol:{type:String,default:localStorage.rol},items:{type:Array,default:new Array}},components:{AntecedentesFormularioALZA:Fa,VehiculoLecturaFormularioALZAMIENTOPARCIAL:ka,ContratoFormulario:Un,RequirenteFormulario:Wn,AnexosFormulario:Yn,Monto:ia,Menu:B,Navbar:ut},methods:{getNotaria:function(t){this.notaria=t},gettipoDoc:function(t){this.tipoDoc=t},getFOtorgamiento:function(t){this.FOtorgamiento=t},getFSuscripcion:function(t){this.FSuscripcion=t},getFAutorizacion:function(t){this.FAutorizacion=t},getFProtocolizacion:function(t){this.FProtocolizacion=t},getRepNotaria:function(t){this.RepNotaria=t},getanioRepNotaria:function(t){this.anioRepNotaria=t},getProhibGravEnajenar:function(t){this.ProhibGravEnajenar=t},gettipoPersona:function(t){this.tipoPersona=t},getrun:function(t){this.run=t},getid:function(t){this.id=t},getpais:function(t){this.pais=t},getrut:function(t){this.rut=t},getrazonsocial:function(t){this.razonsocial=t},getApaterno:function(t){this.Apaterno=t},getAmaterno:function(t){this.Amaterno=t},getnombreRequirente:function(t){this.nombreRequirente=t},getrutRequirente:function(t){this.nDocRequirente=t},getCorreoRequirente:function(t){this.correoRequirente=t},currentDateTime:function(){var t=new Date,o=t.getDate()+"-"+(t.getMonth()+1)+"-"+t.getFullYear();return o},getFechaRequirente:function(t){this.fechaRequirente=t},getnombres:function(t){this.nombres=t},getBienes:function(t){this.Bienes=t},getConstituyentes:function(t){this.constituyentes=t,console.log("Constituyentes:"+this.constituyentes)},getDeudores:function(t){this.deudores=t,console.log("Deudores:"+this.deudores)},getVehiculos:function(t){this.vehiculos=t},getContrato:function(t){this.contrato=t,console.log("Contrato:"+this.contrato)},getAnexos:function(t){this.anexos=t,console.log("Anexos:"+this.anexos)},modificar:function(t){var o=0;t&&(o="FUNCIONARIONOTARIA"==localStorage.rol?1:3),Dd?(alert("Existen patentes con solicitudes pendientes"),console.log("NO ESTA PERMITIDO")):Ed(this.tipoDoc.toString(),this.FSuscripcion.toString(),this.FOtorgamiento.toString(),this.FProtocolizacion.toString(),this.FAutorizacion.toString(),this.notaria,(this.RepNotaria+"-"+this.anioRepNotaria).toString(),"parrafo_modificacion_generica",this.tipoPersona,this.nombres,this.run,this.nombreRequirente,this.nDocRequirente,o,this.contrato,this.anexos,this.Bienes[0],this.Bienes[1],this.Bienes[2],this.Bienes[3],this.ProhibGravEnajenar,this.correoRequirente,this.fechaRequirente,t)}}},zd=xd,Md=(e("7e6d"),Object(p["a"])(zd,pd,md,!1,null,"7886552a",null)),wd=Md.exports,Bd=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"dashboard"}},[e("Menu",{attrs:{opciones:t.opcion}}),e("Navbar",{attrs:{username:t.username}}),e("div",{staticClass:"right"},[e("h1",{attrs:{bold:""}},[t._v("CAMBIO ACREEDOR")]),"FUNCIONARIOOFICINA"==t.rol?e("RequirenteFormulario"):t._e(),e("AntecedentesFormularioALZA",{attrs:{rol:t.rol},on:{gettipoDoc:t.gettipoDoc,getFOtorgamiento:t.getFOtorgamiento,getFSuscripcion:t.getFSuscripcion,getFAutorizacion:t.getFAutorizacion,getFProtocolizacion:t.getFProtocolizacion,getRepNotaria:t.getRepNotaria,getanioRepNotaria:t.getanioRepNotaria,getProhibGravEnajenar:t.getProhibGravEnajenar,getBienes:t.getBienes,getNotaria:t.getNotaria}}),e("AcreedorFormulario",{on:{gettipoPersona:t.gettipoPersona,getrun:t.getrun,getid:t.getid,getpais:t.getpais,getrut:t.getrut,getrazonsocial:t.getrazonsocial,getApaterno:t.getApaterno,getAmaterno:t.getAmaterno,getnombres:t.getnombres}}),e("VehiculoLecturaFormulario",{attrs:{tipoSolicitud:t.Modificacion,items:t.items}}),"FUNCIONARIOOFICINA"!==t.rol?e("ContratoFormulario",{on:{getContrato:t.getContrato}}):t._e(),"FUNCIONARIOOFICINA"!==t.rol?e("AnexosFormulario",{on:{getAnexos:t.getAnexos}}):t._e(),e("Monto"),e("div",{staticClass:"row d-flex justify-content-center",attrs:{id:"contenedor"}},[e("button",{staticClass:"col-2 titleButton",on:{click:function(o){return t.modificar(!1)}}},[t._v("Guardar")]),e("button",{staticClass:"col-2 titleButton",on:{click:function(o){return t.modificar(!0)}}},[t._v("Enviar")])])],1)],1)},kd=[];function qd(t){if(!t.includes("-"))return!1;t=t.split("-");var o=t[0],e=t[1],n=(new Date).getFullYear();return!isNaN(o)&&!o.includes("e")&&4==o.length&&!(e>n||isNaN(e)||e.length<4)}function Ud(t,o,e,n){var a=["El pago no se realizo","Hubo intencion de pagar","Pagado"];Object(O["e"])(Object(O["a"])(_m,"Counter_N_RPsD")).then((function(n){var a=n.docs[0].data(),i=a.counter;i=i<10?"000"+i.toString():i<100?"00"+i.toString():i<1e3?"0"+i.toString():i.toString();var r=a.year;Td=i+"-"+r.toString(),console.log("RPSD: "+Td),1==e?"I"==t?Object(O["i"])(Object(O["c"])(_m,"Solicitud_Inscripcion_Prenda",o),{estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}).then((function(){console.log("ACTUALIZADO")})):"M"==t?Object(O["i"])(Object(O["c"])(_m,"Solicitud_Modificacion_Prenda",o),{estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}):"A"==t&&Object(O["i"])(Object(O["c"])(_m,"Solicitud_Alzamiento_Prenda",o),{estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}):"I"==t?Object(O["i"])(Object(O["c"])(_m,"Solicitud_Inscripcion_Prenda",o),{estadoSecundario:e}).then((function(){console.log("ACTUALIZADO")})):"M"==t?Object(O["i"])(Object(O["c"])(_m,"Solicitud_Modificacion_Prenda",o),{estadoSecundario:e}):"A"==t&&Object(O["i"])(Object(O["c"])(_m,"Solicitud_Alzamiento_Prenda",o),{estadoSecundario:e}),Object(O["i"])(Object(O["c"])(_m,"Counter_N_RPsD","0"),{counter:a.counter+1})}));var i=new Date;Object(O["e"])(Object(O["a"])(_m,"Bitacora")).then((function(r){var c=r.docs.length,s="",l="",u="";"I"==t?s=o:"M"==t?l=o:"A"==t&&(u=o),Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Bitacora"),c.toString()),{idInscripcion:s,idModificacion:l,idAlzamiento:u,idUser:n,comment:a[e],fechaCambio:i.getFullYear()+"-"+(i.getMonth()+1)+"-"+i.getDate()})}))}var Ld=[],Gd=[],Vd=[],$d=[],Hd=[],Yd=[];function Zd(t,o){console.log("ENTREEEEEEEE"),"I"==o?Object(O["e"])(Object(O["a"])(_m,"Solicitud_Inscripcion_Prenda")).then((function(o){var e=o.docs;e.forEach((function(o){t==o.id&&(Fd=o.data(),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Document_RPsD"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();o.contrato?$d.push(o):Hd.push(o)}))})).then((function(){console.log("ARCHIVOS"),console.log($d),console.log(Hd)})),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Persona_Solicitud"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();0==o.tipoContratante?Ld.push(o):1==o.tipoContratante?Gd.push(o):2==o.tipoContratante&&Vd.push(o)}))})).then((function(){console.log("PERSONAS"),console.log(Ld),console.log(Gd),console.log(Vd)})),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Patente_por_Inscripcion"),Object(O["j"])("idInscripcion","==",parseInt(t)))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();Yd.push(o)}))})).then((function(){console.log("PATENTES"),console.log(Yd),Yd.forEach((function(t){console.log(t.patente),console.log(t.inscripcionPrendaRVM),console.log(t.inscripcionProhibicionGravarEnajenar),console.log(t.alzamiento)}))})))}))})).then((function(){console.log("INSCRIPCION"),console.log(Yd)})):"M"==o?Object(O["e"])(Object(O["a"])(_m,"Solicitud_Modificacion_Prenda")).then((function(o){var e=o.docs;e.forEach((function(o){t==o.id&&(Fd=o.data(),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Document_RPsD"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();o.contrato?$d.push(o):Hd.push(o)}))})).then((function(){console.log("ARCHIVOS"),console.log($d),console.log(Hd)})))}))})).then((function(){console.log("MODIFICACION"),console.log(Fd)})):"A"==o&&Object(O["e"])(Object(O["a"])(_m,"Solicitud_Alzamiento_Prenda")).then((function(o){var e=o.docs;e.forEach((function(o){t==o.id&&(Fd=o.data(),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Document_RPsD"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();o.contrato?$d.push(o):Hd.push(o)}))})).then((function(){console.log("ARCHIVOS"),console.log($d),console.log(Hd)})))}))})).then((function(){console.log("ALZAMIENTO"),console.log(Fd)}))}function Jd(t,o,e,n){var a=null,i="",r="",c="";0==n?i=e:1==n?r=e:2==n&&(c=e),Object(O["e"])(Object(O["a"])(_m,"Document_RPsD")).then((function(t){var o=t.docs.length,e=t.docs[o-1];a=e.data().numero_repertorio_RPsD})).then((function(){Object(O["e"])(Object(O["a"])(_m,"Document_RPsD")).then(function(){var e=Object(U["a"])(regeneratorRuntime.mark((function e(n){var s,l,u,d,p,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:s=n.docs.length,console.log("Entro"),l=0;case 3:if(!(l<t.length)){e.next=15;break}return u=Object(bo["c"])(jm,t[l].name),e.next=7,Object(bo["d"])(u,t[l]);case 7:return e.next=9,Object(bo["a"])(u);case 9:d=e.sent,Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Document_RPsD"),s.toString()),{id_alzamiento:i,id_modificacion:r,idInscripcion:c,"año_repertorio_del_contrato":(new Date).getFullYear(),numero_repertorio_RPsD:a+1,url:d,contrato:!0}),s+=1;case 12:l++,e.next=3;break;case 15:l=0;case 16:if(!(l<o.length)){e.next=28;break}return p=Object(bo["c"])(jm,o[l].name),e.next=20,Object(bo["d"])(p,o[l]);case 20:return e.next=22,Object(bo["a"])(p);case 22:m=e.sent,Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Document_RPsD"),s.toString()),{idInscripcion:i,id_alzamiento:c,id_modificacion:r,"año_repertorio_del_contrato":(new Date).getFullYear(),numero_repertorio_RPsD:a+1,url:m,contrato:!1}),s+=1;case 25:l++,e.next=16;break;case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})).then((function(){console.log("EVERYTHING ITS SEND SUCCESFULLY"),alert("Todo se ha mandado correctamente")}))}function Xd(t,o,e,n,a){var i=this,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",c=arguments.length>6?arguments[6]:void 0,s=arguments.length>7?arguments[7]:void 0,l=arguments.length>8?arguments[8]:void 0,u=arguments.length>9?arguments[9]:void 0,d=arguments.length>10?arguments[10]:void 0,p=arguments.length>11&&void 0!==arguments[11]?arguments[11]:"",m=arguments.length>12&&void 0!==arguments[12]?arguments[12]:"",g=arguments.length>13?arguments[13]:void 0,h=arguments.length>14&&void 0!==arguments[14]?arguments[14]:[],f=arguments.length>15&&void 0!==arguments[15]?arguments[15]:[],v=arguments.length>16?arguments[16]:void 0,b=arguments.length>17?arguments[17]:void 0,_=arguments.length>18?arguments[18]:void 0,j=arguments.length>19?arguments[19]:void 0,S=arguments.length>20?arguments[20]:void 0,A=arguments.length>21&&void 0!==arguments[21]?arguments[21]:"",E=arguments.length>22&&void 0!==arguments[22]?arguments[22]:"",C=arguments.length>23?arguments[23]:void 0,R=!0;if(console.log(c),9==c.length||qd(c)||(R=!1,console.log("NUMERO REPERTORIO NOTARIO FORMATO INCORRECTO"),alert("Numero repertorio notario formato incorrecto")),R){var I=null;Object(O["e"])(Object(O["a"])(_m,"Solicitud_Modificacion_Prenda")).then((function(t){I=t.docs.length,console.log(I),console.log("submit")})).then((function(){Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Solicitud_Modificacion_Prenda"),localStorage.id_revisar.toString()),{privacidadDocumento:t,fechaSuscripcion:o,fechaOtorgamientoEscritura:e,fechaProtocolizacionContratoPrivado:n,fechaAutorizacionContratoPrivado:a,numeroRepertorioNotario:c,parrafo_modificacion_generica:s,tipo_de_persona:l,nombre_acreedor:u,rut_acreedor:d,nombreRequiriente:p,runRequiriente:m,estadoPrimario:g,estadoSecundario:0,activoFijo:v,bienesAgropecuarios:b,derechosIntangibles:_,prendaVehiculo:j,nombre_notaria:r,prohibicionGravarEnajenar:S,correoRequiriente:A,fechaRequirente:E,revisorAsignado:-1,firma:!1,tipoModificacion:2,usuarioCreador:localStorage.mail}).then((function(){console.log("PAGANDO EN CAJA"),C?("FUNCIONARIOOFICINA"==localStorage.rol&&(Ud("M",I.toString(),1,localStorage.mail),setTimeout((function(){var t="http://ec2-75-101-231-83.compute-1.amazonaws.com:4033/api/checkout/pay",o='{"id_persona":"'+localStorage.rutLog+'", "numero_repertorio":"'+Td+'", "monto":'+(parseInt(Kd[2]["precio"])+parseInt(op))+"}";fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:o}).then((function(t){t.json().then((function(t){alert(t.msg),console.log("PAGADO"),Ud("M",I.toString(),2,localStorage.mail),i.redirect()}))}))}),1500)),alert("Solicitud Enviada Exitosamente")):alert("Solicitud Guardada Exitosamente")})),console.log("entros"),1==g&&(Jd(h,f,I,1),console.log("enviado"))}))}}var Kd=[];function Qd(){Object(O["e"])(Object(O["a"])(_m,"Precios")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();Kd.push(o)})),console.log(Kd)}))}var Wd=[];function tp(t){Wd=[],Object(O["e"])(Object(O["a"])(_m,"Patente_por_Inscripcion")).then((function(o){var e=o.docs;e.forEach((function(o){var e=o.data();e.idInscripcion==t&&Wd.push(e)})),console.log("AUTOS: "),console.log(Wd)}))}var op=0,ep=!1;function np(){ep=!1}var ap,ip,rp={mounted:function(){var t=this;console.log("STARTER DATA"),console.log(localStorage.id_revisar),console.log(localStorage.tipo_revisar),Zd(localStorage.id_revisar,localStorage.tipo_revisar),Qd(),np(),tp(localStorage.idSol),setTimeout((function(){t.items=[],console.log(Wd);var o=document.getElementById("monto");console.log("Enviando REQUEST"),op=0,Wd.forEach((function(o){if(op+=parseInt(Kd[8]["precio"]),1==o.inscripcionPrendaRVM){var e=new XMLHttpRequest,n="http://ec2-75-101-231-83.compute-1.amazonaws.com:4031/API/vehicles/licensePlates?patente="+o.patente;e.open("GET",n),e.send(),e.onload=function(){if(200==e.status){var t=JSON.parse(e.response);console.log("MENSAJE RECIVIDO"),console.log(t),console.log("LARGO"),console.log(t.solicitudes.length),t.solicitudes.length>0&&(ep=!0)}}}var a={patente:o.patente,rvm:o.inscripcionPrendaRVM,GoE:o.inscripcionProhibicionGravarEnajenar,costo:"-"};t.items.push(a)})),o.innerHTML="$"+(parseInt(Kd[2]["precio"])+parseInt(op))}),1e3)},name:"formularioModificacion",data:function(){return{opcion:localStorage.my_opts.split(","),username:localStorage.user,tipoDoc:"",FOtorgamiento:"",FSuscripcion:"",FAutorizacion:"",FProtocolizacion:"",RepNotaria:"",anioRepNotaria:"",ProhibGravEnajenar:!1,tipoPersona:"Natural",run:"",id:"",pais:"",rut:"",razonsocial:"",Apaterno:"",Amaterno:"",nombres:"",nombreRequirente:"",nDocRequirente:"",correoRequirente:"",fechaRequirente:this.currentDateTime(),Bienes:[],constituyentes:[{}],deudores:[{}],vehiculos:[{}],contrato:null,anexos:null}},props:{rol:{type:String,default:localStorage.rol},items:{type:Array,default:new Array}},components:{AntecedentesFormularioALZA:Fa,AcreedorFormulario:mn,VehiculoLecturaFormulario:ka,RequirenteFormulario:Wn,ContratoFormulario:Un,AnexosFormulario:Yn,Monto:ia,Menu:B,Navbar:ut},methods:{getNotaria:function(t){this.notaria=t},gettipoDoc:function(t){this.tipoDoc=t},getFOtorgamiento:function(t){this.FOtorgamiento=t},getFSuscripcion:function(t){this.FSuscripcion=t},getFAutorizacion:function(t){this.FAutorizacion=t},getFProtocolizacion:function(t){this.FProtocolizacion=t},getRepNotaria:function(t){this.RepNotaria=t},getanioRepNotaria:function(t){this.anioRepNotaria=t},getProhibGravEnajenar:function(t){this.ProhibGravEnajenar=t},gettipoPersona:function(t){this.tipoPersona=t},getrun:function(t){this.run=t},getid:function(t){this.id=t},getpais:function(t){this.pais=t},getrut:function(t){this.rut=t},getrazonsocial:function(t){this.razonsocial=t},getApaterno:function(t){this.Apaterno=t},getAmaterno:function(t){this.Amaterno=t},getnombreRequirente:function(t){this.nombreRequirente=t},getrutRequirente:function(t){this.nDocRequirente=t},getCorreoRequirente:function(t){this.correoRequirente=t},currentDateTime:function(){var t=new Date,o=t.getDate()+"-"+(t.getMonth()+1)+"-"+t.getFullYear();return o},getFechaRequirente:function(t){this.fechaRequirente=t},getnombres:function(t){this.nombres=t},getBienes:function(t){this.Bienes=t},getConstituyentes:function(t){this.constituyentes=t,console.log("Constituyentes:"+this.constituyentes)},getDeudores:function(t){this.deudores=t,console.log("Deudores:"+this.deudores)},getVehiculos:function(t){this.vehiculos=t},getContrato:function(t){this.contrato=t,console.log("Contrato:"+this.contrato)},getAnexos:function(t){this.anexos=t,console.log("Anexos:"+this.anexos)},modificar:function(t){var o=this,e=0;t&&(e="FUNCIONARIONOTARIA"==localStorage.rol?1:3);var n=new XMLHttpRequest,a="http://ec2-75-101-231-83.compute-1.amazonaws.com:4030/api/users/user?run="+this.run;n.open("GET",a),n.send(),n.onload=function(){if(200==n.status){var t=JSON.parse(n.response);t.valid&&(ep?alert("Existen patentes con solicitudes pendientes"):Xd(o.tipoDoc.toString(),o.FSuscripcion.toString(),o.FOtorgamiento.toString(),o.FProtocolizacion.toString(),o.FAutorizacion.toString(),o.notaria,(o.RepNotaria+"-"+o.anioRepNotaria).toString(),"parrafo_modificacion_generica",o.tipoPersona,o.nombres+" "+o.Apaterno+" "+o.Amaterno,o.run,o.nombreRequirente,o.nDocRequirente,e,o.contrato,o.anexos,o.Bienes[0],o.Bienes[1],o.Bienes[2],o.Bienes[3],o.ProhibGravEnajenar,o.correoRequirente,o.fechaRequirente))}}}}},cp=rp,sp=(e("c6ec"),Object(p["a"])(cp,Bd,kd,!1,null,"e0bec60a",null)),lp=sp.exports,up=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"dashboard"}},[e("Menu",{attrs:{opciones:t.opcion}}),e("Navbar",{attrs:{username:t.username}}),e("div",{staticClass:"right"},[e("h1",{attrs:{bold:""}},[t._v("PROHIBICION DE ACTO")]),"FUNCIONARIOOFICINA"==t.rol?e("RequirenteFormulario"):t._e(),e("AntecedentesFormularioALZA",{attrs:{rol:t.rol},on:{gettipoDoc:t.gettipoDoc,getFOtorgamiento:t.getFOtorgamiento,getFSuscripcion:t.getFSuscripcion,getFAutorizacion:t.getFAutorizacion,getFProtocolizacion:t.getFProtocolizacion,getRepNotaria:t.getRepNotaria,getanioRepNotaria:t.getanioRepNotaria,getProhibGravEnajenar:t.getProhibGravEnajenar,getBienes:t.getBienes,getNotaria:t.getNotaria}}),"FUNCIONARIOOFICINA"!==t.rol?e("ContratoFormulario",{on:{getContrato:t.getContrato}}):t._e(),"FUNCIONARIOOFICINA"!==t.rol?e("AnexosFormulario",{on:{getAnexos:t.getAnexos}}):t._e(),e("Monto"),e("div",{staticClass:"row d-flex justify-content-center",attrs:{id:"contenedor"}},[e("button",{staticClass:"col-2 titleButton",on:{click:function(o){return t.modificar(!1)}}},[t._v("Guardar")]),e("button",{staticClass:"col-2 titleButton",on:{click:function(o){return t.modificar(!0)}}},[t._v("Enviar")])])],1)],1)},dp=[];function pp(t){if(!t.includes("-"))return!1;t=t.split("-");var o=t[0],e=t[1],n=(new Date).getFullYear();return!isNaN(o)&&!o.includes("e")&&4==o.length&&!(e>n||isNaN(e)||e.length<4)}function mp(t,o,e,n){var a=["El pago no se realizo","Hubo intencion de pagar","Pagado"];Object(O["e"])(Object(O["a"])(_m,"Counter_N_RPsD")).then((function(n){var a=n.docs[0].data(),i=a.counter;i=i<10?"000"+i.toString():i<100?"00"+i.toString():i<1e3?"0"+i.toString():i.toString();var r=a.year;ap=i+"-"+r.toString(),console.log("RPSD: "+ap),1==e?"I"==t?Object(O["i"])(Object(O["c"])(_m,"Solicitud_Inscripcion_Prenda",o),{estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}).then((function(){console.log("ACTUALIZADO")})):"M"==t?Object(O["i"])(Object(O["c"])(_m,"Solicitud_Modificacion_Prenda",o),{estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}):"A"==t&&Object(O["i"])(Object(O["c"])(_m,"Solicitud_Alzamiento_Prenda",o),{estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}):"I"==t?Object(O["i"])(Object(O["c"])(_m,"Solicitud_Inscripcion_Prenda",o),{estadoSecundario:e}).then((function(){console.log("ACTUALIZADO")})):"M"==t?Object(O["i"])(Object(O["c"])(_m,"Solicitud_Modificacion_Prenda",o),{estadoSecundario:e}):"A"==t&&Object(O["i"])(Object(O["c"])(_m,"Solicitud_Alzamiento_Prenda",o),{estadoSecundario:e}),Object(O["i"])(Object(O["c"])(_m,"Counter_N_RPsD","0"),{counter:a.counter+1})}));var i=new Date;Object(O["e"])(Object(O["a"])(_m,"Bitacora")).then((function(r){var c=r.docs.length,s="",l="",u="";"I"==t?s=o:"M"==t?l=o:"A"==t&&(u=o),Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Bitacora"),c.toString()),{idInscripcion:s,idModificacion:l,idAlzamiento:u,idUser:n,comment:a[e],fechaCambio:i.getFullYear()+"-"+(i.getMonth()+1)+"-"+i.getDate()})}))}var gp=[],hp=[],fp=[],vp=[],bp=[],Op=[];function _p(t,o){console.log("ENTREEEEEEEE"),"I"==o?Object(O["e"])(Object(O["a"])(_m,"Solicitud_Inscripcion_Prenda")).then((function(o){var e=o.docs;e.forEach((function(o){t==o.id&&(ip=o.data(),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Document_RPsD"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();o.contrato?vp.push(o):bp.push(o)}))})).then((function(){console.log("ARCHIVOS"),console.log(vp),console.log(bp)})),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Persona_Solicitud"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();0==o.tipoContratante?gp.push(o):1==o.tipoContratante?hp.push(o):2==o.tipoContratante&&fp.push(o)}))})).then((function(){console.log("PERSONAS"),console.log(gp),console.log(hp),console.log(fp)})),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Patente_por_Inscripcion"),Object(O["j"])("idInscripcion","==",parseInt(t)))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();Op.push(o)}))})).then((function(){console.log("PATENTES"),console.log(Op),Op.forEach((function(t){console.log(t.patente),console.log(t.inscripcionPrendaRVM),console.log(t.inscripcionProhibicionGravarEnajenar),console.log(t.alzamiento)}))})))}))})).then((function(){console.log("INSCRIPCION"),console.log(Op)})):"M"==o?Object(O["e"])(Object(O["a"])(_m,"Solicitud_Modificacion_Prenda")).then((function(o){var e=o.docs;e.forEach((function(o){t==o.id&&(ip=o.data(),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Document_RPsD"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();o.contrato?vp.push(o):bp.push(o)}))})).then((function(){console.log("ARCHIVOS"),console.log(vp),console.log(bp)})))}))})).then((function(){console.log("MODIFICACION"),console.log(ip)})):"A"==o&&Object(O["e"])(Object(O["a"])(_m,"Solicitud_Alzamiento_Prenda")).then((function(o){var e=o.docs;e.forEach((function(o){t==o.id&&(ip=o.data(),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Document_RPsD"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();o.contrato?vp.push(o):bp.push(o)}))})).then((function(){console.log("ARCHIVOS"),console.log(vp),console.log(bp)})))}))})).then((function(){console.log("ALZAMIENTO"),console.log(ip)}))}function jp(t,o,e,n){var a=null,i="",r="",c="";0==n?i=e:1==n?r=e:2==n&&(c=e),Object(O["e"])(Object(O["a"])(_m,"Document_RPsD")).then((function(t){var o=t.docs.length,e=t.docs[o-1];a=e.data().numero_repertorio_RPsD})).then((function(){Object(O["e"])(Object(O["a"])(_m,"Document_RPsD")).then(function(){var e=Object(U["a"])(regeneratorRuntime.mark((function e(n){var s,l,u,d,p,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:s=n.docs.length,console.log("Entro"),l=0;case 3:if(!(l<t.length)){e.next=15;break}return u=Object(bo["c"])(jm,t[l].name),e.next=7,Object(bo["d"])(u,t[l]);case 7:return e.next=9,Object(bo["a"])(u);case 9:d=e.sent,Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Document_RPsD"),s.toString()),{id_alzamiento:i,id_modificacion:r,idInscripcion:c,"año_repertorio_del_contrato":(new Date).getFullYear(),numero_repertorio_RPsD:a+1,url:d,contrato:!0}),s+=1;case 12:l++,e.next=3;break;case 15:l=0;case 16:if(!(l<o.length)){e.next=28;break}return p=Object(bo["c"])(jm,o[l].name),e.next=20,Object(bo["d"])(p,o[l]);case 20:return e.next=22,Object(bo["a"])(p);case 22:m=e.sent,Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Document_RPsD"),s.toString()),{idInscripcion:i,id_alzamiento:c,id_modificacion:r,"año_repertorio_del_contrato":(new Date).getFullYear(),numero_repertorio_RPsD:a+1,url:m,contrato:!1}),s+=1;case 25:l++,e.next=16;break;case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})).then((function(){console.log("EVERYTHING ITS SEND SUCCESFULLY"),alert("Todo se ha mandado correctamente")}))}function Sp(t,o,e,n,a){var i=this,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",c=arguments.length>6?arguments[6]:void 0,s=arguments.length>7?arguments[7]:void 0,l=arguments.length>8?arguments[8]:void 0,u=arguments.length>9?arguments[9]:void 0,d=arguments.length>10?arguments[10]:void 0,p=arguments.length>11&&void 0!==arguments[11]?arguments[11]:"",m=arguments.length>12&&void 0!==arguments[12]?arguments[12]:"",g=arguments.length>13?arguments[13]:void 0,h=arguments.length>14&&void 0!==arguments[14]?arguments[14]:[],f=arguments.length>15&&void 0!==arguments[15]?arguments[15]:[],v=arguments.length>16?arguments[16]:void 0,b=arguments.length>17?arguments[17]:void 0,_=arguments.length>18?arguments[18]:void 0,j=arguments.length>19?arguments[19]:void 0,S=arguments.length>20?arguments[20]:void 0,A=arguments.length>21&&void 0!==arguments[21]?arguments[21]:"",E=arguments.length>22&&void 0!==arguments[22]?arguments[22]:"",C=arguments.length>23?arguments[23]:void 0,R=!0;if(console.log(c),9==c.length||pp(c)||(R=!1,console.log("NUMERO REPERTORIO NOTARIO FORMATO INCORRECTO"),alert("Numero repertorio notario formato incorrecto")),R){var I=null;Object(O["e"])(Object(O["a"])(_m,"Solicitud_Modificacion_Prenda")).then((function(t){I=t.docs.length,console.log(I),console.log("submit")})).then((function(){Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Solicitud_Modificacion_Prenda"),localStorage.id_revisar.toString()),{privacidadDocumento:t,fechaSuscripcion:o,fechaOtorgamientoEscritura:e,fechaProtocolizacionContratoPrivado:n,fechaAutorizacionContratoPrivado:a,numeroRepertorioNotario:c,parrafo_modificacion_generica:s,tipo_de_persona:l,nombre_acreedor:u,rut_acreedor:d,nombreRequiriente:p,runRequiriente:m,estadoPrimario:g,estadoSecundario:0,activoFijo:v,bienesAgropecuarios:b,derechosIntangibles:_,prendaVehiculo:j,nombre_notaria:r,prohibicionGravarEnajenar:S,correoRequiriente:A,fechaRequirente:E,revisorAsignado:-1,firma:!1,tipoModificacion:3,usuarioCreador:localStorage.mail}).then((function(){console.log("PAGANDO EN CAJA"),C?("FUNCIONARIOOFICINA"==localStorage.rol&&(mp("M",I.toString(),1,localStorage.mail),setTimeout((function(){var t="http://ec2-75-101-231-83.compute-1.amazonaws.com:4033/api/checkout/pay",o='{"id_persona":"'+localStorage.rutLog+'", "numero_repertorio":"'+ap+'", "monto":'+parseInt(Ap[2]["precio"])+"}";fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:o}).then((function(t){t.json().then((function(t){alert(t.msg),console.log("PAGADO"),mp("M",I.toString(),2,localStorage.mail),i.redirect()}))}))}),1500)),alert("Solicitud Enviada Exitosamente")):alert("Solicitud Guardada Exitosamente")})),console.log("entros"),1==g&&(jp(h,f,I,1),console.log("enviado"))}))}}var Ap=[];function Ep(){Object(O["e"])(Object(O["a"])(_m,"Precios")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();Ap.push(o)})),console.log(Ap)}))}var Cp,Rp,Ip={mounted:function(){console.log("STARTER DATA"),console.log(localStorage.id_revisar),console.log(localStorage.tipo_revisar),_p(localStorage.id_revisar,localStorage.tipo_revisar),Ep(),setTimeout((function(){console.log(ip),console.log(gp),console.log(hp),console.log(fp),console.log(vp),console.log(bp),console.log(Op);var t=document.getElementById("monto");t.innerHTML="$"+Ap[2]["precio"]}),2e3)},name:"formularioModificacion",data:function(){return{opcion:localStorage.my_opts.split(","),username:localStorage.user,tipoDoc:"",FOtorgamiento:"",FSuscripcion:"",FAutorizacion:"",FProtocolizacion:"",RepNotaria:"",anioRepNotaria:"",ProhibGravEnajenar:!1,tipoPersona:"Natural",run:"",id:"",pais:"",rut:"",razonsocial:"",Apaterno:"",Amaterno:"",nombres:"",nombreRequirente:"",nDocRequirente:"",correoRequirente:"",fechaRequirente:this.currentDateTime(),Bienes:[],constituyentes:[{}],deudores:[{}],vehiculos:[{}],contrato:null,anexos:null}},props:{rol:{type:String,default:localStorage.rol}},components:{AntecedentesFormularioALZA:Fa,RequirenteFormulario:Wn,ContratoFormulario:Un,AnexosFormulario:Yn,Monto:ia,Menu:B,Navbar:ut},methods:{getNotaria:function(t){this.notaria=t},gettipoDoc:function(t){this.tipoDoc=t},getFOtorgamiento:function(t){this.FOtorgamiento=t},getFSuscripcion:function(t){this.FSuscripcion=t},getFAutorizacion:function(t){this.FAutorizacion=t},getFProtocolizacion:function(t){this.FProtocolizacion=t},getRepNotaria:function(t){this.RepNotaria=t},getanioRepNotaria:function(t){this.anioRepNotaria=t},getProhibGravEnajenar:function(t){this.ProhibGravEnajenar=t},gettipoPersona:function(t){this.tipoPersona=t},getrun:function(t){this.run=t},getid:function(t){this.id=t},getpais:function(t){this.pais=t},getrut:function(t){this.rut=t},getrazonsocial:function(t){this.razonsocial=t},getApaterno:function(t){this.Apaterno=t},getAmaterno:function(t){this.Amaterno=t},getnombreRequirente:function(t){this.nombreRequirente=t},getrutRequirente:function(t){this.nDocRequirente=t},getCorreoRequirente:function(t){this.correoRequirente=t},currentDateTime:function(){var t=new Date,o=t.getDate()+"-"+(t.getMonth()+1)+"-"+t.getFullYear();return o},getFechaRequirente:function(t){this.fechaRequirente=t},getnombres:function(t){this.nombres=t},getBienes:function(t){this.Bienes=t},getConstituyentes:function(t){this.constituyentes=t,console.log("Constituyentes:"+this.constituyentes)},getDeudores:function(t){this.deudores=t,console.log("Deudores:"+this.deudores)},getVehiculos:function(t){this.vehiculos=t},getContrato:function(t){this.contrato=t,console.log("Contrato:"+this.contrato)},getAnexos:function(t){this.anexos=t,console.log("Anexos:"+this.anexos)},modificar:function(t){var o=0;t&&(o="FUNCIONARIONOTARIA"==localStorage.rol?1:3),Sp(this.tipoDoc.toString(),this.FSuscripcion.toString(),this.FOtorgamiento.toString(),this.FProtocolizacion.toString(),this.FAutorizacion.toString(),this.notaria,(this.RepNotaria+"-"+this.anioRepNotaria).toString(),"parrafo_modificacion_generica",this.tipoPersona,this.nombres,this.run,this.nombreRequirente,this.nDocRequirente,o,this.contrato,this.anexos,this.Bienes[0],this.Bienes[1],this.Bienes[2],this.Bienes[3],this.ProhibGravEnajenar,this.correoRequirente,this.fechaRequirente,t)}}},Pp=Ip,Np=(e("7bd9"),Object(p["a"])(Pp,up,dp,!1,null,"fb6a9c68",null)),Dp=Np.exports,yp=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"dashboard"}},[e("Menu",{attrs:{opciones:t.opcion}}),e("Navbar",{attrs:{username:t.username}}),e("div",{staticClass:"right"},[e("h1",{attrs:{bold:""}},[t._v("OTROS")]),"FUNCIONARIOOFICINA"==t.rol?e("RequirenteFormulario"):t._e(),e("AntecedentesFormularioALZA",{attrs:{rol:t.rol},on:{gettipoDoc:t.gettipoDoc,getFOtorgamiento:t.getFOtorgamiento,getFSuscripcion:t.getFSuscripcion,getFAutorizacion:t.getFAutorizacion,getFProtocolizacion:t.getFProtocolizacion,getRepNotaria:t.getRepNotaria,getanioRepNotaria:t.getanioRepNotaria,getProhibGravEnajenar:t.getProhibGravEnajenar,getBienes:t.getBienes,getNotaria:t.getNotaria}}),t._m(0),"FUNCIONARIOOFICINA"!==t.rol?e("ContratoFormulario",{on:{getContrato:t.getContrato}}):t._e(),"FUNCIONARIOOFICINA"!==t.rol?e("AnexosFormulario",{on:{getAnexos:t.getAnexos}}):t._e(),e("Monto"),e("div",{staticClass:"row d-flex justify-content-center",attrs:{id:"contenedor"}},[e("button",{staticClass:"col-2 titleButton",on:{click:function(o){return t.modificar(!1)}}},[t._v("Guardar")]),e("button",{staticClass:"col-2 titleButton",on:{click:function(o){return t.modificar(!0)}}},[t._v("Enviar")])])],1)],1)},Tp=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"mb-3",attrs:{id:"textarea"}},[e("label",{staticClass:"form-label titleFormulario",attrs:{for:"textoOTRO"}},[t._v("RESUMA EL MOTIVO DE LA MODIFICACION")]),e("textarea",{staticClass:"form-control",attrs:{id:"textoOTRO",rows:"3"}})])}];function Fp(t){if(!t.includes("-"))return!1;t=t.split("-");var o=t[0],e=t[1],n=(new Date).getFullYear();return!isNaN(o)&&!o.includes("e")&&4==o.length&&!(e>n||isNaN(e)||e.length<4)}function xp(t,o,e,n){var a=["El pago no se realizo","Hubo intencion de pagar","Pagado"];Object(O["e"])(Object(O["a"])(_m,"Counter_N_RPsD")).then((function(n){var a=n.docs[0].data(),i=a.counter;i=i<10?"000"+i.toString():i<100?"00"+i.toString():i<1e3?"0"+i.toString():i.toString();var r=a.year;Cp=i+"-"+r.toString(),console.log("RPSD: "+Cp),1==e?"I"==t?Object(O["i"])(Object(O["c"])(_m,"Solicitud_Inscripcion_Prenda",o),{estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}).then((function(){console.log("ACTUALIZADO")})):"M"==t?Object(O["i"])(Object(O["c"])(_m,"Solicitud_Modificacion_Prenda",o),{estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}):"A"==t&&Object(O["i"])(Object(O["c"])(_m,"Solicitud_Alzamiento_Prenda",o),{estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}):"I"==t?Object(O["i"])(Object(O["c"])(_m,"Solicitud_Inscripcion_Prenda",o),{estadoSecundario:e}).then((function(){console.log("ACTUALIZADO")})):"M"==t?Object(O["i"])(Object(O["c"])(_m,"Solicitud_Modificacion_Prenda",o),{estadoSecundario:e}):"A"==t&&Object(O["i"])(Object(O["c"])(_m,"Solicitud_Alzamiento_Prenda",o),{estadoSecundario:e}),Object(O["i"])(Object(O["c"])(_m,"Counter_N_RPsD","0"),{counter:a.counter+1})}));var i=new Date;Object(O["e"])(Object(O["a"])(_m,"Bitacora")).then((function(r){var c=r.docs.length,s="",l="",u="";"I"==t?s=o:"M"==t?l=o:"A"==t&&(u=o),Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Bitacora"),c.toString()),{idInscripcion:s,idModificacion:l,idAlzamiento:u,idUser:n,comment:a[e],fechaCambio:i.getFullYear()+"-"+(i.getMonth()+1)+"-"+i.getDate()})}))}function zp(t,o,e,n){var a=null,i="",r="",c="";0==n?i=e:1==n?r=e:2==n&&(c=e),Object(O["e"])(Object(O["a"])(_m,"Document_RPsD")).then((function(t){var o=t.docs.length,e=t.docs[o-1];a=e.data().numero_repertorio_RPsD})).then((function(){Object(O["e"])(Object(O["a"])(_m,"Document_RPsD")).then(function(){var e=Object(U["a"])(regeneratorRuntime.mark((function e(n){var s,l,u,d,p,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:s=n.docs.length,console.log("Entro"),l=0;case 3:if(!(l<t.length)){e.next=15;break}return u=Object(bo["c"])(jm,t[l].name),e.next=7,Object(bo["d"])(u,t[l]);case 7:return e.next=9,Object(bo["a"])(u);case 9:d=e.sent,Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Document_RPsD"),s.toString()),{id_alzamiento:i,id_modificacion:r,idInscripcion:c,"año_repertorio_del_contrato":(new Date).getFullYear(),numero_repertorio_RPsD:a+1,url:d,contrato:!0}),s+=1;case 12:l++,e.next=3;break;case 15:l=0;case 16:if(!(l<o.length)){e.next=28;break}return p=Object(bo["c"])(jm,o[l].name),e.next=20,Object(bo["d"])(p,o[l]);case 20:return e.next=22,Object(bo["a"])(p);case 22:m=e.sent,Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Document_RPsD"),s.toString()),{idInscripcion:i,id_alzamiento:c,id_modificacion:r,"año_repertorio_del_contrato":(new Date).getFullYear(),numero_repertorio_RPsD:a+1,url:m,contrato:!1}),s+=1;case 25:l++,e.next=16;break;case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})).then((function(){console.log("EVERYTHING ITS SEND SUCCESFULLY"),alert("Todo se ha mandado correctamente")}))}var Mp=[],wp=[],Bp=[],kp=[],qp=[],Up=[];function Lp(t,o){console.log("ENTREEEEEEEE"),"I"==o?Object(O["e"])(Object(O["a"])(_m,"Solicitud_Inscripcion_Prenda")).then((function(o){var e=o.docs;e.forEach((function(o){t==o.id&&(Rp=o.data(),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Document_RPsD"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();o.contrato?kp.push(o):qp.push(o)}))})).then((function(){console.log("ARCHIVOS"),console.log(kp),console.log(qp)})),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Persona_Solicitud"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();0==o.tipoContratante?Mp.push(o):1==o.tipoContratante?wp.push(o):2==o.tipoContratante&&Bp.push(o)}))})).then((function(){console.log("PERSONAS"),console.log(Mp),console.log(wp),console.log(Bp)})),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Patente_por_Inscripcion"),Object(O["j"])("idInscripcion","==",parseInt(t)))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();Up.push(o)}))})).then((function(){console.log("PATENTES"),console.log(Up),Up.forEach((function(t){console.log(t.patente),console.log(t.inscripcionPrendaRVM),console.log(t.inscripcionProhibicionGravarEnajenar),console.log(t.alzamiento)}))})))}))})).then((function(){console.log("INSCRIPCION"),console.log(Up)})):"M"==o?Object(O["e"])(Object(O["a"])(_m,"Solicitud_Modificacion_Prenda")).then((function(o){var e=o.docs;e.forEach((function(o){t==o.id&&(Rp=o.data(),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Document_RPsD"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();o.contrato?kp.push(o):qp.push(o)}))})).then((function(){console.log("ARCHIVOS"),console.log(kp),console.log(qp)})))}))})).then((function(){console.log("MODIFICACION"),console.log(Rp)})):"A"==o&&Object(O["e"])(Object(O["a"])(_m,"Solicitud_Alzamiento_Prenda")).then((function(o){var e=o.docs;e.forEach((function(o){t==o.id&&(Rp=o.data(),Object(O["e"])(Object(O["g"])(Object(O["a"])(_m,"Document_RPsD"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();o.contrato?kp.push(o):qp.push(o)}))})).then((function(){console.log("ARCHIVOS"),console.log(kp),console.log(qp)})))}))})).then((function(){console.log("ALZAMIENTO"),console.log(Rp)}))}function Gp(t,o,e,n,a){var i=this,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",c=arguments.length>6?arguments[6]:void 0,s=arguments.length>7?arguments[7]:void 0,l=arguments.length>8?arguments[8]:void 0,u=arguments.length>9?arguments[9]:void 0,d=arguments.length>10?arguments[10]:void 0,p=arguments.length>11&&void 0!==arguments[11]?arguments[11]:"",m=arguments.length>12&&void 0!==arguments[12]?arguments[12]:"",g=arguments.length>13?arguments[13]:void 0,h=arguments.length>14&&void 0!==arguments[14]?arguments[14]:[],f=arguments.length>15&&void 0!==arguments[15]?arguments[15]:[],v=arguments.length>16?arguments[16]:void 0,b=arguments.length>17?arguments[17]:void 0,_=arguments.length>18?arguments[18]:void 0,j=arguments.length>19?arguments[19]:void 0,S=arguments.length>20?arguments[20]:void 0,A=arguments.length>21&&void 0!==arguments[21]?arguments[21]:"",E=arguments.length>22&&void 0!==arguments[22]?arguments[22]:"",C=arguments.length>23?arguments[23]:void 0,R=!0;if(console.log(c),9==c.length||Fp(c)||(R=!1,console.log("NUMERO REPERTORIO NOTARIO FORMATO INCORRECTO"),alert("Numero repertorio notario formato incorrecto")),R){var I=null;Object(O["e"])(Object(O["a"])(_m,"Solicitud_Modificacion_Prenda")).then((function(t){I=t.docs.length,console.log(I),console.log("submit")})).then((function(){Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Solicitud_Modificacion_Prenda"),localStorage.id_revisar.toString()),{privacidadDocumento:t,fechaSuscripcion:o,fechaOtorgamientoEscritura:e,fechaProtocolizacionContratoPrivado:n,fechaAutorizacionContratoPrivado:a,numeroRepertorioNotario:c,parrafo_modificacion_generica:s,tipo_de_persona:l,nombre_acreedor:u,rut_acreedor:d,nombreRequiriente:p,runRequiriente:m,estadoPrimario:g,estadoSecundario:0,activoFijo:v,bienesAgropecuarios:b,derechosIntangibles:_,prendaVehiculo:j,nombre_notaria:r,prohibicionGravarEnajenar:S,correoRequiriente:A,fechaRequirente:E,revisorAsignado:-1,firma:!1,tipoModificacion:4,usuarioCreador:localStorage.mail}).then((function(){console.log("PAGANDO EN CAJA"),C?("FUNCIONARIOOFICINA"==localStorage.rol&&(xp("M",I.toString(),1,localStorage.mail),setTimeout((function(){var t="http://ec2-75-101-231-83.compute-1.amazonaws.com:4033/api/checkout/pay",o='{"id_persona":"'+localStorage.rutLog+'", "numero_repertorio":"'+Cp+'", "monto":'+parseInt(Vp[2]["precio"])+"}";fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:o}).then((function(t){t.json().then((function(t){alert(t.msg),console.log("PAGADO"),xp("M",I.toString(),2,localStorage.mail),i.redirect()}))}))}),1500)),alert("Solicitud Enviada Exitosamente")):alert("Solicitud Guardada Exitosamente")})),console.log("entros"),1==g&&(zp(h,f,I,1),console.log("enviado"))}))}}var Vp=[];function $p(){Object(O["e"])(Object(O["a"])(_m,"Precios")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();Vp.push(o)})),console.log(Vp)}))}var Hp,Yp={mounted:function(){console.log("STARTER DATA"),console.log(localStorage.id_revisar),console.log(localStorage.tipo_revisar),Lp(localStorage.id_revisar,localStorage.tipo_revisar),$p(),setTimeout((function(){console.log(Rp),console.log(Mp),console.log(wp),console.log(Bp),console.log(kp),console.log(qp),console.log(Up);var t=document.getElementById("monto");t.innerHTML="$"+Vp[2]["precio"]}),1500)},name:"formularioModificacion",data:function(){return{opcion:localStorage.my_opts.split(","),username:localStorage.user,tipoDoc:"",FOtorgamiento:"",FSuscripcion:"",FAutorizacion:"",FProtocolizacion:"",RepNotaria:"",anioRepNotaria:"",ProhibGravEnajenar:!1,tipoPersona:"Natural",run:"",id:"",pais:"",rut:"",razonsocial:"",Apaterno:"",Amaterno:"",nombres:"",nombreRequirente:"",nDocRequirente:"",correoRequirente:"",fechaRequirente:this.currentDateTime(),Bienes:[],constituyentes:[{}],deudores:[{}],vehiculos:[{}],contrato:null,anexos:null}},props:{rol:{type:String,default:localStorage.rol}},components:{AntecedentesFormularioALZA:Fa,ContratoFormulario:Un,RequirenteFormulario:Wn,AnexosFormulario:Yn,Monto:ia,Menu:B,Navbar:ut},methods:{getNotaria:function(t){this.notaria=t},gettipoDoc:function(t){this.tipoDoc=t},getFOtorgamiento:function(t){this.FOtorgamiento=t},getFSuscripcion:function(t){this.FSuscripcion=t},getFAutorizacion:function(t){this.FAutorizacion=t},getFProtocolizacion:function(t){this.FProtocolizacion=t},getRepNotaria:function(t){this.RepNotaria=t},getanioRepNotaria:function(t){this.anioRepNotaria=t},getProhibGravEnajenar:function(t){this.ProhibGravEnajenar=t},gettipoPersona:function(t){this.tipoPersona=t},getrun:function(t){this.run=t},getid:function(t){this.id=t},getpais:function(t){this.pais=t},getrut:function(t){this.rut=t},getrazonsocial:function(t){this.razonsocial=t},getApaterno:function(t){this.Apaterno=t},getAmaterno:function(t){this.Amaterno=t},getnombreRequirente:function(t){this.nombreRequirente=t},getrutRequirente:function(t){this.nDocRequirente=t},getCorreoRequirente:function(t){this.correoRequirente=t},currentDateTime:function(){var t=new Date,o=t.getDate()+"-"+(t.getMonth()+1)+"-"+t.getFullYear();return o},getFechaRequirente:function(t){this.fechaRequirente=t},getnombres:function(t){this.nombres=t},getBienes:function(t){this.Bienes=t},getConstituyentes:function(t){this.constituyentes=t,console.log("Constituyentes:"+this.constituyentes)},getDeudores:function(t){this.deudores=t,console.log("Deudores:"+this.deudores)},getVehiculos:function(t){this.vehiculos=t},getContrato:function(t){this.contrato=t,console.log("Contrato:"+this.contrato)},getAnexos:function(t){this.anexos=t,console.log("Anexos:"+this.anexos)},modificar:function(t){var o=0;t&&(o="FUNCIONARIONOTARIA"==localStorage.rol?1:3);var e=document.getElementById("textoOTRO").value;Gp(this.tipoDoc.toString(),this.FSuscripcion.toString(),this.FOtorgamiento.toString(),this.FProtocolizacion.toString(),this.FAutorizacion.toString(),this.notaria,(this.RepNotaria+"-"+this.anioRepNotaria).toString(),e,this.tipoPersona,this.nombres,this.run,this.nombreRequirente,this.nDocRequirente,o,this.contrato,this.anexos,this.Bienes[0],this.Bienes[1],this.Bienes[2],this.Bienes[3],this.ProhibGravEnajenar,this.correoRequirente,this.fechaRequirente,t)}}},Zp=Yp,Jp=(e("0fe5"),Object(p["a"])(Zp,yp,Tp,!1,null,"ac9ede7a",null)),Xp=Jp.exports,Kp=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"dashboard"}},[e("Menu",{attrs:{opciones:t.opcion}}),e("Navbar",{attrs:{username:t.username}}),e("div",{staticStyle:{padding:"50px","margin-left":"300px"}},[e("table",{staticClass:"table table-sm table-hover zui-table-rounded"},[t._m(0),t._l(t.items,(function(o,n){return e("tbody",{key:n,staticClass:"bodyTabla"},[e("tr",[e("th",{attrs:{scope:"row"}},[t._v(t._s(n+1))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.name))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.price))]),e("td",[e("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"Basic example"}},[e("button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-2",modifiers:{"modal-2":!0}}],staticClass:"btn btn-secondary",staticStyle:{"background-color":"green"},attrs:{type:"button"},on:{click:function(e){return t.setIdtoUpdate(o.ID,o.price,o.name)}}},[t._v("Editar")])])])])])}))],2),e("b-modal",{attrs:{id:"modal-2","hide-footer":""}},[e("div",{staticClass:"d-flex justify-content-center titleModal"},[t._v("Modificar Precio ")]),e("div",{staticClass:"titles d-flex justify-content-start"},[e("h6",{attrs:{id:"titlePrecio"}})]),e("div",{staticClass:"row"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        Precio\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{attrs:{id:"precio",type:"number"}})])]),e("div",{staticClass:"d-flex justify-content-center SpaceItems"})])]),e("button",{attrs:{id:"ADDNOTARIA"},on:{click:function(o){return t.update()}}},[t._v("Modificar Precio")])])],1)],1)},Qp=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("thead",{staticStyle:{color:"white","background-color":"#514BD5"}},[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("#")]),e("th",{attrs:{scope:"col"}},[t._v("Nombre")]),e("th",{attrs:{scope:"col"}},[t._v("Precio")]),e("th",{attrs:{scope:"col"}})])])}],Wp=[];function tm(){Object(O["e"])(Object(O["a"])(_m,"Precios")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();Wp.push([t.id,o])})),console.log(Wp)}))}var om={mounted:function(){this.rellenarTabla()},data:function(){return{opcion:localStorage.my_opts.split(","),items:[]}},name:"Dashboard",components:{Menu:B,Navbar:ut},methods:{rellenarTabla:function(){var t=this;this.items=[],Wp=[],tm(),setTimeout((function(){Wp.forEach((function(o){var e={name:o[1]["nombre"],price:o[1]["precio"],ID:o[0]};t.items.push(e)}))}),1e3)},setIdtoUpdate:function(t,o,e){Hp=t,setTimeout((function(){document.getElementById("titlePrecio").innerHTML=e,document.getElementById("precio").value=o}),300)},update:function(){var t=this,o=document.getElementById("precio").value,e=document.getElementById("titlePrecio").innerHTML;Object(O["h"])(Object(O["c"])(Object(O["a"])(_m,"Precios"),Hp),{nombre:e,precio:o}),setTimeout((function(){t.rellenarTabla()}),1500)}}},em=om,nm=(e("c80d"),Object(p["a"])(em,Kp,Qp,!1,null,"281fc528",null)),am=nm.exports,im=[{path:"/",name:"Login",component:D},{path:"/Dashboard/:rol/:username",name:"Dashboard",component:pe,props:!0},{path:"/Dashboard/:rol/:username/Usuarios",name:"usuariosAdmin",component:Ce,props:!0},{path:"/Dashboard/:rol/:username/Notarias",name:"notariasAdmin",component:ke,props:!0},{path:"/Dashboard/:rol/:username/Oficinas",name:"oficinasAdmin",component:Ke,props:!0},{path:"/Dashboard/:rol/:username/Inscripciondecontratodeprendas",name:"Inscripciondecontratodeprendas",component:ha,props:!0},{path:"/Dashboard/:rol/:username/Alzamientodecontratodeprendas",name:"Alzamientodecontratodeprendas",component:Aa,props:!0},{path:"/Dashboard/:rol/:username/solicitudAlzamiento",name:"solicitudAlzamiento",component:ai,props:!0},{path:"/Dashboard/:rol/:username/FormularioModificacionALZPARCIAL",name:"FormularioModificacionALZPARCIAL",component:Ni,props:!0},{path:"/Dashboard/:rol/:username/FormularioModificacionCAMBIOACREEDOR",name:"FormularioModificacionCAMBIOACREEDOR",component:Yi,props:!0},{path:"/Dashboard/:rol/:username/FormularioModificacionOTRO",name:"FormularioModificacionOTRO",component:rr,props:!0},{path:"/Dashboard/:rol/:username/FormularioModificacionPROHIBACTO",name:"FormularioModificacionPROHIBACTO",component:br,props:!0},{path:"/Dashboard/:rol/:username/Modificaciondecontratodeprendas",name:"Modificaciondecontratodeprendas",component:Rr,props:!0},{path:"/Dashboard/:rol/:username/Buscador",name:"Buscador",component:vs,props:!0},{path:"/Dashboard/REVISOR/:username/ComprobanteSolicutud",name:"ComprobanteSolicutud",component:sc,props:!0},{path:"/Dashboard/:rol/:username/Busqueda",name:"Buscador",component:vs,props:!0},{path:"/Dashboard/:rol/:username/RecepcionSolicitudes",name:"BuscadorDocsReceptor",component:Ns,props:!0},{path:"/Dashboard/:rol/:username/Tareas",name:"Tareas",component:pe,props:!0},{path:"/Dashboard/JEFEDESERVICIO/:username/Informes",name:"InformeSolicitudes",component:pe,props:!0},{path:"/Dashboard/:rol/:username/MisSolicitudes",name:"MisSolicitudes",component:pe,props:!0},{path:"/Dashboard/:rol/:username/RevisionDoc",name:"RevisionDocumentoNotario",component:sl,props:!0},{path:"/Dashboard/:rol/:username/RevisionDocumentosJefeRevisor",name:"RevisionDocumentosJefeRevisor",component:lu,props:!0},{path:"/Dashboard/:rol/:username/RevisionDocumentosRevisor",name:"RevisionDocumentosRevisor",component:Ml,props:!0},{path:"/Dashboard/PAGADOR/:username/PagosPendientes",name:"PagosPendientes",component:pe,props:!0},{path:"/Dashboard/PAGADOR/:username/ResumendePagos",name:"ResumendePagos",component:pe,props:!0},{path:"/Dashboard/RECEPTOR/:username/RecepcionSolicitudes",name:"ResumendePagos",component:pe,props:!0},{path:"/Dashboard/:rol/:username/InscripciondecontratodeprendasEdit",name:"InscripciondecontratodeprendasEdit",component:Bu,props:!0},{path:"/Dashboard/:rol/:username/solicitudAlzamientoEdit",name:"solicitudAlzamiento",component:dd,props:!0},{path:"/Dashboard/:rol/:username/solicitudModificacion1Edit",name:"solicitudModificacion1",component:wd,props:!0},{path:"/Dashboard/:rol/:username/solicitudModificacion2Edit",name:"solicitudModificacion2",component:lp,props:!0},{path:"/Dashboard/:rol/:username/solicitudModificacion3Edit",name:"solicitudModificacion3",component:Dp,props:!0},{path:"/Dashboard/:rol/:username/solicitudModificacion4Edit",name:"solicitudModificacion4",component:Xp,props:!0},{path:"/Dashboard/:rol/:username/Parametros",name:"Dashboard",component:am,props:!0},{path:"*",name:"catchAll",component:D}],rm=new h["a"]({mode:"history",routes:im});c["default"].use(h["a"]);var cm=rm,sm=e("5f5b"),lm=e("b1e0"),um=e("ecee"),dm=e("c074"),pm=e("ad3d"),mm=e("bc3a"),gm=e.n(mm),hm=e("130e"),fm=e("260b");e("f9e3"),e("2dd8");um["c"].add(dm["a"],dm["b"]),c["default"].component("font-awesome-icon",pm["a"]),c["default"].config.productionTip=!1;var vm={apiKey:"AIzaSyA9gBWMZotZCouSnpNI3nve6lETyp0JWsQ",authDomain:"prendas-98afc.firebaseapp.com",databaseURL:"https://prendas-98afc-default-rtdb.firebaseio.com",projectId:"prendas-98afc",storageBucket:"prendas-98afc.appspot.com",messagingSenderId:"275877377208",appId:"1:275877377208:web:cbf8c0ebc77f8788a0704d",measurementId:"G-C1D2PNB3M3"},bm=Object(fm["a"])(vm),Om=Object(b["b"])(bm),_m=Object(O["f"])(bm),jm=Object(bo["b"])();new c["default"]({router:cm,render:function(t){return t(g)}}).$mount("#app"),c["default"].config.productionTip=!1,c["default"].use(sm["a"]),c["default"].use(lm["a"]),c["default"].use(hm["a"],gm.a)},5784:function(t,o,e){},"5b12":function(t,o,e){"use strict";e("b62c")},"5fdf":function(t,o,e){},6028:function(t,o,e){},6148:function(t,o,e){"use strict";e("2c60")},"61f8":function(t,o,e){"use strict";e("244b")},"676e":function(t,o,e){},"69d5":function(t,o,e){},"6b59":function(t,o,e){},"6c31":function(t,o,e){},"6fb1":function(t,o,e){"use strict";e("f4ff")},"727b":function(t,o,e){},"72d6":function(t,o,e){},"737c":function(t,o,e){},"73cb":function(t,o,e){},"755e":function(t,o,e){"use strict";e("4714")},7939:function(t,o,e){"use strict";e("afb5")},"7bd9":function(t,o,e){"use strict";e("947b")},"7dda":function(t,o,e){"use strict";e("4dc4")},"7de3":function(t,o,e){},"7e6d":function(t,o,e){"use strict";e("5fdf")},"7f88":function(t,o,e){"use strict";e("73cb")},8054:function(t,o,e){"use strict";e("bc6b")},8281:function(t,o,e){t.exports=e.p+"img/LogoDelRegistroCivil.05860d1b.png"},8417:function(t,o,e){"use strict";e("f923")},8943:function(t,o,e){"use strict";e("37e4")},"8b36":function(t,o,e){},"91b1":function(t,o,e){"use strict";e("9c35")},"923e":function(t,o,e){"use strict";e("cfd9")},"947b":function(t,o,e){},"94c6":function(t,o,e){},"97e3":function(t,o,e){},"996a":function(t,o,e){"use strict";e("ae44")},"9b9c":function(t,o,e){},"9c35":function(t,o,e){},"9c38":function(t,o,e){},"9f4d":function(t,o,e){},a05b:function(t,o,e){"use strict";e("fad3")},a0fa:function(t,o,e){"use strict";e("542a")},ae44:function(t,o,e){},af7b:function(t,o,e){},afb5:function(t,o,e){},b274:function(t,o,e){},b27b:function(t,o,e){"use strict";e("b274")},b5e0:function(t,o,e){"use strict";e("c963")},b62c:function(t,o,e){},b653:function(t,o,e){},b79c:function(t,o,e){},b81e:function(t,o,e){"use strict";e("72d6")},bc6b:function(t,o,e){},bd36:function(t,o,e){"use strict";e("d2dd")},c037:function(t,o,e){"use strict";e("46ef")},c295:function(t,o,e){},c37c:function(t,o,e){},c6ec:function(t,o,e){"use strict";e("c37c")},c80d:function(t,o,e){"use strict";e("0775")},c963:function(t,o,e){},cae5:function(t,o,e){},cc69:function(t,o,e){"use strict";e("97e3")},cda9:function(t,o,e){"use strict";e("c295")},cfd9:function(t,o,e){},d00d:function(t,o,e){},d061:function(t,o,e){"use strict";e("4f8c")},d2a7:function(t,o,e){"use strict";e("f4ac")},d2dd:function(t,o,e){},d3b3:function(t,o,e){"use strict";e("5138")},dbd6:function(t,o,e){"use strict";e("52bc")},dcc1:function(t,o,e){},df9f:function(t,o,e){},e477:function(t,o,e){"use strict";e("4040")},eb80:function(t,o,e){"use strict";e("727b")},eccb:function(t,o,e){"use strict";e("6028")},f26a:function(t,o,e){"use strict";e("676e")},f2ab:function(t,o,e){"use strict";e("35b9")},f49b:function(t,o,e){"use strict";e("b79c")},f4ac:function(t,o,e){},f4ff:function(t,o,e){},f66e:function(t,o,e){"use strict";e("6c31")},f747:function(t,o,e){"use strict";e("69d5")},f923:function(t,o,e){},fad3:function(t,o,e){},fc6f:function(t,o,e){"use strict";e("07aa")}});
//# sourceMappingURL=app.e56a5069.js.map