(function(t){function o(o){for(var n,r,c=o[0],s=o[1],l=o[2],u=0,p=[];u<c.length;u++)r=c[u],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&p.push(a[r][0]),a[r]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n]);d&&d(o);while(p.length)p.shift()();return i.push.apply(i,l||[]),e()}function e(){for(var t,o=0;o<i.length;o++){for(var e=i[o],n=!0,r=1;r<e.length;r++){var s=e[r];0!==a[s]&&(n=!1)}n&&(i.splice(o--,1),t=c(c.s=e[0]))}return t}var n={},a={app:0},i=[];function r(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-11761ac6":"c2bb3431","chunk-2d216214":"a631c492"}[t]+".js"}function c(o){if(n[o])return n[o].exports;var e=n[o]={i:o,l:!1,exports:{}};return t[o].call(e.exports,e,e.exports,c),e.l=!0,e.exports}c.e=function(t){var o=[],e=a[t];if(0!==e)if(e)o.push(e[2]);else{var n=new Promise((function(o,n){e=a[t]=[o,n]}));o.push(e[2]=n);var i,s=document.createElement("script");s.charset="utf-8",s.timeout=120,c.nc&&s.setAttribute("nonce",c.nc),s.src=r(t);var l=new Error;i=function(o){s.onerror=s.onload=null,clearTimeout(u);var e=a[t];if(0!==e){if(e){var n=o&&("load"===o.type?"missing":o.type),i=o&&o.target&&o.target.src;l.message="Loading chunk "+t+" failed.\n("+n+": "+i+")",l.name="ChunkLoadError",l.type=n,l.request=i,e[1](l)}a[t]=void 0}};var u=setTimeout((function(){i({type:"timeout",target:s})}),12e4);s.onerror=s.onload=i,document.head.appendChild(s)}return Promise.all(o)},c.m=t,c.c=n,c.d=function(t,o,e){c.o(t,o)||Object.defineProperty(t,o,{enumerable:!0,get:e})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,o){if(1&o&&(t=c(t)),8&o)return t;if(4&o&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(c.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&o&&"string"!=typeof t)for(var n in t)c.d(e,n,function(o){return t[o]}.bind(null,n));return e},c.n=function(t){var o=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(o,"a",o),o},c.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},c.p="/",c.oe=function(t){throw console.error(t),t};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=o,s=s.slice();for(var u=0;u<s.length;u++)o(s[u]);var d=l;i.push([0,"chunk-vendors"]),e()})({0:function(t,o,e){t.exports=e("56d7")},"0151":function(t,o,e){"use strict";e("bd60")},"034f":function(t,o,e){"use strict";e("9f4d")},"0467":function(t,o,e){},"04b9":function(t,o,e){"use strict";e("2348")},"04d7":function(t,o,e){"use strict";e("af7b")},"05af":function(t,o,e){"use strict";e("5176")},"0775":function(t,o,e){},"0e08":function(t,o,e){"use strict";e("dcc1")},"0f2c":function(t,o,e){},1053:function(t,o,e){"use strict";e("6b59")},"10a8":function(t,o,e){"use strict";e("d00d")},"11e1":function(t,o,e){},"13c9":function(t,o,e){},"143e":function(t,o,e){"use strict";e("9709")},"15d6":function(t,o,e){},"16ca":function(t,o,e){},1741:function(t,o,e){"use strict";e("5784")},"1ab6":function(t,o,e){"use strict";e("3ee2")},"1dc2":function(t,o,e){"use strict";e("15d6")},"1de5":function(t,o,e){},2348:function(t,o,e){},"239b":function(t,o,e){},2593:function(t,o,e){},"260f":function(t,o,e){},"2dcb":function(t,o,e){},"316a":function(t,o,e){},"34ac":function(t,o,e){"use strict";e("2593")},"35f8":function(t,o,e){},"36b6":function(t,o,e){"use strict";e("0f2c")},"373d":function(t,o,e){"use strict";e("2dcb")},3762:function(t,o,e){"use strict";e("c05f")},"39cf":function(t,o,e){"use strict";e("3d4d")},"3a10":function(t,o,e){"use strict";e("df9f")},"3b53":function(t,o,e){},"3be6":function(t,o,e){"use strict";e("16ca")},"3d4d":function(t,o,e){},"3e1b":function(t,o,e){"use strict";e("7e65")},"3ee2":function(t,o,e){},"3f00":function(t,o,e){},4040:function(t,o,e){},"429d":function(t,o,e){},4714:function(t,o,e){},"4bd6":function(t,o,e){},"4ec2":function(t,o,e){},"503b":function(t,o,e){"use strict";e("7de3")},5176:function(t,o,e){},"52bc":function(t,o,e){},"56d7":function(t,o,e){"use strict";e.r(o),e.d(o,"auth",(function(){return Sh})),e.d(o,"db",(function(){return Eh})),e.d(o,"storage",(function(){return Ih}));e("e260"),e("e6cf"),e("cca6"),e("a79d");var n,a,i,r,c=e("2b0e"),s=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},l=[],u={name:"App"},d=u,p=(e("034f"),e("2877")),m=Object(p["a"])(d,s,l,!1,null,null,null),h=m.exports,g=e("8c4f"),f=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"contenedor"},[t._m(0),e("div",{staticClass:"user-title-letter"},[t._v("\n        Ingrese Usuario y Contraseña\n    ")]),e("div",{attrs:{id:"inputs"}},[e("div",{staticClass:"row"},[e("form",{on:{submit:function(o){return o.preventDefault(),t.Login.apply(null,arguments)}}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"fadeIn second",attrs:{type:"text",id:"username",name:"login",placeholder:"Usuario"},domProps:{value:t.username},on:{input:function(o){o.target.composing||(t.username=o.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"fadeIn third",attrs:{type:"password",id:"password",name:"login",placeholder:"Contraseña"},domProps:{value:t.password},on:{input:function(o){o.target.composing||(t.password=o.target.value)}}}),e("input",{staticClass:"fadeIn fourth",attrs:{type:"submit",value:"Entrar"},on:{click:function(o){t.getNotarias(),t.getRegiones(),t.getComunas(),t.getOficinas()}}})]),e("p",{attrs:{type:"button"},on:{click:function(o){return t.RecuperarPass()}}},[t._v("Olvidaste tu Contraseña?")]),e("p",[t._v("Para ayuda, favor contáctese con nuestro")]),e("p",[t._v("Call Center ")]),t.error?e("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v("\n        "+t._s(t.error_msg)+"\n        ")]):t._e()])])])},v=[function(){var t=this,o=t.$createElement,n=t._self._c||o;return n("div",{staticClass:"row navbar"},[n("div",{staticClass:"col-3"},[n("img",{attrs:{src:e("8281"),alt:"dog",width:"100px",height:"100px"}})]),n("div",{staticClass:"col row navbar-letter"},[n("div",{staticClass:"bienvenida-navbar"},[t._v("\n                Bienvenido (a)\n            ")]),n("div",{staticClass:"title-navbar"},[t._v("\n                REGISTRO DE PRENDAS\n            ")]),n("div",{staticClass:"title-navbar"},[t._v("\n                SIN DESPLAZAMIENTO\n            ")])])])}],b=(e("159b"),e("99af"),e("ea7b")),O=e("e71f"),_=e("8baf"),j=e("c0e9"),S=e.n(j),E=[],I=[],R=[],C=[],A={name:"App",components:{},props:{msg:String},data:function(){return{username:"",password:"",error:!1,error_msg:""}},methods:{Login:function(){var t=this,o=this.username,e=this.password;""==this.username||""==this.password?(this.error=!0,this.error_msg="Debe llenar todos los campos"):Object(b["d"])(Sh,o,e).then((function(){Object(O["e"])(Object(O["a"])(Eh,"Usuario")).then((function(e){return e.forEach((function(e){var c=e.data();if(c.mail==o&&c.abogado_activo){switch(t.username=c.username,t.rol=c.rol,a=c.mail,n=c.nombre,i=c.rol,r=c.NotariaID,i){case"FUNCIONARIONOTARIA":localStorage.esoficina=0;break;case"NOTARIO":localStorage.esoficina=0;break;case"PAGADOR":localStorage.esoficina=0;break;case"FUNCIONARIOOFICINA":localStorage.esoficina=1;break;default:localStorage.esoficina=0;break}localStorage.mail=a,localStorage.user=n,localStorage.rol=i,console.log("|"+localStorage.rol+"|"),localStorage.rutLog=c.rut,localStorage.notaria=r,localStorage.mis_regiones=JSON.stringify(I),localStorage.mis_comunas=JSON.stringify(R),localStorage.mis_notarias=JSON.stringify(E),localStorage.mis_oficinas=JSON.stringify(C),console.log("MIS OFICINAS"),console.log(C),t.username=c.nombre,t.$router.push({path:"/Dashboard/".concat(i,"/").concat(n),params:{username:n,rol:i}})}}))}))})).catch((function(o){var e;switch(t.error=!0,o.message){case"Firebase: Error (auth/invalid-email).":e="Email Invalido";break;case"Firebase: Error (auth/user-not-found).":e="Email Invalido";break;case"Firebase: Error (auth/wrong-password).":e="Contraseña Invalida";break;case"Firebase: Access to this account has been temporarily disabled due to many failed login attempts. You can immediately restore it by resetting your password or you can try again later. (auth/too-many-requests).":e="Tu cuenta ha sido bloqueada temporalmente por muchos intentos de ingreso fallidos.";break}t.error_msg=e}))},RecuperarPass:function(){Object(b["c"])(Sh,this.username).then((function(){alert("Se ha enviado un correo con el link para que recupere su Contraseña ")})).catch((function(t){var o=t.code,e=t.message;alert(o+" "+e)}))},getNotarias:function(){Object(O["e"])(Object(O["a"])(Eh,"Notarias")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data(),e={direccion:o["direccion"],id_comuna:o["id_comuna"],notario:o["nombre_notario"],rut:o["rut_notario"],organizacion:o["nombre_organizacion"]};E.push(e)}))}))},getOficinas:function(){Object(O["e"])(Object(O["a"])(Eh,"Oficina")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data(),e={direccion:o["direccion"],id_comuna:o["id_comuna"],encargado:o["nombre_encargado"],rut:o["rut_encargado"],organizacion:o["nombre_organizacion"]};C.push(e)}))}))},getRegiones:function(){Object(O["e"])(Object(O["a"])(Eh,"Regiones")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();console.log("REGIONXD");var e={nombre:o["nombre"]};I.push(e)})),console.log("MIS REGIONES"),console.log(I)}))},getComunas:function(){Object(O["e"])(Object(O["a"])(Eh,"Comunas")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data(),e={nombre:o["nombre"]};R.push(e)}))}))},download:function(){console.log("aquiiijhajsjdhjas");var t=new _["a"],o=this.$refs.content.innerHTML;t.html(o,{callback:function(t){t.save("sample.pdf")}}),console.log("aquiii")},downloadWithCSS:function(){var t=new _["a"],o=document.createElement("canvas");S()(this.$refs.content,{scale:1},{canvas:o}).then((function(o){var e=o.toDataURL("image/jpeg",.8);t.addImage(e,"JPEG",20,20,120,120),t.save("sample.pdf")}))}}},P=A,N=(e("b27b"),Object(p["a"])(P,f,v,!1,null,"5ad7167a",null)),D=N.exports,y=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"dashboard"}},[e("Menu",{attrs:{opciones:t.opcion}}),e("Navbar",{attrs:{username:t.username}}),e("div",{staticClass:"right"},["REVISOR"==t.rol?e("TablaRevisor"):t._e(),"REVISOR"==t.rol?e("TablaRevisor2"):t._e(),"JEFEDESERVICIO"==t.rol?e("TablaJefeServicioRechazadas"):t._e(),"JEFEDESERVICIO"==t.rol?e("TablaJefeServicio2"):t._e(),"RECEPTOR"==t.rol?e("TablaRecepcionDocumento"):t._e(),"NOTARIO"==t.rol?e("MisSolicitudesNotario"):t._e(),"PAGADOR"==t.rol?e("PagosPendientes"):t._e(),"FUNCIONARIONOTARIA"==t.rol?e("MisSolicitudesFuncionarioNotaria"):t._e(),"FUNCIONARIOOFICINA"==t.rol?e("MisSolicitudesFuncionarioNotaria"):t._e(),"ADMIN"==t.rol?e("div",{attrs:{id:"textoadmin"}},[t._m(0)]):t._e()],1)],1)},T=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("p",[e("b",[t._v("Bienvenido Administrador, aqui podra editar, agregar o desabilitar USUARIOS, NOTARIAS Y OFICINAS.\n        Tambien podra editar algunos parametros Basicos del funcionamiento del sistema.")])])}],F=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"menu"}},[e("div",{staticClass:"border"},[e("div",{staticClass:"otro"},t._l(t.opciones,(function(o,n){return e("div",{key:n,class:[t.opcionesClass(n),"style-opciones"]},[e("span",{staticClass:"opciones",on:{click:function(o){return t.selectAnswer(n)}}},[t._v(t._s(o)+" ")])])})),0)])])},M=[],x=(e("5b81"),{name:"Menu",data:function(){return{selectedIndex:null,answered:!1}},props:{opciones:Array,username:{type:String,default:localStorage.user},rol:{type:String,default:localStorage.rol}},methods:{selectAnswer:function(t){this.selectedIndex=t},opcionesClass:function(t){var o="",e=this.opciones[t].replaceAll(" ","");return this.answered||this.selectedIndex!==t?this.answered&&this.correctIndex===t&&(o="correct"):(o="selected",this.$router.push({path:"/Dashboard/".concat(localStorage.rol,"/").concat(localStorage.user,"/").concat(e),params:{username:localStorage.user,rol:localStorage.rol,opciones:e}})),o}}}),z=x,w=(e("f66e"),Object(p["a"])(z,F,M,!1,null,"092fba86",null)),B=w.exports,k=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"row",attrs:{id:"contenedor"},on:{"":function(t){}}},[e("table",{staticClass:"table"},[t._m(0),t._l(t.items,(function(o,n){return e("tbody",{key:n,staticClass:"bodyTabla"},[e("td",[t._v(t._s(o.Rep))]),e("td",[t._v(t._s(o.Fecha))]),e("th",[t._v(t._s(o.Tipo))]),e("td",[e("p",{staticClass:"titleFormulario"},[t._v(t._s(o.Estado)+" ")])]),e("td",[e("a",{staticClass:"logout",on:{click:function(e){return t.obtain_id_go(o.ID,o.Tipo,o.Mod)}}},[e("font-awesome-icon",{staticStyle:{"margin-right":"5px"},attrs:{icon:"file-download"}})],1)])])}))],2)])},q=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("thead",{staticClass:"encabezadoTabla"},[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("N° Rep Notaria")]),e("th",{attrs:{scope:"col"}},[t._v("Fecha")]),e("th",{attrs:{scope:"col"}},[t._v("Tipo")]),e("th",{attrs:{scope:"col"}},[t._v("Estado")]),e("th",{attrs:{scope:"col"}})])])}],L=e("1da1"),U=(e("96cf"),[]),G=[],$=[],V=localStorage.user,H="/Dashboard/"+localStorage.rol+"/"+V+"/InscripciondecontratodeprendasEdit",Y="/Dashboard/"+localStorage.rol+"/"+V+"/solicitudAlzamientoEdit",J="/Dashboard/"+localStorage.rol+"/"+V+"/solicitudModificacion1Edit",Z="/Dashboard/"+localStorage.rol+"/"+V+"/solicitudModificacion2Edit",W="/Dashboard/"+localStorage.rol+"/"+V+"/solicitudModificacion3Edit",X="/Dashboard/"+localStorage.rol+"/"+V+"/solicitudModificacion4Edit";function K(t,o){"I"==t?Object(O["i"])(Object(O["d"])(Object(O["a"])(Eh,"Solicitud_Inscripcion_Prenda",o)),{firma:!0}).then((function(){console.log("FIRMADO")})):"M"==t?Object(O["i"])(Object(O["d"])(Object(O["a"])(Eh,"Solicitud_Modificacion_Prenda",o)),{firma:!0}):"A"==t&&Object(O["i"])(Object(O["d"])(Object(O["a"])(Eh,"Solicitud_Alzamiento_Prenda",o)),{firma:!0})}function Q(t,o){return tt.apply(this,arguments)}function tt(){return tt=Object(L["a"])(regeneratorRuntime.mark((function t(o,e){var n,a,i,r,c=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=c.length>2&&void 0!==c[2]?c[2]:"T",a=c.length>3&&void 0!==c[3]?c[3]:-1,i=c.length>4&&void 0!==c[4]?c[4]:"",r=c.length>5&&void 0!==c[5]?c[5]:"","T"!=n&&"I"!=n||Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Inscripcion_Prenda")).then((function(t){var n=t.docs;n.forEach((function(t){var n=t.data();n.estadoPrimario!=o||n.estadoSecundario!=e||""!=r&&n.notaria!=r||""!=i&&n.oficina!=i||n.usuarioCreador!=a&&-1!=a||U.push([t.id,n])}))})).then((function(){console.log("INSCRIPCIONES ENCONTRADAS"),console.log(U)})),"T"!=n&&"M"!=n||Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Modificacion_Prenda")).then((function(t){var n=t.docs;n.forEach((function(t){var n=t.data();n.estadoPrimario!=o||n.estadoSecundario!=e||""!=r&&n.notaria!=r||""!=i&&n.oficina!=i||n.usuarioCreador!=a&&-1!=a||G.push([t.id,n])}))})).then((function(){console.log("MODIFICACIONES ENCONTRADAS"),console.log(G)})),"T"!=n&&"A"!=n||Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Alzamiento_Prenda")).then((function(t){var n=t.docs;n.forEach((function(t){var n=t.data();n.estadoPrimario!=o||n.estadoSecundario!=e||""!=r&&n.notaria!=r||""!=i&&n.oficina!=i||n.usuarioCreador!=a&&-1!=a||$.push([t.id,n])}))})).then((function(){console.log("ALZAMIENTOS ENCONTRADOS"),console.log($)}));case 7:case"end":return t.stop()}}),t)}))),tt.apply(this,arguments)}var ot={mounted:function(){this.clean(),this.rellenarTabla()},name:"MisSolicitudesNotario",data:function(){return{items:[],thread:["N° Rep. Notaria","Fecha","Estado"],username:localStorage.mail,inscripciones_encontradas:U,modificaciones_encontradas:G,alzamientos_encontrados:$}},methods:{obtain_id_go:function(t,o,e){var n=this;setTimeout((function(){switch(console.log("NOIZ ID"),console.log(t),localStorage.id_revisar=t,console.log("TIPO"),console.log(o),localStorage.tipo_revisar=o,console.log("TIPO"),console.log(o),e){case 1:n.$router.push({path:H});break;case 2:n.$router.push({path:Y});break;case 3:n.$router.push({path:J});break;case 4:n.$router.push({path:Z});break;case 5:n.$router.push({path:W});break;case 6:n.$router.push({path:X});break}}),2e3)},clean:function(){this.items.length=0,this.inscripciones_encontradas.length=0,this.modificaciones_encontradas.length=0,this.alzamientos_encontrados.length=0},rellenarTabla:function(){var t=this;console.log("DATADTA"),console.log(localStorage.mail),Q(0,0,"T",localStorage.mail),Q(2,0,"T",localStorage.mail),console.log(this.items),console.log("DATADTA"),console.log("-----------------------------------"),console.log(this.items),console.log(this.inscripciones_encontradas),console.log(this.modificaciones_encontradas),console.log(this.alzamientos_encontrados),console.log("-----------------------------------"),setTimeout((function(){var o;(console.log("relleno tabla"),t.inscripciones_encontradas.length>0)&&(console.log(t.inscripciones_encontradas),t.inscripciones_encontradas.forEach((function(e){console.log("ESTADO SOLICIUTD: "+e[1]["estadoPrimario"]),o=0==e[1]["estadoPrimario"]?"Edicion":"Rechazo Notaria";var n={Rep:e[1]["numeroRepertorioContratoPrenda"],Funcionario:e[1]["usuarioCreador"],Fecha:e[1]["fechaRequirente"],Estado:o,ID:e[0],Tipo:"I",Mod:1};console.log(n),console.log(t.items),t.items.push(n)})));t.modificaciones_encontradas.length>0&&t.modificaciones_encontradas.forEach((function(e){o=0==e[1]["estadoPrimario"]?"Edicion":"Rechazo Notaria";var n={Rep:e[1]["numeroRepertorioNotario"],Funcionario:e[1]["usuarioCreador"],Fecha:e[1]["fechaRequirente"],Estado:o,ID:e[0],Tipo:"M",Mod:2+e[1]["tipoModificacion"]};t.items.push(n)})),t.alzamientos_encontrados.length>0&&t.alzamientos_encontrados.forEach((function(e){o=0==e[1]["estadoPrimario"]?"Edicion":"Rechazo Notaria";var n={Rep:e[1]["numeroRepertorioNotario"],Funcionario:e[1]["usuarioCreador"],Fecha:e[1]["fechaRequirente"],Estado:o,ID:e[0],Tipo:"A",Mod:2};t.items.push(n)})),console.log("MY ITEMS"),console.log(t.items)}),1e3)},firmardoc:function(){K()}}},et=ot,nt=(e("a3da"),Object(p["a"])(et,k,q,!1,null,"7287dbfd",null)),at=nt.exports,it=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"navbar"}},[t._m(0),e("div",{staticClass:"col-5"},[e("span",{staticClass:"username username-background"},[t._v(t._s(t.username)+" "),e("router-link",{staticClass:"logout",attrs:{to:"/"}},[e("font-awesome-icon",{staticStyle:{"margin-right":"5px"},attrs:{icon:"door-open"}})],1)],1)]),e("div",{staticClass:"col"})])},rt=[function(){var t=this,o=t.$createElement,n=t._self._c||o;return n("div",{staticClass:"col-3 logo"},[n("img",{staticClass:"logo",attrs:{src:e("8281"),alt:"dog",width:"100px",height:"100px"}})])}],ct={name:"Navbar",props:{username:String}},st=ct,lt=(e("04b9"),Object(p["a"])(st,it,rt,!1,null,"0e0f8d76",null)),ut=lt.exports,dt=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"TablaRevisor"}},[e("h1",{staticClass:"title",staticStyle:{color:"#514BD5"}},[t._v("Solicitudes No Asignadas")]),e("div",{staticStyle:{padding:"50px","margin-left":"300px"}},[e("table",{staticClass:"table table-sm table-hover zui-table-rounded"},[t._m(0),t._l(t.items,(function(o,n){return e("tbody",{key:n,staticClass:"bodyTabla"},[e("tr",[e("th",[t._v(t._s(o.Rep))]),e("th",[t._v(t._s(o.Not))]),e("th",[t._v(t._s(o.Oficina))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.Fecha))]),e("td",[e("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"Basic example"}},["Pagado"==o.Estado?e("th",{staticClass:"rounded-pill",staticStyle:{"padding-left":"5px","padding-right":"5px","background-color":"grey"}},[t._v(t._s(o.Estado))]):t._e(),"Por pagar"==o.Estado?e("th",{staticClass:"rounded-pill",staticStyle:{"padding-left":"5px","padding-right":"5px","background-color":"red"}},[t._v(t._s(o.Estado))]):t._e()])]),e("td",[e("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"Basic example"}},[e("th",{staticClass:"rounded-pill",staticStyle:{"padding-left":"5px","padding-right":"5px","background-color":"grey"},attrs:{type:"button"}},[t._v("Sin Asignar")]),e("th"),e("th"),e("th",{staticClass:"rounded-circle",staticStyle:{"padding-left":"10px","padding-right":"10px","background-color":"yellow"},attrs:{type:"button"},on:{click:function(o){return t.AsignarSolicitud(n)}}},[t._v("+")])])])])])}))],2)])])},pt=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("thead",{staticStyle:{color:"white","background-color":"#514BD5"}},[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("N° Rep Prenda")]),e("th",{attrs:{scope:"col"}},[t._v("N° Rep Notaria")]),e("th",{attrs:{scope:"col"}},[t._v("Oficina/Notaria")]),e("th",{attrs:{scope:"col"}},[t._v("Fecha")]),e("th",{attrs:{scope:"col"}},[t._v("Estado")]),e("th",{attrs:{scope:"col"}},[t._v("Acciones")])])])}],mt=(e("d3b7"),e("25f0"),e("a434"),[]),ht=[],gt=[],ft=[],vt=[],bt=[];function Ot(t){return _t.apply(this,arguments)}function _t(){return _t=Object(L["a"])(regeneratorRuntime.mark((function t(o){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:"T"!=o&&"I"!=o||Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Inscripcion_Prenda")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();4==o.estadoPrimario&&o.estadoSecundario>=1&&mt.push([t.id,o])}))})).then((function(){mt.forEach((function(t){Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Inspeccion_inscripcion"),Object(O["j"])("solicitudId","==",t[0]))).then((function(o){var e=o.docs;0==e.length&&ht.push([t[0],t[1]])}))})),console.log("INSCRIPCIONES ENCONTRADAS"),console.log(mt)})),"T"!=o&&"M"!=o||Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Modificacion_Prenda")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();4==o.estadoPrimario&&o.estadoSecundario>=1&&gt.push([t.id,o])}))})).then((function(){gt.forEach((function(t){Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Inspeccion_modificacion"),Object(O["j"])("solicitudId","==",t[0]))).then((function(o){var e=o.docs;0==e.length&&ft.push([t[0],t[1]])}))})),console.log("MODIFICACIONES ENCONTRADAS"),console.log(gt)})),"T"!=o&&"A"!=o||Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Alzamiento_Prenda")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();4==o.estadoPrimario&&o.estadoSecundario>=1&&vt.push([t.id,o])}))})).then((function(){vt.forEach((function(t){Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Inspeccion_alzamiento"),Object(O["j"])("solicitudId","==",t[0]))).then((function(o){var e=o.docs;0==e.length&&bt.push([t[0],t[1]])}))})),console.log("Alzamientos ENCONTRADAS"),console.log(vt)}));case 3:case"end":return t.stop()}}),t)}))),_t.apply(this,arguments)}function jt(t,o,e){"I"==o?(console.log("Subir "+t),Object(O["e"])(Object(O["a"])(Eh,"Inspeccion_inscripcion")).then((function(o){var n=o.docs.length+1;Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Inspeccion_inscripcion"),n.toString()),{solicitudId:t,userId:e,comment:"",fechaRevision:""})}))):"M"==o?Object(O["e"])(Object(O["a"])(Eh,"Inspeccion_modificacion")).then((function(o){var n=o.docs.length+1;Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Inspeccion_modificacion"),n.toString()),{solicitudId:t,userId:e,comment:"",fechaRevision:""})})):"A"==o&&Object(O["e"])(Object(O["a"])(Eh,"Inspeccion_alzamiento")).then((function(o){var n=o.docs.length+1;Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Inspeccion_alzamiento"),n.toString()),{solicitudId:t,userId:e,comment:"",fechaRevision:""})}))}var St={mounted:function(){this.clean(),this.rellenarTabla()},name:"TablaRevisor",data:function(){return{items:[],thread:["N° Rep. Notaria","Funcionario","Fecha","Estado"],username:localStorage.user,inscripciones_encontradas:ht,modificaciones_encontradas:ft,alzamientos_encontrados:bt,emailUser:localStorage.mail}},methods:{rellenarTabla:function(){var t=this;console.log("relleno tabla"),Ot("T"),setTimeout((function(){var o;(console.log("Timeout Enter"),t.inscripciones_encontradas.length>0)&&(console.log(t.inscripciones_encontradas),t.inscripciones_encontradas.forEach((function(e){o=2!=e[1]["estadoSecundario"]?"Por pagar":"Pagado";var n={id:e[0],Rep:e[1]["numeroRepertorioContratoPrenda"],Not:e[1]["numeroRepertorioNotario"],Oficina:e[1]["oficina"],Funcionario:e[1]["usuarioCreador"],Fecha:e[1]["fechaRequirente"],Estado:o,Tipo:"I"};console.log(n),console.log(t.items),t.items.push(n)})));t.modificaciones_encontradas.length>0&&t.modificaciones_encontradas.forEach((function(e){o=2!=e[1]["estadoSecundario"]?"Por pagar":"Pagado";var n={id:e[0],Rep:e[1]["numeroRepertorioContratoPrenda"],Not:e[1]["numeroRepertorioNotario"],Oficina:e[1]["oficina"],Funcionario:e[1]["usuarioCreador"],Fecha:e[1]["fechaRequirente"],Estado:o,Tipo:"M"};t.items.push(n)})),t.alzamientos_encontrados.length>0&&t.alzamientos_encontrados.forEach((function(e){o=2!=e[1]["estadoSecundario"]?"Por pagar":"Pagado";var n={id:e[0],Rep:e[1]["numeroRepertorioContratoPrenda"],Not:e[1]["numeroRepertorioNotario"],Oficina:e[1]["oficina"],Funcionario:e[1]["usuarioCreador"],Fecha:e[1]["fechaRequirente"],Estado:o,Tipo:"A"};t.items.push(n)})),console.log(t.items)}),3e3)},clean:function(){this.items.length=0,this.inscripciones_encontradas.length=0,this.modificaciones_encontradas.length=0,this.alzamientos_encontrados.length=0,mt.length=0,gt.length=0,vt.length=0},AsignarSolicitud:function(t){var o=this.items[t];jt(o.id,o.Tipo,this.emailUser),this.items.splice(t,1)}}},Et=St,It=(e("69d5"),Object(p["a"])(Et,dt,pt,!1,null,"60c0991c",null)),Rt=It.exports,Ct=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"TablaRevisor"}},[e("h1",{staticClass:"title",staticStyle:{color:"#514BD5"}},[t._v("Mis Solicitudes")]),e("div",{staticStyle:{padding:"50px","margin-left":"300px"}},[e("table",{staticClass:"table table-sm table-hover zui-table-rounded"},[t._m(0),t._l(t.items,(function(o,n){return e("tbody",{key:n,staticClass:"bodyTabla"},[e("tr",[e("th",[t._v(t._s(o.Rep))]),e("th",[t._v(t._s(o.Not))]),e("th",[t._v(t._s(o.Oficina))]),e("th",[t._v(t._s(o.Fecha))]),e("td",[e("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"Basic example"}},["Pagado"==o.Estado?e("th",{staticClass:"rounded-pill",staticStyle:{"padding-left":"5px","padding-right":"5px","background-color":"grey"}},[t._v(t._s(o.Estado))]):t._e(),"Por pagar"==o.Estado?e("th",{staticClass:"rounded-pill",staticStyle:{"padding-left":"5px","padding-right":"5px","background-color":"red"}},[t._v(t._s(o.Estado))]):t._e()])]),e("td",[e("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"Basic example"}},[e("th",{staticClass:"rounded-pill",staticStyle:{"padding-left":"5px","padding-right":"5px","background-color":"grey"},attrs:{type:"button"},on:{click:function(e){return t.obtain_id_judge(o.id,o.Tipo,o.Estado)}}},[t._v("Revisar")]),e("th",{staticClass:"rounded-pill",staticStyle:{"padding-left":"10px","padding-right":"10px","background-color":"grey"},attrs:{type:"button"},on:{click:function(o){return t.LiberarSolicitud(n)}}},[t._v("Liberar")])])])])])}))],2)])])},At=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("thead",{staticStyle:{color:"white","background-color":"#514BD5"}},[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("N° Rep Prenda")]),e("th",{attrs:{scope:"col"}},[t._v("N° Rep Notaria")]),e("th",{attrs:{scope:"col"}},[t._v("Oficina/Notaria")]),e("th",{attrs:{scope:"col"}},[t._v("Fecha")]),e("th",{attrs:{scope:"col"}},[t._v("Estado")]),e("th",{attrs:{scope:"col"}},[t._v("Acciones")]),e("th")])])}],Pt=[],Nt=[],Dt=[],yt=localStorage.user;function Tt(t){return Ft.apply(this,arguments)}function Ft(){return Ft=Object(L["a"])(regeneratorRuntime.mark((function t(o){var e,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=[],n=[],a=[],console.log("lol"),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Inspeccion_inscripcion"),Object(O["j"])("userId","==",o))).then((function(t){var o=t.docs;o.forEach((function(t){null==t.data().aprovRevisor&&e.push(t.data().solicitudId)}))})).then((function(){e.forEach((function(t){Object(O["d"])(Object(O["c"])(Eh,"Solicitud_Inscripcion_Prenda",t)).then((function(o){var e=o.data(),n=[t,e];Pt.push(n)}))}))})),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Inspeccion_modificacion"),Object(O["j"])("userId","==",o))).then((function(t){var o=t.docs;o.forEach((function(t){null==t.data().aprovRevisor&&n.push(t.data().solicitudId)}))})).then((function(){n.forEach((function(t){Object(O["d"])(Object(O["c"])(Eh,"Solicitud_Modificacion_Prenda",t)).then((function(o){var e=o.data(),n=[t,e];Nt.push(n),console.log(e)}))}))})),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Inspeccion_alzamiento"),Object(O["j"])("userId","==",o))).then((function(t){var o=t.docs;o.forEach((function(t){null==t.data().aprovRevisor&&a.push(t.data().solicitudId)}))})).then((function(){a.forEach((function(t){Object(O["d"])(Object(O["c"])(Eh,"Solicitud_Alzamiento_Prenda",t)).then((function(o){var e=o.data(),n=[t,e];Dt.push(n),console.log(e)}))}))}));case 7:case"end":return t.stop()}}),t)}))),Ft.apply(this,arguments)}function Mt(t,o,e){"I"==o?Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Inspeccion_inscripcion"),Object(O["j"])("userId","==",e))).then((function(o){var e=o.docs;e.forEach((function(o){var e=o.data();e.solicitudId==t&&Object(O["i"])(Object(O["c"])(Eh,"Inspeccion_inscripcion",o.id),{userId:-1})}))})):"M"==o?Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Inspeccion_modificacion"),Object(O["j"])("userId","==",e))).then((function(o){var n=o.docs;n.forEach((function(o){var n=o.data();n.solicitudId==t&&n.userId==e&&Object(O["i"])(Object(O["c"])(Object(O["c"])(Eh,"Inspeccion_modificacion",o.id)),{userId:-1})}))})):"A"==o&&Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Inspeccion_alzamiento"),Object(O["j"])("userId","==",e))).then((function(o){var n=o.docs;n.forEach((function(o){var n=o.data();n.solicitudId==t&&n.userId==e&&Object(O["i"])(Object(O["c"])(Object(O["c"])(Eh,"Inspeccion_alzamiento",o.id)),{userId:-1})}))}))}var xt={mounted:function(){this.clean(),this.rellenarTabla()},name:"TablaRevisor",data:function(){return{items:[],thread:["N° Rep. Notaria","Funcionario","Fecha","Estado"],username:localStorage.user,inscripciones_encontradas:Pt,modificaciones_encontradas:Nt,alzamientos_encontrados:Dt,emailUser:localStorage.mail}},methods:{rellenarTabla:function(){var t=this;console.log("relleno tabla"),Tt(this.emailUser),setTimeout((function(){var o;(console.log("esto es lo que busco"),console.log(t.inscripciones_encontradas.length),t.inscripciones_encontradas.length>0)&&(console.log("shdasjd"),console.log(t.inscripciones_encontradas),t.inscripciones_encontradas.forEach((function(e){o=2!=e[1]["estadoSecundario"]?"Por pagar":"Pagado";var n={id:e[0],Rep:e[1]["numeroRepertorioContratoPrenda"],Not:e[1]["numeroRepertorioNotario"],Oficina:e[1]["oficina"],Funcionario:e[1]["usuarioCreador"],Fecha:e[1]["fechaRequirente"],Estado:o,Tipo:"I"};console.log(n),console.log(t.items),t.items.push(n)})));t.modificaciones_encontradas.length>0&&t.modificaciones_encontradas.forEach((function(e){o=2!=e[1]["estadoSecundario"]?"Por pagar":"Pagado";var n={id:e[0],Rep:e[1]["numeroRepertorioContratoPrenda"],Not:e[1]["numeroRepertorioNotario"],Oficina:e[1]["oficina"],Funcionario:e[1]["usuarioCreador"],Fecha:e[1]["fechaRequirente"],Estado:o,Tipo:"M"};t.items.push(n)})),t.alzamientos_encontrados.length>0&&t.alzamientos_encontrados.forEach((function(e){o=2!=e[1]["estadoSecundario"]?"Por pagar":"Pagado";var n={id:e[0],Rep:e[1]["numeroRepertorioContratoPrenda"],Not:e[1]["numeroRepertorioNotario"],Oficina:e[1]["oficina"],Funcionario:e[1]["usuarioCreador"],Fecha:e[1]["fechaRequirente"],Estado:o,Tipo:"A"};t.items.push(n)})),console.log(t.items)}),3e3)},LiberarSolicitud:function(t){var o=this.items[t];Mt(o.id,o.Tipo,this.emailUser),this.items.splice(t,1)},clean:function(){this.items.length=0,this.inscripciones_encontradas.length=0,this.modificaciones_encontradas.length=0,this.alzamientos_encontrados.length=0},obtain_id_judge:function(t,o,e){console.log("NOIZ ID"),console.log(t),localStorage.id_judge=t,localStorage.tipo_judge=o,localStorage.pagado=e,this.$router.push({path:"/Dashboard/REVISOR/"+yt+"/RevisionDocumentosRevisor"})}}},zt=xt,wt=(e("b552"),Object(p["a"])(zt,Ct,At,!1,null,"5153bbc3",null)),Bt=wt.exports,kt=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"TablaRevisor"}},[e("h1",{staticClass:"d-flex justify-content-center",staticStyle:{color:"#514BD5"}},[t._v("Solicitudes")]),e("div",{staticStyle:{padding:"50px","margin-left":"300px"}},[e("table",{staticClass:"table table-sm table-hover zui-table-rounded"},[e("thead",{staticStyle:{color:"white","background-color":"#514BD5"},on:{dblclick:function(o){return t.rellenarTabla()}}},[t._m(0)]),t._l(t.items,(function(o,n){return e("tbody",{key:n,staticClass:"bodyTabla"},[e("tr",[e("th",{attrs:{scope:"row"}},[t._v(t._s(o.Rep))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.Not))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.Oficina))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.Fecha))]),"I"==o.Tipo?e("th",[t._v("Inscripción")]):t._e(),"M"==o.Tipo?e("th",[t._v("Modificación")]):t._e(),"A"==o.Tipo?e("th",[t._v("Alzamiento")]):t._e(),e("td",[e("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"Basic example"}},[e("th",{staticClass:"status"},[t._v(t._s(o.Estado))])])]),e("td",{staticClass:"d-flex justify-content-center"},[e("div",{staticClass:"tamanoTipoDocumento "},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.tipoDoc,expression:"tipoDoc"}],staticClass:"form-select",attrs:{id:"asignado"},on:{change:[function(o){var e=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.tipoDoc=o.target.multiple?e:e[0]},function(o){return t.changeOption(n,o)}]}},t._l(t.revisores,(function(o,n){return e("option",{key:n,domProps:{value:o.mail}},[t._v(t._s(o.mail))])})),0)])])])])}))],2)])])},qt=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("tr",[e("th",{attrs:{scope:"col"}},[t._v("N° Rep Prenda")]),e("th",{attrs:{scope:"col"}},[t._v("N° Rep Notaria")]),e("th",{attrs:{scope:"col"}},[t._v("Oficina/Notaria")]),e("th",{attrs:{scope:"col"}},[t._v("Fecha")]),e("th",{attrs:{scope:"col"}},[t._v("Tipo")]),e("th",{attrs:{scope:"col"}},[t._v("Estado")]),e("th",{attrs:{scope:"col"}},[t._v("Asignar")])])}],Lt=[],Ut=[],Gt=[],$t=[],Vt=[],Ht=[],Yt=[];function Jt(t,o,e){"I"==o?(console.log("Subir "+t),Object(O["e"])(Object(O["a"])(Eh,"Inspeccion_inscripcion")).then((function(o){var n=o.docs.length+1;Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Inspeccion_inscripcion"),n.toString()),{solicitudId:t,userId:e,comment:"",fechaRevision:""})}))):"M"==o?Object(O["e"])(Object(O["a"])(Eh,"Inspeccion_modificacion")).then((function(o){var n=o.docs.length+1;Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Inspeccion_modificacion"),n.toString()),{solicitudId:t,userId:e,comment:"",fechaRevision:""})})):"A"==o&&Object(O["e"])(Object(O["a"])(Eh,"Inspeccion_alzamiento")).then((function(o){var n=o.docs.length+1;Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Inspeccion_alzamiento"),n.toString()),{solicitudId:t,userId:e,comment:"",fechaRevision:""})}))}function Zt(){Object(O["e"])(Object(O["a"])(Eh,"Usuario")).then((function(t){t.docs.forEach((function(t){"REVISOR"==t.data().rol&&Yt.push(t.data())}))}))}function Wt(t){return Xt.apply(this,arguments)}function Xt(){return Xt=Object(L["a"])(regeneratorRuntime.mark((function t(o){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:"T"!=o&&"I"!=o||Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Inscripcion_Prenda")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();4==o.estadoPrimario&&o.estadoSecundario>=1&&Lt.push([t.id,o])}))})).then((function(){Lt.forEach((function(t){Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Inspeccion_inscripcion"),Object(O["j"])("solicitudId","==",t[0]))).then((function(o){var e=o.docs;0==e.length&&Ut.push([t[0],t[1]])}))})),console.log("INSCRIPCIONES ENCONTRADAS"),console.log(Lt)})),"T"!=o&&"M"!=o||Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Modificacion_Prenda")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();4==o.estadoPrimario&&o.estadoSecundario>=1&&Gt.push([t.id,o])}))})).then((function(){Gt.forEach((function(t){Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Inspeccion_modificacion"),Object(O["j"])("solicitudId","==",t[0]))).then((function(o){var e=o.docs;0==e.length&&$t.push([t[0],t[1]])}))})),console.log("MODIFICACIONES ENCONTRADAS"),console.log(Gt)})),"T"!=o&&"A"!=o||Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Alzamiento_Prenda")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();4==o.estadoPrimario&&o.estadoSecundario>=1&&Vt.push([t.id,o])}))})).then((function(){Vt.forEach((function(t){Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Inspeccion_alzamiento"),Object(O["j"])("solicitudId","==",t[0]))).then((function(o){var e=o.docs;0==e.length&&Ht.push([t[0],t[1]])}))})),console.log("Alzamientos ENCONTRADAS"),console.log(Vt)}));case 3:case"end":return t.stop()}}),t)}))),Xt.apply(this,arguments)}var Kt={mounted:function(){this.clean(),this.rellenarTabla(),console.log("START->"),Zt()},data:function(){return{items:[],thread:["N° Rep. Notaria","Funcionario","Fecha","Estado"],username:localStorage.user,inscripciones_encontradas:Ut,modificaciones_encontradas:$t,alzamientos_encontrados:Ht,emailUser:localStorage.mail,revisores:Yt}},name:"TablaRevisor",props:{opcion:Array,rol:{type:String,default:"REVISOR"}},methods:{changeOption:function(t,o){var e=this;console.log("POG");var n=this.items[t];Jt(n.id,n.Tipo,o.target.value),setTimeout((function(){e.$router.go()}),1e3),console.log(o.target.value)},rellenarTabla:function(){var t=this;console.log("relleno tabla"),Wt("T"),setTimeout((function(){var o;t.inscripciones_encontradas.length>0&&(console.log(t.inscripciones_encontradas),t.inscripciones_encontradas.forEach((function(e){o=1==e[1]["estadoPrimario"]?"Por Firmar":"Notif. Rechazo";var n={id:e[0],Rep:e[1]["numeroRepertorioNotario"],Funcionario:e[1]["usuarioCreador"],Fecha:e[1]["fechaRequirente"],Estado:o,Tipo:"I"};console.log(n),console.log(t.items),t.items.push(n)})));t.modificaciones_encontradas.length>0&&t.modificaciones_encontradas.forEach((function(e){o=1==e[1]["estadoPrimario"]?"Por Firmar":"Notif. Rechazo";var n={id:e[0],Rep:e[1]["numeroRepertorioNotario"],Funcionario:e[1]["usuarioCreador"],Fecha:e[1]["fechaRequirente"],Estado:o,Tipo:"I"};t.items.push(n)})),t.alzamientos_encontrados.length>0&&t.alzamientos_encontrados.forEach((function(e){o=1==e[1]["estadoPrimario"]?"Por Firmar":"Notif. Rechazo";var n={id:e[0],Rep:e[1]["numeroRepertorioNotario"],Funcionario:e[1]["usuarioCreador"],Fecha:e[1]["fechaRequirente"],Estado:o,Tipo:"I"};t.items.push(n)})),console.log(t.items)}),3e3)},clean:function(){this.items.length=0,this.inscripciones_encontradas.length=0,this.modificaciones_encontradas.length=0,this.alzamientos_encontrados.length=0,Lt.length=0,Gt.length=0,Vt.length=0}}},Qt=Kt,to=(e("7813"),Object(p["a"])(Qt,kt,qt,!1,null,"19a544cc",null)),oo=to.exports,eo=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"TablaRevisor"}},[e("h1",{staticClass:"d-flex justify-content-center",staticStyle:{color:"#514BD5"}},[t._v("Rechazadas")]),e("div",{staticStyle:{padding:"50px","margin-left":"300px"}},[e("table",{staticClass:"table table-sm table-hover zui-table-rounded"},[e("thead",{staticStyle:{color:"white","background-color":"#514BD5"},on:{dblclick:function(o){return t.rellenarTabla()}}},[t._m(0)]),t._l(t.items,(function(o,n){return e("tbody",{key:n,staticClass:"bodyTabla"},[e("tr",[e("th",{attrs:{scope:"row"}},[t._v(t._s(o.Rep))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.Not))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.Oficina))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.Fecha))]),"I"==o.Tipo?e("th",[t._v("Inscripción")]):t._e(),"M"==o.Tipo?e("th",[t._v("Modificación")]):t._e(),"A"==o.Tipo?e("th",[t._v("Alzamiento")]):t._e(),e("td",[e("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"Basic example"}},[e("th",{staticClass:"status"},[t._v(t._s(o.Estado))])])]),e("th",{staticClass:"rounded-pill",staticStyle:{"padding-left":"5px","padding-right":"5px","background-color":"grey"},attrs:{type:"button"},on:{click:function(e){return t.obtain_id_judge(o.id,o.Tipo)}}},[t._v("Revisar")])])])}))],2)])])},no=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("tr",[e("th",{attrs:{scope:"col"}},[t._v("N° Rep Prenda")]),e("th",{attrs:{scope:"col"}},[t._v("N° Rep Notaria")]),e("th",{attrs:{scope:"col"}},[t._v("Oficina/Notaria")]),e("th",{attrs:{scope:"col"}},[t._v("Fecha")]),e("th",{attrs:{scope:"col"}},[t._v("Tipo")]),e("th",{attrs:{scope:"col"}},[t._v("Estado")]),e("th")])}],ao=[],io=[],ro=[],co=localStorage.user,so="/Dashboard/"+localStorage.rol+"/"+co+"/RevisionDocumentosJefeRevisor";function lo(t){return uo.apply(this,arguments)}function uo(){return uo=Object(L["a"])(regeneratorRuntime.mark((function t(o){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:"T"!=o&&"I"!=o||Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Inscripcion_Prenda")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();6==o.estadoPrimario&&o.estadoSecundario>=1&&ao.push([t.id,o])}))})),"T"!=o&&"M"!=o||Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Modificacion_Prenda")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();6==o.estadoPrimario&&o.estadoSecundario>=1&&io.push([t.id,o])}))})),"T"!=o&&"A"!=o||Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Alzamiento_Prenda")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();6==o.estadoPrimario&&o.estadoSecundario>=1&&ro.push([t.id,o])}))}));case 3:case"end":return t.stop()}}),t)}))),uo.apply(this,arguments)}var po={mounted:function(){this.clean(),this.rellenarTabla()},name:"TablaRevisor",props:{opcion:Array,rol:{type:String,default:"REVISOR"}},data:function(){return{items:[],thread:["N° Rep. Notaria","Funcionario","Fecha","Estado"],username:localStorage.user,inscripciones_encontradas:ao,modificaciones_encontradas:io,alzamientos_encontrados:ro,emailUser:localStorage.mail}},methods:{rellenarTabla:function(){var t=this;console.log("relleno tabla"),lo("T"),setTimeout((function(){var o;t.inscripciones_encontradas.length>0&&(console.log(t.inscripciones_encontradas),t.inscripciones_encontradas.forEach((function(e){o=1==e[1]["estadoPrimario"]?"Por Firmar":"Notif. Rechazo";var n={id:e[0],Rep:e[1]["numeroRepertorioContratoPrenda"],Not:e[1]["numeroRepertorioNotario"],Oficina:e[1]["oficina"],Fecha:e[1]["fechaRequirente"],Estado:o,Tipo:"I"};console.log(n),console.log(t.items),t.items.push(n)})));t.modificaciones_encontradas.length>0&&t.modificaciones_encontradas.forEach((function(e){o=1==e[1]["estadoPrimario"]?"Por Firmar":"Notif. Rechazo";var n={id:e[0],Rep:e[1]["numeroRepertorioContratoPrenda"],Not:e[1]["numeroRepertorioNotario"],Oficina:e[1]["oficina"],Fecha:e[1]["fechaRequirente"],Estado:o,Tipo:"I"};t.items.push(n)})),t.alzamientos_encontrados.length>0&&t.alzamientos_encontrados.forEach((function(e){o=1==e[1]["estadoPrimario"]?"Por Firmar":"Notif. Rechazo";var n={id:e[0],Rep:e[1]["numeroRepertorioContratoPrenda"],Not:e[1]["numeroRepertorioNotario"],Oficina:e[1]["oficina"],Fecha:e[1]["fechaRequirente"],Estado:o,Tipo:"I"};t.items.push(n)})),console.log(t.items)}),3e3)},clean:function(){this.items.length=0,this.inscripciones_encontradas.length=0,this.modificaciones_encontradas.length=0,this.alzamientos_encontrados.length=0},obtain_id_judge:function(t,o){console.log("NOIZ ID"),console.log(t),localStorage.id_judge=t,localStorage.tipo_judge=o,this.$router.push({path:so})}}},mo=po,ho=(e("6e3f"),Object(p["a"])(mo,eo,no,!1,null,"4ed06f7f",null)),go=ho.exports,fo=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"TablaTipo"}},[e("div",{staticStyle:{padding:"50px","margin-left":"300px"}},[e("table",{staticClass:"table table-sm table-hover zui-table-rounded"},[t._m(0),t._l(t.items,(function(o,n){return e("tbody",{key:n,staticClass:"bodyTabla"},[e("tr",[e("th",[t._v(t._s(o.Rep))]),e("th",[t._v(t._s(o.Not))]),e("th",[t._v(t._s(o.Tipo))]),e("th",[t._v(t._s(o.Oficina))]),e("th",[t._v(t._s(o.Fecha))]),e("th",[e("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-6",modifiers:{"modal-6":!0}}],staticClass:"col buttonAdd d-flex justify-content-center"},[e("font-awesome-icon",{staticStyle:{"margin-right":"5px"},attrs:{icon:"file-download"},on:{click:function(o){return t.changeIndex(n)}}})],1)],1)])])}))],2)]),e("b-modal",{staticStyle:{width:"80px"},attrs:{id:"modal-6","hide-footer":""}},[e("div",{staticClass:"row"},[e("div",{staticClass:"titleFormulario col"},[t._v("Contrato")]),e("div",{staticClass:"input-group mb-3 "},[e("label",{attrs:{for:"anexos"}}),e("input",{staticClass:"form-control",attrs:{type:"file",id:"contrato"}})])]),e("div",{staticClass:"row"},[e("div",{staticClass:"titleFormulario col"},[t._v("Anexos")]),e("div",{staticClass:"input-group mb-3 "},[e("label",{attrs:{for:"anexos"}}),e("input",{staticClass:"form-control",attrs:{type:"file",multiple:"",id:"anexos"}})])]),e("b-button",{attrs:{id:"SubirArchivos"},on:{click:function(o){return t.add()}}},[t._v("Adjuntar Archivos")])],1)],1)},vo=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("thead",{staticStyle:{color:"white","background-color":"#514BD5"}},[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("N° Rep de Prenda")]),e("th",{attrs:{scope:"col"}},[t._v("N° Rep de Notaria")]),e("th",{attrs:{scope:"col"}},[t._v("Tipo")]),e("th",{attrs:{scope:"col"}},[t._v("Oficina")]),e("th",{attrs:{scope:"col"}},[t._v("Fecha")]),e("th",{attrs:{scope:"col"}},[t._v("Adjuntar doc")])])])}],bo=(e("b0c0"),e("588e")),Oo=[],_o=[],jo=[];function So(t,o){return Eo.apply(this,arguments)}function Eo(){return Eo=Object(L["a"])(regeneratorRuntime.mark((function t(o,e){var n,a,i,r,c=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=c.length>2&&void 0!==c[2]?c[2]:"T",a=c.length>3&&void 0!==c[3]?c[3]:-1,i=c.length>4&&void 0!==c[4]?c[4]:"",r=c.length>5&&void 0!==c[5]?c[5]:"","T"!=n&&"I"!=n||Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Inscripcion_Prenda")).then((function(t){console.log("I FOUND THIS INSCRIPTION");var n=t.docs;n.forEach((function(t){console.log("LOL TIME");var n=t.data();n.estadoPrimario!=o||n.estadoSecundario!=e||""!=r&&n.notaria!=r||""!=i&&n.oficina!=i||(console.log("MOMENTOSO"),n.usuarioCreador!=a&&-1!=a||Oo.push([t.id,n]))}))})).then((function(){console.log("INSCRIPCIONES ENCONTRADAS"),console.log(Oo)})),"T"!=n&&"M"!=n||Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Modificacion_Prenda")).then((function(t){console.log("I FOUND THIS MODIFICATION");var n=t.docs;n.forEach((function(t){console.log("LOL TIME");var n=t.data();n.estadoPrimario!=o||n.estadoSecundario!=e||""!=r&&n.notaria!=r||""!=i&&n.oficina!=i||(console.log("MOMENTOSO"),n.usuarioCreador!=a&&-1!=a||_o.push([t.id,n]))}))})).then((function(){console.log("MODIFICACIONES ENCONTRADAS"),console.log(_o)})),"T"!=n&&"A"!=n||Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Alzamiento_Prenda")).then((function(t){console.log("I FOUND THIS ALZ");var n=t.docs;n.forEach((function(t){var n=t.data();console.log("LOL TIME"),n.estadoPrimario!=o||n.estadoSecundario!=e||""!=r&&n.notaria!=r||""!=i&&n.oficina!=i||(console.log("MOMENTOSO"),n.usuarioCreador!=a&&-1!=a||jo.push([t.id,n]))}))})).then((function(){console.log("INSCRIPCIONES ENCONTRADAS"),console.log(jo)}));case 7:case"end":return t.stop()}}),t)}))),Eo.apply(this,arguments)}function Io(t,o,e,n){var a=null,i="",r="",c="";0==n?i=e:1==n?r=e:2==n&&(c=e),Object(O["e"])(Object(O["a"])(Eh,"Document_RPsD")).then((function(t){var o=t.docs.length,e=t.docs[o-1];a=e.data().numero_repertorio_RPsD})).then((function(){Object(O["e"])(Object(O["a"])(Eh,"Document_RPsD")).then(function(){var e=Object(L["a"])(regeneratorRuntime.mark((function e(n){var s,l,u,d,p,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log(n.docs.length),s=n.docs.length,console.log("Entro"),console.log("contrato"),console.log(t),console.log(o),l=0;case 7:if(!(l<t.length)){e.next=20;break}return console.log("estoy dent"),u=Object(bo["c"])(Ih,t[l].name),e.next=12,Object(bo["d"])(u,t[l]);case 12:return e.next=14,Object(bo["a"])(u);case 14:d=e.sent,Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Document_RPsD"),s.toString()),{id_alzamiento:i,id_modificacion:r,idInscripcion:c,"año_repertorio_del_contrato":(new Date).getFullYear(),numero_repertorio_RPsD:a+1,url:d,contrato:!0}),s+=1;case 17:l++,e.next=7;break;case 20:l=0;case 21:if(!(l<o.length)){e.next=34;break}return console.log("estoy dent2"),p=Object(bo["c"])(Ih,o[l].name),e.next=26,Object(bo["d"])(p,o[l]);case 26:return e.next=28,Object(bo["a"])(p);case 28:m=e.sent,Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Document_RPsD"),s.toString()),{idInscripcion:i,id_alzamiento:r,id_modificacion:c,"año_repertorio_del_contrato":(new Date).getFullYear(),numero_repertorio_RPsD:a+1,url:m,contrato:!1}),s+=1;case 31:l++,e.next=21;break;case 34:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})).then((function(){console.log("EVERYTHING ITS SEND SUCCESFULLY")}))}function Ro(t,o,e,n){var a=["El pago no se realizo","Hubo intencion de pagar","Pagado"];Object(O["e"])(Object(O["a"])(Eh,"Counter_N_RPsD")).then((function(n){var a=n.docs[0].data(),i=a.counter;i=i<10?"000"+i.toString():i<100?"00"+i.toString():i<1e3?"0"+i.toString():i.toString();var r=a.year;2==e?"I"==t?Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Inscripcion_Prenda",o),{estadoPrimario:4,estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}).then((function(){console.log("ACTUALIZADO")})):"M"==t?Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Modificacion_Prenda",o),{estadoPrimario:4,estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}):"A"==t&&Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Alzamiento_Prenda",o),{estadoPrimario:4,estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}):"I"==t?Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Inscripcion_Prenda",o),{estadoPrimario:4,estadoSecundario:e}).then((function(){console.log("ACTUALIZADO")})):"M"==t?Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Modificacion_Prenda",o),{estadoPrimario:4,estadoSecundario:e}):"A"==t&&Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Alzamiento_Prenda",o),{estadoPrimario:4,estadoSecundario:e}),Object(O["i"])(Object(O["c"])(Eh,"Counter_N_RPsD","0"),{counter:a.counter+1})}));var i=new Date;Object(O["e"])(Object(O["a"])(Eh,"Bitacora")).then((function(r){var c=r.docs.length,s="",l="",u="";"I"==t?s=o:"M"==t?l=o:"A"==t&&(u=o),Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Bitacora"),c.toString()),{idInscripcion:s,idModificacion:l,idAlzamiento:u,idUser:n,comment:a[e],fechaCambio:i.getFullYear()+"-"+(i.getMonth()+1)+"-"+i.getDate()})}))}function Co(t,o,e,n){var a=["La solicitud fue guardada","La solicitud fue enviada desde notaria","La solicitud fue rechazada de notaria","La solicitud fue enviada desde oficina","La solicitud esta en revision","La solicitud fue aceptada","La solicitud fue rechazada por revisor","La solicitud fue rechazada por unidad de prenda","La solicitud rechazada fue confirmada"];"I"==t?Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Inscripcion_Prenda",o),{estadoPrimario:e,estadoSecundario:2}).then((function(){console.log("ACTUALIZADO")})):"M"==t?Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Modificacion_Prenda",o),{estadoPrimario:e,estadoSecundario:2}):"A"==t&&Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Alzamiento_Prenda",o),{estadoPrimario:e,estadoSecundario:2});var i=new Date;Object(O["e"])(Object(O["a"])(Eh,"Bitacora")).then((function(r){var c=r.docs.length,s="",l="",u="";"I"==t?s=o:"M"==t?l=o:"A"==t&&(u=o),Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Bitacora"),c.toString()),{idInscripcion:s,idModificacion:l,idAlzamiento:u,idUser:n,comment:a[e],fechaCambio:i.getFullYear()+"-"+(i.getMonth()+1)+"-"+i.getDate()})}))}var Ao={name:"TablaTipo",mounted:function(){this.rellenarTabla()},data:function(){return{items:[],thread:["N° Rep. Notaria","Funcionario","Fecha","Estado"],username:localStorage.user,inscripciones_encontradas:Oo,modificaciones_encontradas:_o,alzamientos_encontrados:jo,emailUser:localStorage.mail,indexSelect:0}},methods:{rellenarTabla:function(){var t=this;console.log("relleno tabla"),this.items=[],this.items.length=0,Oo=[],_o=[],jo=[],So(3,0,"T",-1),setTimeout((function(){t.inscripciones_encontradas.length>0&&(console.log(t.inscripciones_encontradas),t.inscripciones_encontradas.forEach((function(o){if(console.log("INSCRIPCION-"+o[1]["estadoPrimario"]+"-"+o[1]["estadoSecundario"]),3==o[1]["estadoPrimario"]){var e={id:o[0],Rep:o[1]["numeroRepertorioContratoPrenda"],Not:o[1]["numeroRepertorioNotario"],Fecha:o[1]["fechaRequirente"],Oficina:o[1]["oficina"],Tipo:"I"};console.log(e),console.log(t.items),t.items.push(e)}}))),t.modificaciones_encontradas.length>0&&t.modificaciones_encontradas.forEach((function(o){if(console.log("MODIFICACION-"+o[1]["estadoPrimario"]+"-"+o[1]["estadoSecundario"]),console.log("DEBUG"),console.log(o),3==o[1]["estadoPrimario"]){var e={id:o[0],Rep:o[1]["numeroRepertorioContratoPrenda"],Not:o[1]["numeroRepertorioNotario"],Fecha:o[1]["fechaRequirente"],Oficina:o[1]["oficina"],Tipo:"M"};t.items.push(e)}})),t.alzamientos_encontrados.length>0&&t.alzamientos_encontrados.forEach((function(o){if(console.log("ALZAMIENTOS-"+o[1]["estadoPrimario"]+"-"+o[1]["estadoSecundario"]),3==o[1]["estadoPrimario"]){var e={id:o[0],Rep:o[1]["numeroRepertorioContratoPrenda"],Not:o[1]["numeroRepertorioNotario"],Fecha:o[1]["fechaRequirente"],Oficina:o[1]["oficina"],Tipo:"A"};t.items.push(e)}})),console.log(t.items)}),2500)},add:function(){var t=this.items[this.indexSelect],o=document.getElementById("anexos").files,e=document.getElementById("contrato").files;Io(e,o,t.id,t.Tipo),Co(t.Tipo,t.id,4,this.emailUser),Ro(t.Tipo,t.id,2,this.emailUser),this.items.splice(this.indexSelect,1)},changeIndex:function(t){this.indexSelect=t}}},Po=Ao,No=(e("738b"),Object(p["a"])(Po,fo,vo,!1,null,"e9ce4a90",null)),Do=No.exports,yo=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"row",attrs:{id:"contenedor"},on:{"":function(t){}}},[e("table",{staticClass:"table"},[t._m(0),t._l(t.items,(function(o,n){return e("tbody",{key:n,staticClass:"bodyTabla"},[e("td",[t._v(t._s(o.Rep))]),e("td",[t._v(t._s(o.Funcionario))]),e("td",[t._v(t._s(o.Fecha))]),e("th",[t._v(t._s(o.Tipo))]),e("td",[e("p",{staticClass:"titleFormulario"},[t._v(t._s(o.Estado)+" ")])]),e("td",[e("a",{staticClass:"logout",on:{click:function(e){return t.obtain_id_go(o.ID,o.Tipo)}}},[e("font-awesome-icon",{staticStyle:{"margin-right":"5px"},attrs:{icon:"file-download"}})],1)])])}))],2)])},To=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("thead",{staticClass:"encabezadoTabla"},[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("N° Rep Prenda")]),e("th",{attrs:{scope:"col"}},[t._v("Funcionario")]),e("th",{attrs:{scope:"col"}},[t._v("Fecha")]),e("th",{attrs:{scope:"col"}},[t._v("Tipo")]),e("th",{attrs:{scope:"col"}},[t._v("Estado")]),e("th",{attrs:{scope:"col"}})])])}];console.log("USERNAME GLOBAL"),console.log(localStorage.user);var Fo=[],Mo=[],xo=[],zo=[],wo=localStorage.user,Bo="/Dashboard/NOTARIO/"+wo+"/RevisionDoc";function ko(t,o){"I"==t?Object(O["i"])(Object(O["d"])(Object(O["a"])(Eh,"Solicitud_Inscripcion_Prenda",o)),{firma:!0}).then((function(){console.log("FIRMADO")})):"M"==t?Object(O["i"])(Object(O["d"])(Object(O["a"])(Eh,"Solicitud_Modificacion_Prenda",o)),{firma:!0}):"A"==t&&Object(O["i"])(Object(O["d"])(Object(O["a"])(Eh,"Solicitud_Alzamiento_Prenda",o)),{firma:!0})}function qo(t){Object(O["e"])(Object(O["a"])(Eh,"Usuario")).then((function(o){o.docs.forEach((function(o){o.data().NotariaID==t&&"FUNCIONARIONOTARIA"==o.data().rol&&zo.push(o.data().mail.toString())}))}))}function Lo(t,o){return Uo.apply(this,arguments)}function Uo(){return Uo=Object(L["a"])(regeneratorRuntime.mark((function t(o,e){var n,a,i,r,c=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=c.length>2&&void 0!==c[2]?c[2]:"T",a=c.length>3&&void 0!==c[3]?c[3]:-1,i=c.length>4&&void 0!==c[4]?c[4]:"",r=c.length>5&&void 0!==c[5]?c[5]:"","T"!=n&&"I"!=n||Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Inscripcion_Prenda")).then((function(t){var n=t.docs;n.forEach((function(t){var n=t.data();n.estadoPrimario!=o||n.estadoSecundario!=e||""!=r&&n.notaria!=r||""!=i&&n.oficina!=i||n.usuarioCreador!=a&&-1!=a||Fo.push([t.id,n])}))})).then((function(){console.log("INSCRIPCIONES ENCONTRADAS"),console.log(Fo)})),"T"!=n&&"M"!=n||Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Modificacion_Prenda")).then((function(t){var n=t.docs;n.forEach((function(t){var n=t.data();n.estadoPrimario!=o||n.estadoSecundario!=e||""!=r&&n.notaria!=r||""!=i&&n.oficina!=i||n.usuarioCreador!=a&&-1!=a||Mo.push([t.id,n])}))})).then((function(){console.log("MODIFICACIONES ENCONTRADAS"),console.log(Mo)})),"T"!=n&&"A"!=n||Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Alzamiento_Prenda")).then((function(t){var n=t.docs;n.forEach((function(t){var n=t.data();n.estadoPrimario!=o||n.estadoSecundario!=e||""!=r&&n.notaria!=r||""!=i&&n.oficina!=i||n.usuarioCreador!=a&&-1!=a||xo.push([t.id,n])}))})).then((function(){console.log("ALZAMIENTOD ENCONTRADAS"),console.log(xo)}));case 7:case"end":return t.stop()}}),t)}))),Uo.apply(this,arguments)}var Go,$o={name:"MisSolicitudesNotaria",mounted:function(){this.rellenarTabla(),this.clean()},data:function(){return{items:[],thread:["N° Rep. Notaria","Funcionario","Fecha","Estado"],username:localStorage.user,inscripciones_encontradas:Fo,modificaciones_encontradas:Mo,alzamientos_encontrados:xo,funcionarios_notaria:zo}},methods:{obtain_id_go:function(t,o){console.log("NOIZ ID, estamso aqui"),console.log(t),localStorage.id_judge=t,localStorage.tipo_judge=o,location.href=Bo},clean:function(){this.items=[],this.items.length=0,this.inscripciones_encontradas.length=0,this.modificaciones_encontradas.length=0,this.alzamientos_encontrados.length=0,this.funcionarios_notaria.length=0},rellenarTabla:function(){var t=this;this.items=[],console.log("relleno tabla"),console.log(localStorage.notaria),setTimeout((function(){qo(localStorage.notaria)}),500),setTimeout((function(){console.log(t.funcionarios_notaria),t.funcionarios_notaria.forEach((function(t){Lo(1,0,"T",t)}))}),2e3),setTimeout((function(){var o;t.inscripciones_encontradas.length>0&&(console.log(t.inscripciones_encontradas),t.inscripciones_encontradas.forEach((function(e){o=1==e[1]["estadoPrimario"]?"Por Firmar":0==e[1]["estadoPrimario"]?"Edicion":"Rechazo Notaria";var n={Rep:e[1]["numeroRepertorioNotario"],Funcionario:e[1]["usuarioCreador"],Fecha:e[1]["fechaRequirente"],Estado:o,ID:e[0],Tipo:"I"};console.log(n),console.log(t.items),0==e[1]["firma"]&&t.items.push(n)})));t.modificaciones_encontradas.length>0&&t.modificaciones_encontradas.forEach((function(e){o=1==e[1]["estadoPrimario"]?"Por Firmar":0==e[1]["estadoPrimario"]?"Edicion":"Rechazo Notaria";var n={Rep:e[1]["numeroRepertorioNotario"],Funcionario:e[1]["usuarioCreador"],Fecha:e[1]["fechaRequirente"],Estado:o,ID:e[0],Tipo:"M"};0==e[1]["firma"]&&t.items.push(n)})),t.alzamientos_encontrados.length>0&&t.alzamientos_encontrados.forEach((function(e){o=1==e[1]["estadoPrimario"]?"Por Firmar":0==e[1]["estadoPrimario"]?"Edicion":"Rechazo Notaria";var n={Rep:e[1]["numeroRepertorioNotario"],Funcionario:e[1]["usuarioCreador"],Fecha:e[1]["fechaRequirente"],Estado:o,ID:e[0],Tipo:"A"};0==e[1]["firma"]&&t.items.push(n)})),console.log("ESTOS SON TODOS"),console.log(t.items)}),3e3)},firmardoc:function(){ko()}}},Vo=$o,Ho=(e("cbc8"),Object(p["a"])(Vo,yo,To,!1,null,"88c490c4",null)),Yo=Ho.exports,Jo=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"row",attrs:{id:"contenedor"}},[e("table",{staticClass:"table"},[t._m(0),0==t.items.length?e("tbody",{staticClass:"bodyTabla"},[e("td",[t._v("No data")])]):t._l(t.items,(function(o,n){return e("tbody",{key:n,staticClass:"bodyTabla"},[e("td",[t._v(t._s(o.Rep))]),e("td",[t._v(t._s(o.Not))]),e("th",[t._v(t._s(o.Tipo))]),e("td",[t._v(t._s(o.Fecha))]),e("td",[t._v(t._s(o.Monto))]),e("td",{staticClass:"d-flex justify-content-center"},[e("p",{staticClass:"titleFormulario"},[t._v(t._s(o.Estado)+" ")])]),e("td",[e("div",{staticClass:"form-check "},[e("input",{staticClass:"form-check-input",attrs:{type:"checkbox",value:"",id:n}})])])])}))],2),e("div",{staticClass:"d-flex justify-content-end"},[e("p",[t._v(" $"+t._s(t.monto)+" ")]),e("button",{staticClass:"col-2 titleButton ",on:{click:function(o){return t.pagar()}}},[t._v("Pagar")])])])},Zo=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("thead",{staticClass:"encabezadoTabla"},[e("th",{attrs:{scope:"col"}},[t._v("N° Rep Prenda")]),e("th",{attrs:{scope:"col"}},[t._v("N° Rep Notaria")]),e("th",{attrs:{scope:"col"}},[t._v("Tipo")]),e("th",{attrs:{scope:"col"}},[t._v("Fecha")]),e("th",{attrs:{scope:"col"}},[t._v("Monto")]),e("th",{attrs:{scope:"col"}},[t._v("Estado")]),e("th",{attrs:{scope:"col"}})])}],Wo=(e("ac1f"),e("1276"),[]),Xo=[],Ko=[];function Qo(t,o){return te.apply(this,arguments)}function te(){return te=Object(L["a"])(regeneratorRuntime.mark((function t(o,e){var n,a,i,r,c=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=c.length>2&&void 0!==c[2]?c[2]:"T",a=c.length>3&&void 0!==c[3]?c[3]:-1,i=c.length>4&&void 0!==c[4]?c[4]:"",r=c.length>5&&void 0!==c[5]?c[5]:"","T"!=n&&"I"!=n||Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Inscripcion_Prenda")).then((function(t){var n=t.docs;n.forEach((function(t){var n=t.data();n.estadoPrimario!=o||n.estadoSecundario!=e||""!=r&&n.notaria!=r||""!=i&&n.oficina!=i||n.usuarioCreador!=a&&-1!=a||Wo.push([t.id,n])}))})).then((function(){console.log("INSCRIPCIONES ENCONTRADAS"),console.log(Wo),console.log(Wo.length)})),"T"!=n&&"M"!=n||Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Modificacion_Prenda")).then((function(t){var n=t.docs;n.forEach((function(t){var n=t.data();n.estadoPrimario!=o||n.estadoSecundario!=e||""!=r&&n.notaria!=r||""!=i&&n.oficina!=i||n.usuarioCreador!=a&&-1!=a||Xo.push([t.id,n])}))})).then((function(){console.log("MODIFICACIONES ENCONTRADAS"),console.log(Xo),console.log(Wo.length)})),"T"!=n&&"A"!=n||Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Alzamiento_Prenda")).then((function(t){var n=t.docs;n.forEach((function(t){var n=t.data();n.estadoPrimario!=o||n.estadoSecundario!=e||""!=r&&n.notaria!=r||""!=i&&n.oficina!=i||n.usuarioCreador!=a&&-1!=a||Ko.push([t.id,n])}))})).then((function(){console.log("INSCRIPCIONES ENCONTRADAS"),console.log(Ko),console.log(Ko.length)}));case 7:case"end":return t.stop()}}),t)}))),te.apply(this,arguments)}function oe(t,o,e,n){var a=["El pago no se realizo","Hubo intencion de pagar","Pagado"];Object(O["e"])(Object(O["a"])(Eh,"Counter_N_RPsD")).then((function(n){var a=n.docs[0].data(),i=a.counter;i=i<10?"000"+i.toString():i<100?"00"+i.toString():i<1e3?"0"+i.toString():i.toString();var r=a.year;Go=i+"-"+r.toString(),console.log("RPSD: "+Go),1==e?"I"==t?Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Inscripcion_Prenda",o),{estadoPrimario:4,estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}).then((function(){console.log("ACTUALIZADO")})):"M"==t?Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Modificacion_Prenda",o),{estadoPrimario:4,estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}):"A"==t&&Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Alzamiento_Prenda",o),{estadoPrimario:4,estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}):0==e?"I"==t?Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Inscripcion_Prenda",o),{estadoPrimario:1,estadoSecundario:e}).then((function(){console.log("ACTUALIZADO")})):"M"==t?Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Modificacion_Prenda",o),{estadoPrimario:1,estadoSecundario:e}):"A"==t&&Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Alzamiento_Prenda",o),{estadoPrimario:1,estadoSecundario:e}):"I"==t?Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Inscripcion_Prenda",o),{estadoPrimario:4,estadoSecundario:e}).then((function(){console.log("ACTUALIZADO")})):"M"==t?Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Modificacion_Prenda",o),{estadoPrimario:4,estadoSecundario:e}):"A"==t&&Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Alzamiento_Prenda",o),{estadoPrimario:4,estadoSecundario:e}),Object(O["i"])(Object(O["c"])(Eh,"Counter_N_RPsD","0"),{counter:a.counter+1})}));var i=new Date;Object(O["e"])(Object(O["a"])(Eh,"Bitacora")).then((function(r){var c=r.docs.length,s="",l="",u="";"I"==t?s=o:"M"==t?l=o:"A"==t&&(u=o),Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Bitacora"),c.toString()),{idInscripcion:s,idModificacion:l,idAlzamiento:u,idUser:n,comment:a[e],fechaCambio:i.getFullYear()+"-"+(i.getMonth()+1)+"-"+i.getDate()})}))}var ee=[];function ne(t){ee=[],Object(O["e"])(Object(O["a"])(Eh,"Patente_por_Inscripcion")).then((function(o){var e=o.docs;e.forEach((function(o){var e=o.data();e.idInscripcion==t&&e.inscripcionPrendaRVM&&!e.alzamiento&&ee.push(e)})),console.log("AUTOS CON ANOTACION AL RVM Y SIN ALZAR: "),console.log(ee)}))}var ae,ie={name:"PagosPendientes",mounted:function(){this.rellenarTabla()},data:function(){return{items:[],thread:["N° Repertorio Notaria","Fecha","Monto","Estado"],username:localStorage.user,inscripciones_encontradas:Wo,modificaciones_encontradas:Xo,alzamientos_encontrados:Ko,monto:0,emailUser:localStorage.mail}},props:{opcion:Array,tipoSolicitud:{type:String,default:"Modificacion"}},methods:{rellenarTabla:function(){var t=this;console.log("relleno tabla"),Qo(1,0,"T",-1),Qo(1,1,"T",-1),console.log("PHASE 1"),setTimeout((function(){var o;t.inscripciones_encontradas.length>0&&(console.log("CHECKING"),console.log(t.inscripciones_encontradas),t.inscripciones_encontradas.forEach((function(e){if(o=0==e[1]["estadoSecundario"]?"Por pagar":1==e[1]["estadoSecundario"]?"Esperando Confirmación":"Pagado",e[1]["firma"]){var n={id:e[0],Rep:e[1]["numeroRepertorioContratoPrenda"],Not:e[1]["numeroRepertorioNotario"],Funcionario:e[1]["usuarioCreador"],Fecha:e[1]["fechaRequirente"],Monto:e[1]["montoTotal"],Estado:o,Tipo:"I"};t.items.push(n),console.log(e[1]),t.monto+=parseFloat(e[1]["montoTotal"])}})));console.log("PHASE 2"),t.modificaciones_encontradas.length>0&&t.modificaciones_encontradas.forEach((function(e){if(o=0==e[1]["estadoSecundario"]?"Por pagar":1==e[1]["estadoSecundario"]?"Esperando Confirmación":"Pagado",e[1]["firma"]){var n={id:e[0],Rep:e[1]["numeroRepertorioContratoPrenda"],Not:e[1]["numeroRepertorioNotario"],Funcionario:e[1]["usuarioCreador"],Fecha:e[1]["fechaRequirente"],Monto:e[1]["montoTotal"],Estado:o,Tipo:"M"};t.items.push(n)}})),console.log("PHASE 3"),t.alzamientos_encontrados.length>0&&t.alzamientos_encontrados.forEach((function(e){if(o=0==e[1]["estadoSecundario"]?"Por pagar":1==e[1]["estadoSecundario"]?"Esperando Confirmación":"Pagado",e[1]["firma"]){var n={id:e[0],Rep:e[1]["numeroRepertorioContratoPrenda"],Not:e[1]["numeroRepertorioNotario"],Funcionario:e[1]["usuarioCreador"],Fecha:e[1]["fechaRequirente"],Monto:e[1]["montoTotal"],Estado:o,Tipo:"A"};t.items.push(n)}})),console.log(t.items)}),2e3)},pagar:function(){for(var t=[],o=0;o<this.items.length;o++)1==document.getElementById(o).checked&&(t.push(o),console.log("Check"),console.log(o));for(var e=0;e<t.length;e++){var n=this.items[t[e]];console.log(n),console.log("SENDING DATA"),this.updatePago(n),console.log(t[e])}this.items.length=0,this.clean(),this.rellenarTabla()},clean:function(){Wo.length=0,Xo.length=0,Ko.length=0},updatePago:function(t){var o=this;oe(t.Tipo,t.id,1,this.emailUser),setTimeout((function(){console.log(localStorage.user+","+Go+","+o.monto);var e="http://ec2-75-101-231-83.compute-1.amazonaws.com:4032/api/transaction/payment";console.log("Phase 1 GETTING IP"),console.log(localStorage.rutLog);var n=Go.split("-")[1]+"-"+Go.split("-")[0],a='{"id_persona":"'+localStorage.rutLog+'", "numero_repertorio":"'+Go.split("-")[1]+"-"+Go.split("-")[0]+'", "monto":'+o.monto+', "confirmation_ip": "54.167.53.130"}';fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:a}).then((function(o){o.json().then((function(o){"I"==t.Tipo?Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Inscripcion_Prenda",t.id),{id_transaccion:o.transaction_id,estadoSecundario:2}).then((function(){console.log("id_transaccion asignado")})):"M"==t.Tipo?Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Modificacion_Prenda",t.id),{id_transaccion:o.transaction_id,estadoSecundario:2}).then((function(){console.log("id_transaccion asignado")})):"A"==t.Tipo&&Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Alzamiento_Prenda",t.id),{id_transaccion:o.transaction_id,estadoSecundario:2}).then((function(){console.log("id_transaccion asignado")})),console.log(o.transaction_id)})),ne(t.id);var e="";"M"==t.Tipo&&Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Modificacion_Prenda")).where("id"==t.id).then((function(t){var o=t.doc;e=1==o.data().tipoModificacion?"AlzPN":2==o.data().tipoModificacion&&"CA"})),setTimeout((function(){ee.forEach((function(o){var a="http://ec2-75-101-231-83.compute-1.amazonaws.com:4031/api/vehicles/anotation",i="";if("I"==t.Tipo?i="PN":"M"==t.Tipo?i=e:"A"==t.Tipo&&(i="AlzPN"),console.log("REPERTORIO"),0!=i){var r='{"patente": "'+o.patente+'", "tipo":"'+i+'", "numero_repertorio":"'+n+'"}';console.log(r),fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:r}).then((function(t){t.json().then((function(t){console.log("Ingresando Anotaciones a RVM"),console.log(t),console.log(t.msg+"para patente:"+o.patente)}))}))}}))}),3e3)}))}),1500)}}},re=ie,ce=(e("a278"),Object(p["a"])(re,Jo,Zo,!1,null,"1022f218",null)),se=ce.exports,le={name:"Dashboard",data:function(){return{opcion:ae,username:localStorage.user,rol:localStorage.rol}},components:{Menu:B,Navbar:ut,TablaRevisor:Rt,TablaRevisor2:Bt,TablaJefeServicioRechazadas:oo,TablaJefeServicio2:go,TablaRecepcionDocumento:Do,MisSolicitudesNotario:Yo,PagosPendientes:se,MisSolicitudesFuncionarioNotaria:at},mounted:function(){switch(this.rol){case"ADMIN":ae=["Usuarios","Notarias","Oficinas","Parametros"];break;case"FUNCIONARIONOTARIA":ae=["Mis Solicitudes","Inscripcion de contrato de prendas","Modificacion de contrato de prendas","Alzamiento de contrato de prendas","Buscador"];break;case"NOTARIO":ae=["Mis Solicitudes","Buscador"];break;case"PAGADOR":ae=["Pagos Pendientes","Resumen de Pagos"];break;case"REVISOR":ae=["Tareas","Buscador"];break;case"JEFEDESERVICIO":ae=["Tareas","Buscador","Resumen de Pagos","Recaudacion","Rechazos"];break;case"FUNCIONARIOOFICINA":ae=["Mis Solicitudes","Inscripcion de contrato de prendas","Modificacion de contrato de prendas","Alzamiento de contrato de prendas","Buscador"];break;case"RECEPTOR":ae=["Tareas","Recepcion Solicitudes","Busqueda"];break}this.opcion=ae,console.log("MOMENTO"),console.log(this.opcion),localStorage.my_opts=this.opcion}},ue=le,de=(e("143e"),Object(p["a"])(ue,y,T,!1,null,"32c17216",null)),pe=de.exports,me=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"dashboard"}},[e("Menu",{attrs:{opciones:t.opcion}}),e("Navbar",{attrs:{username:t.username}}),e("div",{staticStyle:{padding:"50px","margin-left":"300px"}},[e("table",{staticClass:"table table-sm table-hover zui-table-rounded"},[t._m(0),t._l(t.items,(function(o,n){return e("tbody",{key:n,staticClass:"bodyTabla"},[e("tr",[e("th",{attrs:{scope:"row"}},[t._v(t._s(n+1))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.tipo))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.username))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.rut))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.mail))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.nombre))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.apellido))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.abogado_activo))]),e("td",[e("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"Basic example"}},[e("button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-3",modifiers:{"modal-3":!0}}],staticClass:"btn btn-secondary",staticStyle:{"background-color":"green"},attrs:{type:"button"},on:{click:function(e){return t.setIdtoUpdate(o.ID,o.nombre,o.apellido,o.rut,o.tipo,o.mail,o.oficina,o.notaria)}}},[t._v("Editar")]),e("button",{staticClass:"btn btn-secondary",staticStyle:{"background-color":"red"},attrs:{type:"button"}},[t._v("Deshabilitar")])])])])])}))],2),e("button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-2",modifiers:{"modal-2":!0}}],staticClass:"btn btn-secondary",staticStyle:{"background-color":"blue"},attrs:{type:"button"}},[t._v("Agregar Usuario")]),e("b-modal",{attrs:{id:"modal-2","hide-footer":""}},[e("div",{staticClass:"d-flex justify-content-center titleModal"},[t._v("Crear Usuario ")]),e("div",{staticClass:"row"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        Nombre Usuario\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{attrs:{id:"nombreUsu",type:"text"}})]),e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        Apellido Usuario\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{attrs:{id:"apellidoUsu",type:"text"}})]),e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        Run Notario\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{attrs:{id:"rutUsu",type:"text"}})]),e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        Tipo Usuario\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("select",{staticClass:"form-select",attrs:{id:"tipoUsu"}},[e("option",{attrs:{value:"ADMIN"}},[t._v("Administrador")]),e("option",{attrs:{value:"FUNCIONARIONOTARIA"}},[t._v("Funcionario de Notaria")]),e("option",{attrs:{value:"JEFEDESERVICIO"}},[t._v("Jefe de Servicio")]),e("option",{attrs:{value:"NOTARIO"}},[t._v("Notario")]),e("option",{attrs:{value:"PAGADOR"}},[t._v("Pagador")]),e("option",{attrs:{value:"RECEPTOR"}},[t._v("Receptor")]),e("option",{attrs:{value:"REVISOR"}},[t._v("Revisor")])])]),e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        Oficina\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.comuna,expression:"comuna"}],staticClass:"form-select",attrs:{id:"oficinaUsu"},on:{change:function(o){var e=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.comuna=o.target.multiple?e:e[0]}}},t._l(t.oficinasP,(function(o,n){return e("option",{key:n,domProps:{value:o.nombre_organizacion}},[t._v(t._s(o.nombre_organizacion))])})),0)]),e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        Notaria\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.comuna,expression:"comuna"}],staticClass:"form-select",attrs:{id:"notariaUsu"},on:{change:function(o){var e=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.comuna=o.target.multiple?e:e[0]}}},t._l(t.notariasP,(function(o,n){return e("option",{key:n,domProps:{value:o.nombre_organizacion}},[t._v(t._s(o.nombre_organizacion))])})),0)]),e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        Correo Usuario\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{attrs:{id:"mailUsu",type:"mail"}})]),e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        Contraseña Usuario\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{attrs:{id:"claveUsu",type:"password"}})])]),e("div",{staticClass:"d-flex justify-content-center SpaceItems"})])]),e("button",{attrs:{id:"ADDNOTARIA"},on:{click:function(o){return t.add()}}},[t._v("Agregar Usuario")])]),e("b-modal",{attrs:{id:"modal-3","hide-footer":""}},[e("div",{staticClass:"d-flex justify-content-center titleModal"},[t._v("Editar Usuario ")]),e("div",{staticClass:"row"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        Nombre Usuario\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{attrs:{id:"nombreUsu2",type:"text"}})]),e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        Apellido Usuario\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{attrs:{id:"apellidoUsu2",type:"text"}})]),e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        Run Notario\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{attrs:{id:"rutUsu2",type:"text"}})]),e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        Tipo Usuario\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("select",{staticClass:"form-select",attrs:{id:"tipoUsu2"}},[e("option",{attrs:{value:"ADMIN"}},[t._v("Administrador")]),e("option",{attrs:{value:"FUNCIONARIONOTARIA"}},[t._v("Funcionario de Notaria")]),e("option",{attrs:{value:"JEFEDESERVICIO"}},[t._v("Jefe de Servicio")]),e("option",{attrs:{value:"NOTARIO"}},[t._v("Notario")]),e("option",{attrs:{value:"PAGADOR"}},[t._v("Pagador")]),e("option",{attrs:{value:"RECEPTOR"}},[t._v("Receptor")]),e("option",{attrs:{value:"REVISOR"}},[t._v("Revisor")])])]),e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        Oficina\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.comuna,expression:"comuna"}],staticClass:"form-select",attrs:{id:"oficinaUsu2"},on:{change:function(o){var e=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.comuna=o.target.multiple?e:e[0]}}},t._l(t.oficinasP,(function(o,n){return e("option",{key:n,domProps:{value:o.nombre_organizacion}},[t._v(t._s(o.organizacion))])})),0)]),e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        Notaria\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.comuna,expression:"comuna"}],staticClass:"form-select",attrs:{id:"notariaUsu2"},on:{change:function(o){var e=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.comuna=o.target.multiple?e:e[0]}}},t._l(t.notariasP,(function(o,n){return e("option",{key:n,domProps:{value:o.nombre_organizacion}},[t._v(t._s(o.organizacion))])})),0)]),e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        Correo Usuario\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{attrs:{id:"mailUsu2",type:"mail"}})])]),e("div",{staticClass:"d-flex justify-content-center SpaceItems"})])]),e("button",{attrs:{id:"ADDNOTARIA"},on:{click:function(o){return t.update()}}},[t._v("Editar Usuario")])])],1)],1)},he=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("thead",{staticStyle:{color:"white","background-color":"#514BD5"}},[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("#")]),e("th",{attrs:{scope:"col"}},[t._v("Tipo")]),e("th",{attrs:{scope:"col"}},[t._v("Usuario")]),e("th",{attrs:{scope:"col"}},[t._v("Rut")]),e("th",{attrs:{scope:"col"}},[t._v("Mail")]),e("th",{attrs:{scope:"col"}},[t._v("Nombre")]),e("th",{attrs:{scope:"col"}},[t._v("Apellido")]),e("th",{attrs:{scope:"col"}},[t._v("Activo")]),e("th",{attrs:{scope:"col"}})])])}],ge=[],fe=0;function ve(){Object(O["e"])(Object(O["a"])(Eh,"Notarias")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();ge.push([t.id,o])}))}))}var be=[];function Oe(){Object(O["e"])(Object(O["a"])(Eh,"Oficina")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();be.push([t.id,o])}))}))}var _e=[];function je(){Object(O["e"])(Object(O["a"])(Eh,"Usuario")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();_e.push([t.id,o])})),console.log("USER LIST"),console.log(_e)}))}var Se={mounted:function(){var t=this;console.log("LA OFICINA LOL"),console.log(JSON.parse(localStorage.mis_oficinas)),console.log(this.oficinasP),this.rellenarTabla(),ve(),Oe(),setTimeout((function(){var o=[];console.log("MIS NOTARIAS"),ge.forEach((function(t){console.log(t[1]),o.push(t[1])})),t.notariasP=o;var e=[];console.log("MIS OFICINAS"),be.forEach((function(t){console.log(t[1]),e.push(t[1])})),t.oficinasP=e}),1500)},data:function(){return{opcion:localStorage.my_opts.split(","),username:localStorage.user,items:[]}},name:"Dashboard",components:{Menu:B,Navbar:ut},props:{notariasP:{type:Array},oficinasP:{type:Array}},methods:{rellenarTabla:function(){var t=this;this.items=[],_e=[],je(),setTimeout((function(){_e.forEach((function(o){var e={tipo:o[1]["rol"],username:o[1]["nombre"],rut:o[1]["rut"],mail:o[1]["mail"],nombre:o[1]["nombre"],apellido:o[1]["apellido"],"ID:":o[0],oficina:o[1]["OficinaID"],notaria:o[1]["NotariaID"]};t.items.push(e)}))}),1500)},add:function(){var t=this;console.log("DATA");var o=document.getElementById("nombreUsu").value;console.log(o);var e=document.getElementById("apellidoUsu").value;console.log(e);var n=document.getElementById("rutUsu").value;console.log(n);var a=document.getElementById("tipoUsu").value;console.log(a);var i=document.getElementById("mailUsu").value;console.log(i);var r=document.getElementById("claveUsu").value;console.log(r);var c=document.getElementById("oficinaUsu").value;console.log(c);var s=document.getElementById("notariaUsu").value;console.log(s);var l=-1,u=-1;ge.forEach((function(t){t[1]["nombre_organizacion"]==s&&(u=parseInt(t[0]))})),be.forEach((function(t){t[1]["nombre_organizacion"]==c&&(l=parseInt(t[0]))})),Object(b["a"])(Sh,i,r).then((function(){Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Usuario"),i.toString()),{NotariaID:u,OficinaID:l,nombre:o,apellido:e,mail:i,rut:n,rol:a,abogado_activo:!0})})),setTimeout((function(){t.rellenarTabla()}),1500)},setIdtoUpdate:function(t,o,e,n,a,i,r,c){var s,l;fe=t,console.log(fe),console.log(r),console.log(c),ge.forEach((function(t){t[0]==c&&(l=t[1]["nombre_organizacion"])})),be.forEach((function(t){t[0]==r&&(s=t[1]["nombre_organizacion"])})),setTimeout((function(){document.getElementById("nombreUsu2").value=o,document.getElementById("rutUsu2").value=n,document.getElementById("apellidoUsu2").value=e,document.getElementById("tipoUsu2").value=a,document.getElementById("mailUsu2").value=i,document.getElementById("oficinaUsu2").value=s,document.getElementById("notariaUsu2").value=l}),300)},update:function(){var t=this;console.log("DATA");var o=document.getElementById("nombreUsu2").value;console.log(o);var e=document.getElementById("apellidoUsu2").value;console.log(e);var n=document.getElementById("rutUsu2").value;console.log(n);var a=document.getElementById("tipoUsu2").value;console.log(a);var i=document.getElementById("mailUsu2").value;console.log(i);var r=document.getElementById("oficinaUsu2").value;console.log(r);var c=document.getElementById("notariaUsu2").value;console.log(c);var s=-1,l=-1;ge.forEach((function(t){t[1]["nombre_organizacion"]==c&&(l=parseInt(t[0]))})),be.forEach((function(t){t[1]["nombre_organizacion"]==r&&(s=parseInt(t[0]))})),Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Usuario"),fe),{NotariaID:l,OficinaID:s,nombre:o,apellido:e,mail:i,rut:n,rol:a,abogado_activo:!0}),setTimeout((function(){t.rellenarTabla()}),1500)}}},Ee=Se,Ie=(e("b5e0"),Object(p["a"])(Ee,me,he,!1,null,"6106338f",null)),Re=Ie.exports,Ce=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"dashboard"}},[e("Menu",{attrs:{opciones:t.opcion}}),e("Navbar",{attrs:{username:t.username}}),e("div",{staticStyle:{padding:"50px","margin-left":"300px"}},[e("table",{staticClass:"table table-sm table-hover zui-table-rounded"},[t._m(0),t._l(t.items,(function(o,n){return e("tbody",{key:n,staticClass:"bodyTabla"},[e("tr",[e("th",{attrs:{scope:"row"}},[t._v(t._s(n+1))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.nombre))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.region))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.comuna))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.notario))]),e("td",[e("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"Basic example"}},[e("button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-3",modifiers:{"modal-3":!0}}],staticClass:"btn btn-secondary",staticStyle:{"background-color":"green"},attrs:{type:"button"},on:{click:function(e){return t.setIdtoUpdate(o.ID,o.nombre,o.rut,o.comuna,o.notario,o.dir)}}},[t._v("Editar")]),e("button",{staticClass:"btn btn-secondary",staticStyle:{"background-color":"red"},attrs:{type:"button"},on:{click:function(e){return t.erase(o.ID)}}},[t._v("Eliminar")])])])])])}))],2),e("button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-2",modifiers:{"modal-2":!0}}],staticClass:"btn btn-secondary",staticStyle:{"background-color":"blue"},attrs:{type:"button"}},[t._v("Agregar Notaria")]),e("b-modal",{attrs:{id:"modal-2","hide-footer":""}},[e("div",{staticClass:"d-flex justify-content-center titleModal"},[t._v("Agregar Notaria ")]),e("div",{staticClass:"row"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        Nombre Notaria\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{attrs:{id:"nombreNot",type:"text"}})]),e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        Comuna\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.comuna,expression:"comuna"}],staticClass:"form-select",attrs:{id:"comunaNot"},on:{change:function(o){var e=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.comuna=o.target.multiple?e:e[0]}}},t._l(t.comunasP,(function(o,n){return e("option",{key:n,domProps:{value:o.nombre}},[t._v(t._s(o.nombre))])})),0)]),e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        Nombre Notario\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{attrs:{id:"notarioNot",type:"text"}})]),e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        Rut Notario\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{attrs:{id:"rutNot",type:"text"}})]),e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        Direccion\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{attrs:{id:"dirNot",type:"text"}})])]),e("div",{staticClass:"d-flex justify-content-center SpaceItems"})])]),e("button",{attrs:{id:"ADDNOTARIA"},on:{click:function(o){return t.add()}}},[t._v("Agregar Notaria")])]),e("b-modal",{attrs:{id:"modal-3","hide-footer":""}},[e("div",{staticClass:"d-flex justify-content-center titleModal"},[t._v("Editar Notaria ")]),e("div",{staticClass:"row"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        Nombre Notaria\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{attrs:{id:"nombreNot2",type:"text"}})]),e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        Comunas\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.comuna,expression:"comuna"}],staticClass:"form-select",attrs:{id:"comunaNot2"},on:{change:function(o){var e=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.comuna=o.target.multiple?e:e[0]}}},t._l(t.comunasP,(function(o,n){return e("option",{key:n,domProps:{value:o.nombre}},[t._v(t._s(o.nombre))])})),0)]),e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        Nombre Notario\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{attrs:{id:"notarioNot2",type:"text"}})]),e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        Rut Notario\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{attrs:{id:"rutNot2",type:"text"}})]),e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        Direccion\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{attrs:{id:"dirNot2",type:"text"}})])]),e("div",{staticClass:"d-flex justify-content-center SpaceItems"})])]),e("button",{attrs:{id:"ADDNOTARIA"},on:{click:function(o){return t.update()}}},[t._v("Editar Notaria")])])],1)],1)},Ae=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("thead",{staticStyle:{color:"white","background-color":"#514BD5"}},[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("#")]),e("th",{attrs:{scope:"col"}},[t._v("Nombre")]),e("th",{attrs:{scope:"col"}},[t._v("Region")]),e("th",{attrs:{scope:"col"}},[t._v("Comuna")]),e("th",{attrs:{scope:"col"}},[t._v("Notario")]),e("th",{attrs:{scope:"col"}})])])}],Pe=(e("a15b"),[]),Ne=0;function De(){Object(O["e"])(Object(O["a"])(Eh,"Notarias")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();Pe.push([t.id,o])}))}))}function ye(){var t,o=document.getElementById("nombreNot").value,e=document.getElementById("rutNot").value,n=document.getElementById("comunaNot").value.toUpperCase(),a=document.getElementById("notarioNot").value,i=document.getElementById("dirNot").value,r=!1;Te.forEach((function(o){o[1]["nombre"]==n&&(t=o[0],r=!0)})),r?Object(O["e"])(Object(O["a"])(Eh,"Notarias")).then((function(n){var r=n.docs,c=2521;r.forEach((function(t){var o=parseInt(t.id);o>c&&(c=o)})),c+=1,Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Notarias"),c.toString()),{direccion:i,id_comuna:t.toString(),nombre_notario:a,nombre_organizacion:o,run_notario:e})})):alert("Esta comuna no existe")}var Te=[],Fe=[];function Me(){Object(O["e"])(Object(O["a"])(Eh,"Comunas")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();Te.push([t.id,o])}))})),Object(O["e"])(Object(O["a"])(Eh,"Regiones")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();console.log(t.id),Fe.push([t.id,o])}))}))}var xe,ze={data:function(){return{opcion:localStorage.my_opts.split(","),username:localStorage.user,items:[],misNotarias:[]}},name:"Dashboard",components:{Menu:B,Navbar:ut},props:{regionesP:{type:Array},comunasP:{type:Array}},methods:{rellenarTabla:function(){var t=this;this.items=[],Pe=[],console.log(localStorage.mis_regiones),De(),console.log("CHECK DATA"),console.log(this.regionesP),console.log(this.comunasP),setTimeout((function(){console.log(Pe),Pe.forEach((function(o){var e,n,a=o[1]["id_comuna"];Te.forEach((function(t){if(t[0]==a){e=t[1]["nombre"];var o=t[1]["id_region"].split(" ").join("");Fe.forEach((function(t){t[0]==o&&(n=t[1]["nombre"])}))}}));var i={nombre:o[1]["nombre_organizacion"],region:n,comuna:e,notario:o[1]["nombre_notario"],ID:o[0],rut:o[1]["run_notario"],dir:o[1]["direccion"]};t.misNotarias.push(o[1]),t.items.push(i)}))}),2e3)},add:function(){var t=this;ye(),setTimeout((function(){t.rellenarTabla()}),1e3)},setIdtoUpdate:function(t,o,e,n,a,i){Ne=t,console.log(Ne),setTimeout((function(){document.getElementById("nombreNot2").value=o,document.getElementById("rutNot2").value=e,document.getElementById("comunaNot2").value=n,document.getElementById("notarioNot2").value=a,document.getElementById("dirNot2").value=i}),300)},update:function(){var t,o=this,e=document.getElementById("comunaNot2").value.toUpperCase();Te.forEach((function(o){o[1]["nombre"]==e&&(t=o[0])})),Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Notarias"),Ne.toString()),{direccion:document.getElementById("dirNot2").value,id_comuna:t.toString(),nombre_notario:document.getElementById("notarioNot2").value,nombre_organizacion:document.getElementById("nombreNot2").value,run_notario:document.getElementById("rutNot2").value}),setTimeout((function(){o.rellenarTabla()}),1e3)},erase:function(t){var o=this;Object(O["b"])(Object(O["c"])(Eh,"Notarias",t)),setTimeout((function(){o.rellenarTabla()}),1e3)}},mounted:function(){var t=this;this.rellenarTabla(),Me(),setTimeout((function(){var o=[];Te.forEach((function(t){console.log(t[1]),o.push(t[1])})),t.comunasP=o}),1e3)}},we=ze,Be=(e("8054"),Object(p["a"])(we,Ce,Ae,!1,null,"20a1a6b8",null)),ke=Be.exports,qe=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"dashboard"}},[e("Menu",{attrs:{opciones:t.opcion}}),e("Navbar",{attrs:{username:t.username}}),e("div",{staticStyle:{padding:"50px","margin-left":"300px"}},[e("table",{staticClass:"table table-sm table-hover zui-table-rounded"},[t._m(0),t._l(t.items,(function(o,n){return e("tbody",{key:n,staticClass:"bodyTabla"},[e("tr",[e("th",{attrs:{scope:"row"}},[t._v(t._s(n+1))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.nombre))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.region))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.comuna))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.encargado))]),e("td",[e("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"Basic example"}},[e("button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-3",modifiers:{"modal-3":!0}}],staticClass:"btn btn-secondary",staticStyle:{"background-color":"green"},attrs:{type:"button"},on:{click:function(e){return t.setIdtoUpdate(o.ID,o.nombre,o.rut,o.comuna,o.encargado,o.dir)}}},[t._v("Editar")]),e("button",{staticClass:"btn btn-secondary",staticStyle:{"background-color":"red"},attrs:{type:"button"},on:{click:function(e){return t.erase(o.ID)}}},[t._v("Eliminar")])])])])])}))],2),e("button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-2",modifiers:{"modal-2":!0}}],staticClass:"btn btn-secondary",staticStyle:{"background-color":"blue"},attrs:{type:"button"}},[t._v("Agregar Oficina")]),e("b-modal",{attrs:{id:"modal-2","hide-footer":""}},[e("div",{staticClass:"d-flex justify-content-center titleModal"},[t._v("Agregar Oficina ")]),e("div",{staticClass:"row"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        Nombre Oficina\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{attrs:{id:"nombreNot",type:"text"}})]),e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        Comuna\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.comuna,expression:"comuna"}],staticClass:"form-select",attrs:{id:"comunaNot"},on:{change:function(o){var e=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.comuna=o.target.multiple?e:e[0]}}},t._l(t.comunasP,(function(o,n){return e("option",{key:n,domProps:{value:o.nombre}},[t._v(t._s(o.nombre))])})),0)]),e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        Encargado\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{attrs:{id:"notarioNot",type:"text"}})]),e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        Rut Encargado\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{attrs:{id:"rutNot",type:"text"}})]),e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        Direccion\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{attrs:{id:"dirNot",type:"text"}})])]),e("div",{staticClass:"d-flex justify-content-center SpaceItems"})])]),e("button",{attrs:{id:"ADDNOTARIA"},on:{click:function(o){return t.add()}}},[t._v("Agregar Oficina")])]),e("b-modal",{attrs:{id:"modal-3","hide-footer":""}},[e("div",{staticClass:"d-flex justify-content-center titleModal"},[t._v("Editar Oficina ")]),e("div",{staticClass:"row"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        Nombre Oficina\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{attrs:{id:"nombreNot2",type:"text"}})]),e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        Comuna\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.comuna,expression:"comuna"}],staticClass:"form-select",attrs:{id:"comunaNot2"},on:{change:function(o){var e=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.comuna=o.target.multiple?e:e[0]}}},t._l(t.comunasP,(function(o,n){return e("option",{key:n,domProps:{value:o.nombre}},[t._v(t._s(o.nombre))])})),0)]),e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        Nombre Encargado\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{attrs:{id:"notarioNot2",type:"text"}})]),e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        Rut Encargado\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{attrs:{id:"rutNot2",type:"text"}})]),e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        Direccion\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{attrs:{id:"dirNot2",type:"text"}})])]),e("div",{staticClass:"d-flex justify-content-center SpaceItems"})])]),e("button",{attrs:{id:"ADDNOTARIA"},on:{click:function(o){return t.update()}}},[t._v("Editar Oficina")])])],1)],1)},Le=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("thead",{staticStyle:{color:"white","background-color":"#514BD5"}},[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("#")]),e("th",{attrs:{scope:"col"}},[t._v("Nombre")]),e("th",{attrs:{scope:"col"}},[t._v("Region")]),e("th",{attrs:{scope:"col"}},[t._v("Comuna")]),e("th",{attrs:{scope:"col"}},[t._v("Encargado")]),e("th",{attrs:{scope:"col"}})])])}],Ue=[];function Ge(){Object(O["e"])(Object(O["a"])(Eh,"Oficina")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();Ue.push([t.id,o])}))}))}var $e=[],Ve=[];function He(){Object(O["e"])(Object(O["a"])(Eh,"Comunas")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();$e.push([t.id,o])}))})),Object(O["e"])(Object(O["a"])(Eh,"Regiones")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();console.log(t.id),Ve.push([t.id,o])}))}))}function Ye(){var t,o=document.getElementById("nombreNot").value,e=document.getElementById("rutNot").value,n=document.getElementById("comunaNot").value.toUpperCase(),a=document.getElementById("notarioNot").value,i=document.getElementById("dirNot").value,r=!1;$e.forEach((function(o){o[1]["nombre"]==n&&(t=o[0],r=!0)})),r?Object(O["e"])(Object(O["a"])(Eh,"Oficina")).then((function(n){var r=n.docs,c=0;r.forEach((function(t){var o=parseInt(t.id);o>c&&(c=o)})),c+=1,Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Oficina"),c.toString()),{direccion:i,id_comuna:t.toString(),nombre_encargado:a,nombre_organizacion:o,run_encargado:e})})):alert("Esta comuna no existe")}var Je={mounted:function(){var t=this;this.rellenarTabla(),He(),setTimeout((function(){var o=[];$e.forEach((function(t){console.log(t[1]),o.push(t[1])})),t.comunasP=o}),1e3)},name:"Dashboard",data:function(){return{opcion:localStorage.my_opts.split(","),username:localStorage.user,items:[]}},components:{Menu:B,Navbar:ut},props:{regionesP:{type:Array},comunasP:{type:Array}},methods:{rellenarTabla:function(){var t=this;this.items=[],Ue=[],Ge(),He(),setTimeout((function(){Ue.forEach((function(o){var e,n,a=o[1]["id_comuna"];$e.forEach((function(t){if(t[0]==a){e=t[1]["nombre"];var o=t[1]["id_region"].split(" ").join("");Ve.forEach((function(t){console.log(t[0]),t[0]==o&&(n=t[1]["nombre"])}))}}));var i={nombre:o[1]["nombre_organizacion"],region:n,comuna:e,encargado:o[1]["nombre_encargado"],dir:o[1]["direccion"],ID:o[0]};t.items.push(i)}))}),2e3)},add:function(){var t=this;Ye(),setTimeout((function(){t.rellenarTabla()}),1e3)},setIdtoUpdate:function(t,o,e,n,a,i){xe=t,console.log(xe),setTimeout((function(){document.getElementById("nombreNot2").value=o,document.getElementById("rutNot2").value=e,document.getElementById("comunaNot2").value=n,document.getElementById("notarioNot2").value=a,document.getElementById("dirNot2").value=i}),300)},update:function(){var t,o=this,e=document.getElementById("comunaNot2").value.toUpperCase();$e.forEach((function(o){o[1]["nombre"]==e&&(t=o[0])})),Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Oficina"),xe.toString()),{direccion:document.getElementById("dirNot2").value,id_comuna:t.toString(),nombre_encargado:document.getElementById("notarioNot2").value,nombre_organizacion:document.getElementById("nombreNot2").value,run_encargado:document.getElementById("rutNot2").value}),setTimeout((function(){o.rellenarTabla()}),1e3)},erase:function(t){var o=this;Object(O["b"])(Object(O["c"])(Eh,"Oficina",t)),setTimeout((function(){o.rellenarTabla()}),1e3)}}},Ze=Je,We=(e("39cf"),Object(p["a"])(Ze,qe,Le,!1,null,"4f154d25",null)),Xe=We.exports,Ke=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"dashboard"}},[e("Menu",{attrs:{opciones:t.opcion}}),e("Navbar",{attrs:{username:t.username}}),e("div",{ref:"content",staticClass:"right"},["FUNCIONARIOOFICINA"==t.rol?e("RequirenteFormulario",{on:{getnombreRequirente:t.getnombreRequirente,getrutRequirente:t.getrutRequirente,getCorreoRequirente:t.getCorreoRequirente,getFechaRequirente:t.getFechaRequirente}}):t._e(),e("AntecedentesFormulario",{attrs:{rol:t.rol},on:{gettipoDoc:t.gettipoDoc,getFOtorgamiento:t.getFOtorgamiento,getFSuscripcion:t.getFSuscripcion,getFAutorizacion:t.getFAutorizacion,getFProtocolizacion:t.getFProtocolizacion,getRepNotaria:t.getRepNotaria,getanioRepNotaria:t.getanioRepNotaria,getProhibGravEnajenar:t.getProhibGravEnajenar,getBienes:t.getBienes,getNotaria:t.getNotaria}}),e("AcreedorFormulario",{on:{gettipoPersona:t.gettipoPersona,getrun:t.getrun,getid:t.getid,getpais:t.getpais,getrut:t.getrut,getrazonsocial:t.getrazonsocial,getApaterno:t.getApaterno,getAmaterno:t.getAmaterno,getnombres:t.getnombres}}),e("ConstituyentesFormulario",{attrs:{modo:"Escribir"},on:{getConstituyentes:t.getConstituyentes}}),e("DeudoresFormulario",{attrs:{modo:"Escribir"},on:{getDeudores:t.getDeudores}}),e("VehiculosFormulario",{on:{getVehiculos:t.getVehiculos}}),"FUNCIONARIOOFICINA"!==t.rol?e("ContratoFormulario",{on:{getContrato:t.getContrato}}):t._e(),"FUNCIONARIOOFICINA"!==t.rol?e("AnexosFormulario",{on:{getAnexos:t.getAnexos}}):t._e(),e("Monto"),e("div",{staticClass:"row d-flex justify-content-center",attrs:{id:"contenedor"}},[e("button",{staticClass:"col-2 titleButton",on:{click:function(o){return t.crearInscripcion(!1)}}},[t._v("Guardar")]),e("button",{staticClass:"col-2 titleButton",on:{click:function(o){return t.crearInscripcion(!0)}}},[t._v("Enviar")])])],1)],1)},Qe=[],tn=(e("caad"),e("2532"),function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"row",attrs:{id:"contenedor"}},[e("div",{staticClass:"titleFormulario"},[t._v("Antecedentes")]),e("div",{staticClass:"row"},[e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                TIPO DE DOCUMENTO\n            ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.tipoDoc,expression:"tipoDoc"}],staticClass:"form-select",attrs:{id:"tipoDeDocumento"},on:{change:[function(o){var e=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.tipoDoc=o.target.multiple?e:e[0]},function(o){t.changeOption(),t.setData()}]}},[e("option",{attrs:{selected:"",value:"Publico"}},[t._v("Público")]),e("option",{attrs:{value:"Privado"}},[t._v("Privado")])])])]),"Publico"==t.option?e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                FECHA DE OTORGAMIENTO\n            ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.FOtorgamiento,expression:"FOtorgamiento"}],attrs:{type:"date",id:"FechaOtorgamiento"},domProps:{value:t.FOtorgamiento},on:{change:function(o){return t.setData()},input:function(o){o.target.composing||(t.FOtorgamiento=o.target.value)}}})])]):t._e(),"Publico"==t.option?e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                FECHA DE SUSCRIPCIÓN\n            ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.FSuscripcion,expression:"FSuscripcion"}],attrs:{type:"date",placeholder:"FSuscripcion",id:"FechaSubscripcion"},domProps:{value:t.FSuscripcion},on:{change:function(o){return t.setData()},input:function(o){o.target.composing||(t.FSuscripcion=o.target.value)}}})])]):t._e(),"Privado"==t.option?e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                FECHA DE AUTORIZACIÓN\n            ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.FAutorizacion,expression:"FAutorizacion"}],attrs:{type:"date",placeholder:"FAutorizacion",id:"FechaAutorizacion"},domProps:{value:t.FAutorizacion},on:{change:function(o){return t.setData()},input:function(o){o.target.composing||(t.FAutorizacion=o.target.value)}}})])]):t._e(),"Privado"==t.option?e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                FECHA DE PROTOCOLIZACIÓN\n            ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.FProtocolizacion,expression:"FProtocolizacion"}],attrs:{type:"date",placeholder:"FProtocolizacion",id:"FechaProtocolizacion"},domProps:{value:t.FProtocolizacion},on:{change:function(o){return t.setData()},input:function(o){o.target.composing||(t.FProtocolizacion=o.target.value)}}})])]):t._e()]),e("div",{staticClass:"row"},[e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                N DE REPERTORIO DE NOTARIA\n            ")]),e("div",{staticClass:"d-flex justify-content-start"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.RepNotaria,expression:"RepNotaria"}],staticClass:"nrepertorioleft",attrs:{type:"text",placeholder:"Folio",id:"foliorepnontaria"},domProps:{value:t.RepNotaria},on:{change:function(o){return t.setData()},input:function(o){o.target.composing||(t.RepNotaria=o.target.value)}}}),t._v("-"),e("input",{directives:[{name:"model",rawName:"v-model",value:t.anioRepNotaria,expression:"anioRepNotaria"}],staticClass:"nrepertorioright",attrs:{type:"text",id:"anorepnotaria",placeholder:"Ano"},domProps:{value:t.anioRepNotaria},on:{change:function(o){return t.setData()},input:function(o){o.target.composing||(t.anioRepNotaria=o.target.value)}}})])]),e("div",{staticClass:"col row Space"},[e("div",{staticClass:"form-check "},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.ProhibGravEnajenar,expression:"ProhibGravEnajenar"}],staticClass:"form-check-input",attrs:{type:"checkbox",value:"",id:"gravaroenajenar"},domProps:{checked:Array.isArray(t.ProhibGravEnajenar)?t._i(t.ProhibGravEnajenar,"")>-1:t.ProhibGravEnajenar},on:{change:[function(o){var e=t.ProhibGravEnajenar,n=o.target,a=!!n.checked;if(Array.isArray(e)){var i="",r=t._i(e,i);n.checked?r<0&&(t.ProhibGravEnajenar=e.concat([i])):r>-1&&(t.ProhibGravEnajenar=e.slice(0,r).concat(e.slice(r+1)))}else t.ProhibGravEnajenar=a},function(o){return t.setData()}]}}),e("label",{staticClass:"form-check-label d-flex align-items-start",attrs:{for:"defaultCheck1"}},[t._v("\n                    PROHIBICIÓN DE GRAVAR O ENAJENAR\n                ")])])])]),e("div",{staticClass:"row"},[t._m(0),"FUNCIONARIOOFICINA"==t.rol?e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                NOTARIAS\n            ")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.notaria,expression:"notaria"}],staticClass:"form-select",attrs:{id:"notaria"},on:{change:[function(o){var e=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.notaria=o.target.multiple?e:e[0]},function(o){t.changeOption(),t.setData()}]}},t._l(t.notariasP,(function(o,n){return e("option",{key:n,domProps:{value:o.organizacion}},[t._v(t._s(o.organizacion))])})),0)]):t._e()])])}),on=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"row right"},[e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                    BIENES PRENDADOS\n                ")]),e("div",{staticClass:"form-check"},[e("input",{staticClass:"form-check-input",attrs:{type:"checkbox",value:"ACTIVO FIJO",id:"checkinscactfijo"}}),e("label",{staticClass:"form-check-label d-flex justify-content-start",attrs:{for:"checkinscactfijo"}},[t._v("ACTIVO FIJO")])]),e("div",{staticClass:"form-check"},[e("input",{staticClass:"form-check-input",attrs:{type:"checkbox",value:"BIENES AGROPECUARIOS",id:"checkinscbagropec"}}),e("label",{staticClass:"form-check-label d-flex justify-content-start",attrs:{for:"checkinscbagropec"}},[t._v("BIENES AGROPECUARIOS")])]),e("div",{staticClass:"form-check"},[e("input",{staticClass:"form-check-input",attrs:{type:"checkbox",value:"DERECHIS E INTANGIBLES",id:"checkinscderecheint"}}),e("label",{staticClass:"form-check-label d-flex justify-content-start",attrs:{for:"checkinscderecheint"}},[t._v("DERECHOS E INTANGIBLES")])]),e("div",{staticClass:"form-check"},[e("input",{staticClass:"form-check-input",attrs:{type:"checkbox",value:"VEHICULOS",id:"checkinscvehic"}}),e("label",{staticClass:"form-check-label d-flex justify-content-start",attrs:{for:"checkinscvehic"}},[t._v("VEHICULOS")])])])])}],en={name:"AntecedentesFormularios",data:function(){return{listBienesPrendados:["ACTIVO FIJO","BIENES AGROPECUARIOS","DERECHOS E INTANGIBLES","VEHICULOS"],option:"Publico"}},props:{rol:{type:String,default:"FUNCIONARIONOTARIA"},notariasP:{type:Array,default:E},tipoDoc:{type:String,default:"Público"},FOtorgamiento:{type:String,default:""},FSuscripcion:{type:String,default:""},FAutorizacion:{type:String,default:""},FProtocolizacion:{type:String,default:""},RepNotaria:{type:String,default:""},anioRepNotaria:{type:String,default:""},ProhibGravEnajenar:{type:Boolean,default:!1},notaria:{type:String,default:""}},methods:{changeOption:function(){var t=document.getElementById("tipoDeDocumento");this.option=t.options[t.selectedIndex].value},setData:function(){this.$emit("getNotaria",this.notaria),this.$emit("gettipoDoc",this.tipoDoc),this.$emit("getFOtorgamiento",this.FOtorgamiento),this.$emit("getFSuscripcion",this.FSuscripcion),this.$emit("getFAutorizacion",this.FAutorizacion),this.$emit("getFProtocolizacion",this.FProtocolizacion),console.log("AQUI696969"),console.log(this.RepNotaria,this.anioRepNotaria),this.$emit("getRepNotaria",this.RepNotaria),this.$emit("getanioRepNotaria",this.anioRepNotaria),this.$emit("getProhibGravEnajenar",this.ProhibGravEnajenar),this.$emit("getBienes",[document.getElementById("0").checked,document.getElementById("1").checked,document.getElementById("2").checked,document.getElementById("3").checked]),console.log([document.getElementById("0").checked,document.getElementById("1").checked,document.getElementById("2").checked,document.getElementById("3").checked])}}},nn=en,an=(e("3be6"),Object(p["a"])(nn,tn,on,!1,null,"03227f33",null)),rn=an.exports,cn=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"row",attrs:{id:"contenedor"}},[e("div",{staticClass:"titleFormulario"},[t._v("Acreedor")]),e("button",{staticClass:"col buttonAdd",attrs:{id:"btncheckacreedor"},on:{click:function(o){return t.check()}}},[t._v("Checkear datos")]),e("div",{staticClass:"row"},[e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                TIPO DE PERSONA\n            ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.tipoPersona,expression:"tipoPersona"}],staticClass:"form-select",attrs:{id:"tipodepersona"},on:{change:[function(o){var e=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.tipoPersona=o.target.multiple?e:e[0]},function(o){t.changeOption(),t.setData()}]}},[e("option",{attrs:{selected:"",value:"Natural"}},[t._v("Natural")]),e("option",{attrs:{value:"Juridica"}},[t._v("Juridica")]),e("option",{attrs:{value:"Extranjero"}},[t._v("Extranjero")])])])]),"Natural"==t.tipoPersona?e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                RUN\n            ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.run,expression:"run"}],attrs:{type:"text",id:"runacreedor"},domProps:{value:t.run},on:{change:function(o){return t.setData()},input:function(o){o.target.composing||(t.run=o.target.value)}}})])]):t._e(),"Extranjero"==t.tipoPersona?e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                ID\n            ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.id,expression:"id"}],attrs:{type:"text",id:"runacreedor"},domProps:{value:t.id},on:{change:function(o){return t.setData()},input:function(o){o.target.composing||(t.id=o.target.value)}}})])]):t._e(),"Extranjero"==t.tipoPersona?e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                PAÍS\n            ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.pais,expression:"pais"}],staticClass:"form-select",attrs:{id:"paisacreedor"},on:{change:[function(o){var e=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.pais=o.target.multiple?e:e[0]},function(o){t.changeOption(),t.getData()}]}},t._l(t.countries,(function(o,n){return e("option",{key:n,domProps:{value:o.name}},[t._v(t._s(o.name))])})),0)])]):t._e(),"Juridica"==t.tipoPersona?e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                RUT\n            ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.rut,expression:"rut"}],attrs:{type:"text",id:"runacreedor"},domProps:{value:t.rut},on:{change:function(o){return t.setData()},input:function(o){o.target.composing||(t.rut=o.target.value)}}})])]):t._e(),"Juridica"==t.tipoPersona?e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n               RAZÓN SOCIAL\n            ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.razonsocial,expression:"razonsocial"}],attrs:{type:"text",id:"nombresacreedor"},domProps:{value:t.razonsocial},on:{change:function(o){return t.setData()},input:[function(o){o.target.composing||(t.razonsocial=o.target.value)},function(o){t.razonsocial=t.razonsocial.toUpperCase()}]}})])]):t._e()]),"Natural"==t.tipoPersona&&t.checked?e("div",{staticClass:"row"},[e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                APELLIDO PATERNO\n            ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.Apaterno,expression:"Apaterno"}],attrs:{type:"text",id:"apellidopaterno"},domProps:{value:t.Apaterno},on:{change:function(o){return t.setData()},input:[function(o){o.target.composing||(t.Apaterno=o.target.value)},function(o){t.Apaterno=t.Apaterno.toUpperCase()}]}})])]),e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                APELLIDO MATERNO\n            ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.Amaterno,expression:"Amaterno"}],attrs:{type:"text",id:"apellidomaterno"},domProps:{value:t.Amaterno},on:{change:function(o){return t.setData()},input:[function(o){o.target.composing||(t.Amaterno=o.target.value)},function(o){t.Amaterno=t.Amaterno.toUpperCase()}]}})])]),e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                NOMBRES\n            ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.nombres,expression:"nombres"}],attrs:{type:"text",id:"nombresacreedor"},domProps:{value:t.nombres},on:{change:function(o){return t.setData()},input:[function(o){o.target.composing||(t.nombres=o.target.value)},function(o){t.nombres=t.nombres.toUpperCase()}]}})])])]):t._e(),"Extranjero"==t.tipoPersona?e("div",{staticClass:"row"},[e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                NOMBRE COMPLETO\n            ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.nombrecompleto,expression:"nombrecompleto"}],attrs:{type:"text",id:"nombrecompleto"},domProps:{value:t.nombrecompleto},on:{change:function(o){return t.setData()},input:[function(o){o.target.composing||(t.nombrecompleto=o.target.value)},function(o){t.nombrecompleto=t.nombrecompleto.toUpperCase()}]}})])])]):t._e()])},sn=[],ln={countries:[{id:144,name:"Afganistán"},{id:114,name:"Albania"},{id:18,name:"Alemania"},{id:98,name:"Algeria"},{id:145,name:"Andorra"},{id:119,name:"Angola"},{id:4,name:"Anguilla"},{id:147,name:"Antigua y Barbuda"},{id:207,name:"Antillas Holandesas"},{id:91,name:"Arabia Saudita"},{id:5,name:"Argentina"},{id:6,name:"Armenia"},{id:142,name:"Aruba"},{id:1,name:"Australia"},{id:2,name:"Austria"},{id:3,name:"Azerbaiyán"},{id:80,name:"Bahamas"},{id:127,name:"Bahrein"},{id:149,name:"Bangladesh"},{id:128,name:"Barbados"},{id:9,name:"Bélgica"},{id:8,name:"Belice"},{id:151,name:"Benín"},{id:10,name:"Bermudas"},{id:7,name:"Bielorrusia"},{id:123,name:"Bolivia"},{id:79,name:"Bosnia y Herzegovina"},{id:100,name:"Botsuana"},{id:12,name:"Brasil"},{id:155,name:"Brunéi"},{id:11,name:"Bulgaria"},{id:156,name:"Burkina Faso"},{id:157,name:"Burundi"},{id:152,name:"Bután"},{id:159,name:"Cabo Verde"},{id:158,name:"Camboya"},{id:31,name:"Camerún"},{id:32,name:"Canadá"},{id:130,name:"Chad"},{id:81,name:"Chile"},{id:35,name:"China"},{id:33,name:"Chipre"},{id:82,name:"Colombia"},{id:164,name:"Comores"},{id:112,name:"Congo (Brazzaville)"},{id:165,name:"Congo (Kinshasa)"},{id:166,name:"Cook, Islas"},{id:84,name:"Corea del Norte"},{id:69,name:"Corea del Sur"},{id:168,name:"Costa de Marfil"},{id:36,name:"Costa Rica"},{id:71,name:"Croacia"},{id:113,name:"Cuba"},{id:22,name:"Dinamarca"},{id:169,name:"Djibouti, Yibuti"},{id:103,name:"Ecuador"},{id:23,name:"Egipto"},{id:51,name:"El Salvador"},{id:93,name:"Emiratos Árabes Unidos"},{id:173,name:"Eritrea"},{id:52,name:"Eslovaquia"},{id:53,name:"Eslovenia"},{id:28,name:"España"},{id:55,name:"Estados Unidos"},{id:68,name:"Estonia"},{id:121,name:"Etiopía"},{id:175,name:"Feroe, Islas"},{id:90,name:"Filipinas"},{id:63,name:"Finlandia"},{id:176,name:"Fiyi"},{id:64,name:"Francia"},{id:180,name:"Gabón"},{id:181,name:"Gambia"},{id:21,name:"Georgia"},{id:105,name:"Ghana"},{id:143,name:"Gibraltar"},{id:184,name:"Granada"},{id:20,name:"Grecia"},{id:94,name:"Groenlandia"},{id:17,name:"Guadalupe"},{id:185,name:"Guatemala"},{id:186,name:"Guernsey"},{id:187,name:"Guinea"},{id:172,name:"Guinea Ecuatorial"},{id:188,name:"Guinea-Bissau"},{id:189,name:"Guyana"},{id:16,name:"Haiti"},{id:137,name:"Honduras"},{id:73,name:"Hong Kong"},{id:14,name:"Hungría"},{id:25,name:"India"},{id:74,name:"Indonesia"},{id:140,name:"Irak"},{id:26,name:"Irán"},{id:27,name:"Irlanda"},{id:215,name:"Isla Pitcairn"},{id:83,name:"Islandia"},{id:228,name:"Islas Salomón"},{id:58,name:"Islas Turcas y Caicos"},{id:154,name:"Islas Virgenes Británicas"},{id:24,name:"Israel"},{id:29,name:"Italia"},{id:132,name:"Jamaica"},{id:70,name:"Japón"},{id:193,name:"Jersey"},{id:75,name:"Jordania"},{id:30,name:"Kazajstán"},{id:97,name:"Kenia"},{id:34,name:"Kirguistán"},{id:195,name:"Kiribati"},{id:37,name:"Kuwait"},{id:196,name:"Laos"},{id:197,name:"Lesotho"},{id:38,name:"Letonia"},{id:99,name:"Líbano"},{id:198,name:"Liberia"},{id:39,name:"Libia"},{id:126,name:"Liechtenstein"},{id:40,name:"Lituania"},{id:41,name:"Luxemburgo"},{id:85,name:"Macedonia"},{id:134,name:"Madagascar"},{id:76,name:"Malasia"},{id:125,name:"Malawi"},{id:200,name:"Maldivas"},{id:133,name:"Malí"},{id:86,name:"Malta"},{id:131,name:"Man, Isla de"},{id:104,name:"Marruecos"},{id:201,name:"Martinica"},{id:202,name:"Mauricio"},{id:108,name:"Mauritania"},{id:42,name:"México"},{id:43,name:"Moldavia"},{id:44,name:"Mónaco"},{id:139,name:"Mongolia"},{id:117,name:"Mozambique"},{id:205,name:"Myanmar"},{id:102,name:"Namibia"},{id:206,name:"Nauru"},{id:107,name:"Nepal"},{id:209,name:"Nicaragua"},{id:210,name:"Níger"},{id:115,name:"Nigeria"},{id:212,name:"Norfolk Island"},{id:46,name:"Noruega"},{id:208,name:"Nueva Caledonia"},{id:45,name:"Nueva Zelanda"},{id:213,name:"Omán"},{id:19,name:"Países Bajos, Holanda"},{id:87,name:"Pakistán"},{id:124,name:"Panamá"},{id:88,name:"Papúa-Nueva Guinea"},{id:110,name:"Paraguay"},{id:89,name:"Perú"},{id:178,name:"Polinesia Francesa"},{id:47,name:"Polonia"},{id:48,name:"Portugal"},{id:246,name:"Puerto Rico"},{id:216,name:"Qatar"},{id:13,name:"Reino Unido"},{id:65,name:"República Checa"},{id:138,name:"República Dominicana"},{id:49,name:"Reunion"},{id:217,name:"Ruanda"},{id:72,name:"Rumanía"},{id:50,name:"Rusia"},{id:242,name:"Sáhara Occidental"},{id:223,name:"Samoa"},{id:219,name:"San Cristobal y Nevis"},{id:224,name:"San Marino"},{id:221,name:"San Pedro y Miquelón"},{id:225,name:"San Tomé y Príncipe"},{id:222,name:"San Vincente y Granadinas"},{id:218,name:"Santa Elena"},{id:220,name:"Santa Lucía"},{id:135,name:"Senegal"},{id:226,name:"Serbia y Montenegro"},{id:109,name:"Seychelles"},{id:227,name:"Sierra Leona"},{id:77,name:"Singapur"},{id:106,name:"Siria"},{id:229,name:"Somalia"},{id:120,name:"Sri Lanka"},{id:141,name:"Sudáfrica"},{id:232,name:"Sudán"},{id:67,name:"Suecia"},{id:66,name:"Suiza"},{id:54,name:"Surinam"},{id:234,name:"Swazilandia"},{id:56,name:"Tadjikistan"},{id:92,name:"Tailandia"},{id:78,name:"Taiwan"},{id:101,name:"Tanzania"},{id:171,name:"Timor Oriental"},{id:136,name:"Togo"},{id:235,name:"Tokelau"},{id:236,name:"Tonga"},{id:237,name:"Trinidad y Tobago"},{id:122,name:"Túnez"},{id:57,name:"Turkmenistan"},{id:59,name:"Turquía"},{id:239,name:"Tuvalu"},{id:62,name:"Ucrania"},{id:60,name:"Uganda"},{id:111,name:"Uruguay"},{id:61,name:"Uzbekistán"},{id:240,name:"Vanuatu"},{id:95,name:"Venezuela"},{id:15,name:"Vietnam"},{id:241,name:"Wallis y Futuna"},{id:243,name:"Yemen"},{id:116,name:"Zambia"},{id:96,name:"Zimbabwe"}]},un={mounted:function(){"FUNCIONARIOOFICINA"!=this.rol&&(this.checked=!0)},name:"AcreedorFormularios",data:function(){var t=ln.countries;return{countries:t,rol:localStorage.rol,checked:!1}},methods:{changeOption:function(){var t=document.getElementById("tipoDePersona");this.option=t.options[t.selectedIndex].value},setData:function(){this.$emit("gettipoPersona",this.tipoPersona.toString()),this.$emit("getrun",this.run.toString()),this.$emit("getid",this.id.toString()),this.$emit("getpais",this.pais.toString()),this.$emit("getrut",this.rut.toString()),this.$emit("getrazonsocial",this.razonsocial.toString()),this.$emit("getApaterno",this.Apaterno.toString()),this.$emit("getAmaterno",this.Amaterno.toString()),this.$emit("getnombres",this.nombres.toString())},check:function(){var t=this,o="";if("Natural"==this.tipoPersona)if("FUNCIONARIONOTARIA"==this.rol){o="http://ec2-75-101-231-83.compute-1.amazonaws.com:4030/api/users/user";var e='{ "run": "'+this.run+'", "nombres": "'+this.nombres+'", "apellido_paterno": "'+this.Apaterno+'", "apellido_materno": "'+this.Amaterno+'"}';fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:e}).then((function(t){t.json().then((function(t){if(t.valid){var o=document.getElementById("btncheckacreedor").style.background="#5bd54b";console.log(o)}else alert("Datos de ACREEDOR invalidos")}))}))}else if(""==this.run)alert("No hay ningun run ingresado");else{o="http://ec2-75-101-231-83.compute-1.amazonaws.com:4030/api/users/user?run="+this.run;var n=new XMLHttpRequest;n.open("GET",o),n.send(),n.onload=function(){if(200==n.status){var o=JSON.parse(n.response);o.valid?(t.checked=!0,document.getElementById("btncheckacreedor").style.background="#5bd54b",setTimeout((function(){document.getElementById("apellidopaterno").value=o.apellido_paterno,document.getElementById("apellidomaterno").value=o.apellido_materno,document.getElementById("nombresacreedor").value=o.nombres}),300)):alert(o.msg)}}}}},props:{nombrecompleto:{type:String,default:""},tipoPersona:{type:String,default:"Natural"},run:{type:String,default:""},id:{type:String,default:""},pais:{type:String,default:"Chile"},rut:{type:String,default:""},razonsocial:{type:String,default:""},Apaterno:{type:String,default:""},Amaterno:{type:String,default:""},nombres:{type:String,default:""}}},dn=un,pn=(e("cd7f"),Object(p["a"])(dn,cn,sn,!1,null,"0cdf1eee",null)),mn=pn.exports,hn=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"row",attrs:{id:"contenedor"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"titleFormulario col"},[t._v("Constituyentes ")]),"Escribir"==t.modo?e("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1",modifiers:{"modal-1":!0}}],staticClass:"col buttonAdd"},[t._v("+")]):t._e(),"Escribir"==t.modo?e("b-modal",{attrs:{id:"modal-1","hide-footer":""}},[e("div",{staticClass:"row"},[e("div",{staticClass:"d-flex justify-content-center titleModal"},[t._v("CONSTITUYENTE ")]),e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        TIPO DE PERSONA\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.tipoDePersonaConstituyente,expression:"tipoDePersonaConstituyente"}],staticClass:"form-select",attrs:{id:"tipoDePersonaConstituyente"},on:{change:[function(o){var e=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.tipoDePersonaConstituyente=o.target.multiple?e:e[0]},function(o){t.changeOption(),t.setData(),t.clean(),t.setVars()}]}},[e("option",{attrs:{selected:"",value:"Natural"}},[t._v("Natural")]),e("option",{attrs:{value:"Juridica"}},[t._v("Juridica")]),e("option",{attrs:{value:"Extranjero"}},[t._v("Extranjero")])])])]),"Natural"==t.option?e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        RUN\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.run,expression:"run"}],attrs:{type:"text",id:"run"},domProps:{value:t.run},on:{input:function(o){o.target.composing||(t.run=o.target.value)}}})])]):t._e(),"Extranjero"==t.option?e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        ID\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.id,expression:"id"}],attrs:{type:"text",id:"id"},domProps:{value:t.id},on:{input:function(o){o.target.composing||(t.id=o.target.value)}}})])]):t._e(),"Juridica"==t.option?e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        RUT\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.rut,expression:"rut"}],attrs:{type:"text",id:"rut"},domProps:{value:t.rut},on:{input:function(o){o.target.composing||(t.rut=o.target.value)}}})])]):t._e(),"Juridica"==t.option?e("div",{staticClass:"row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        RAZON SOCIAL\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.razonsocial,expression:"razonsocial"}],attrs:{type:"text",id:"razonsocial"},domProps:{value:t.razonsocial},on:{input:[function(o){o.target.composing||(t.razonsocial=o.target.value)},function(o){t.razonsocial=t.razonsocial.toUpperCase()}]}})])]):t._e()]),"Natural"!=t.option||t.checked?t._e():e("button",{staticClass:"col buttonAdd2",attrs:{id:"btncheckacreedor"},on:{click:function(o){return t.check()}}},[t._v("Checkear datos")]),"Natural"==t.option&&t.checked?e("div",{staticClass:"row"},[e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex"},[t._v("\n                            APELLIDO PATERNO\n                        ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.apellidopaterno,expression:"apellidopaterno"}],attrs:{id:"apellidopaterno",type:"text"},domProps:{value:t.apellidopaterno},on:{input:[function(o){o.target.composing||(t.apellidopaterno=o.target.value)},function(o){t.apellidopaterno=t.apellidopaterno.toUpperCase()}]}})])]),e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex "},[t._v("\n                           APELLIDO MATERNO\n                        ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.apellidomaterno,expression:"apellidomaterno"}],attrs:{id:"apellidomaterno",type:"text"},domProps:{value:t.apellidomaterno},on:{input:[function(o){o.target.composing||(t.apellidomaterno=o.target.value)},function(o){t.apellidomaterno=t.apellidomaterno.toUpperCase()}]}})])]),e("div",{staticClass:"row"},[e("div",{staticClass:"titles d-flex "},[t._v("\n                        NOMBRES\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.nombres,expression:"nombres"}],attrs:{id:"nombres",type:"text"},domProps:{value:t.nombres},on:{input:[function(o){o.target.composing||(t.nombres=o.target.value)},function(o){t.nombres=t.nombres.toUpperCase()}]}})])])]):t._e(),"Extranjero"==t.option?e("div",{staticClass:"row"},[e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex "},[t._v("\n                        NOMBRE COMPLETO\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.nombrecompleto,expression:"nombrecompleto"}],attrs:{id:"nonmbrecompleto",type:"text"},domProps:{value:t.nombrecompleto},on:{input:[function(o){o.target.composing||(t.nombrecompleto=o.target.value)},function(o){t.nombrecompleto=t.nombrecompleto.toUpperCase()}]}})])]),"Extranjero"==t.option?e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        PAÍS\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.pais,expression:"pais"}],staticClass:"form-select",attrs:{id:"pais"},on:{change:[function(o){var e=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.pais=o.target.multiple?e:e[0]},function(o){t.changeOption(),t.getData()}]}},t._l(t.countries,(function(o,n){return e("option",{key:n,domProps:{value:o.name}},[t._v(t._s(o.name))])})),0)])]):t._e()]):t._e(),e("b-button",{attrs:{id:"ADDConstituyente"},on:{click:function(o){t.add(),t.setData(),t.clean()}}},[t._v("Agregar Constituyente")])],1):t._e()],1),e("table",{staticClass:"table"},[t._m(0),0==t.items.length?e("tbody",{staticClass:"bodyTabla"},[e("td",[t._v("No data")])]):t._l(t.items,(function(o,n){return e("tbody",{key:n,staticClass:"bodyTabla",attrs:{id:"tablaconstituyentes"},on:{change:function(o){return t.setData()}}},[e("td",[t._v(t._s(o.Tipo))]),e("td",[t._v(t._s(o.Id))]),e("td",[t._v(t._s(o.Name))]),e("td",[t._v(t._s(o.Pais))]),e("td",[e("p",{attrs:{type:"button"},on:{click:function(o){t.borrar(n),t.setData()}}},[t._v("X")])])])}))],2)])},gn=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("thead",{staticClass:"encabezadoTabla"},[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("TIPO DE PERSONA")]),e("th",{attrs:{scope:"col"}},[t._v("IDENTIFICADOR")]),e("th",{attrs:{scope:"col"}},[t._v("NOMBRE/RAZON")]),e("th",{attrs:{scope:"col"}},[t._v("PAIS")]),e("th",{attrs:{scope:"col"}})])])}],fn={mounted:function(){this.items.length=0,"FUNCIONARIOOFICINA"!=this.rol&&(this.checked=!0)},name:"ConstituyenteFormulario",data:function(){var t=ln.countries;return{option:"Natural",countries:t,idDocumento:"",nombrePersona:"",pais:"Chile",rol:localStorage.rol,checked:!1}},props:{items:{type:Array,default:new Array},nombrecompleto:{type:String,default:""},modo:String,tipoPersona:{type:String,default:"Natural"},run:{type:String,default:""},id:{type:String,default:""},rut:{type:String,default:""},razonsocial:{type:String,default:""},Apaterno:{type:String,default:""},Amaterno:{type:String,default:""},nombres:{type:String,default:""}},methods:{changeOption:function(){var t=document.getElementById("tipoDePersonaConstituyente");this.option=t.options[t.selectedIndex].value},check:function(){var t=this,o=document.getElementById("run").value;if(""==o)alert("No hay ningun run ingresado");else{var e="http://ec2-75-101-231-83.compute-1.amazonaws.com:4030/api/users/user?run="+o,n=new XMLHttpRequest;n.open("GET",e),n.send(),n.onload=function(){if(200==n.status){var o=JSON.parse(n.response);o.valid?(t.checked=!0,document.getElementById("btncheckacreedor").style.display="none",setTimeout((function(){document.getElementById("apellidopaterno").value=o.apellido_paterno,document.getElementById("apellidomaterno").value=o.apellido_materno,document.getElementById("nombres").value=o.nombres,t.nombres=o.nombres,t.apellidopaterno=o.apellido_paterno,t.apellidomaterno=o.apellido_materno}),300)):alert(o.msg)}}}},borrar:function(t){this.items.splice(t,1)},clean:function(){console.log("MYDATA"),console.log("limpiar campos aqui")},setData:function(){var t=this;setTimeout((function(){t.$emit("getConstituyentes",t.items);var o=[];t.items.forEach((function(t){o.push('"'+t.Id+'"')})),console.log("MY CONSTITUYETE"),console.log(o),console.log(t.items),localStorage.constituyentes=o}),1500)},add:function(){var t=this,o=new XMLHttpRequest,e="";"Natural"==this.option?e="http://ec2-75-101-231-83.compute-1.amazonaws.com:4030/api/users/user?run="+this.run:"Juridica"==this.option?e="http://ec2-75-101-231-83.compute-1.amazonaws.com:4030/api/users/user?run="+this.rut:"Extranjero"==this.option&&(e="http://ec2-75-101-231-83.compute-1.amazonaws.com:4030/api/users/user?run="+this.id),console.log("jhajs"),o.open("GET",e),o.send(),o.onload=function(){if(200==o.status){var e=JSON.parse(o.response);if(e.valid){if("Natural"==t.option){var n={Tipo:t.option,Id:t.run,Name:t.nombres+" "+t.apellidopaterno+" "+t.apellidomaterno,Pais:t.pais};t.items.push(n)}else if("Juridica"==t.option){var a={Tipo:t.option,Id:t.rut,Name:t.razonsocial,Pais:t.pais};t.items.push(a)}else if("Extranjero"==t.option){var i={Tipo:t.option,Id:t.id,Name:t.nombrecompleto,Pais:t.pais};t.items.push(i)}t.run="",t.nombres="",t.apellidopaterno="",t.apellidomaterno="",t.pais="Chile",t.option="Natural",t.rut="",t.razonsocial="",t.id="",t.nombrecompleto="","FUNCIONARIOOFICINA"==t.rol&&(t.checked=!1)}else alert(e.msg)}else alert("No se mando correctamente la persona, intentelo de nuevo")};var n=[];this.items.forEach((function(t){n.push('"'+t.Id+'"')})),localStorage.constituyentes=n}}},vn=fn,bn=(e("b721"),Object(p["a"])(vn,hn,gn,!1,null,"4856b7a0",null)),On=bn.exports,_n=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"row",attrs:{id:"contenedor"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"titleFormulario col"},[t._v("Deudores ")]),"Escribir"==t.modo?e("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-3",modifiers:{"modal-3":!0}}],staticClass:"col buttonAdd"},[t._v("+")]):t._e(),"Escribir"==t.modo?e("b-modal",{attrs:{id:"modal-3","hide-footer":""}},[e("div",{staticClass:"row"},[e("div",{staticClass:"d-flex justify-content-center titleModal"},[t._v("DEUDOR ")]),e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        TIPO DE PERSONA\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("select",{staticClass:"form-select",attrs:{id:"tipoDePersonaDeudor"},on:{change:function(o){t.changeOption(),t.setData(),t.clean()}}},[e("option",{attrs:{selected:"",value:"Natural"}},[t._v("Natural")]),e("option",{attrs:{value:"Juridica"}},[t._v("Juridica")]),e("option",{attrs:{value:"Extranjero"}},[t._v("Extranjero")])])])]),"Natural"==t.option?e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        RUN\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.run,expression:"run"}],attrs:{type:"text",id:"run"},domProps:{value:t.run},on:{input:function(o){o.target.composing||(t.run=o.target.value)}}})])]):t._e(),"Extranjero"==t.option?e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        ID\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.id,expression:"id"}],attrs:{type:"text",id:"id"},domProps:{value:t.id},on:{input:function(o){o.target.composing||(t.id=o.target.value)}}})])]):t._e(),"Juridica"==t.option?e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        RUT\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.rut,expression:"rut"}],attrs:{type:"text",id:"rut"},domProps:{value:t.rut},on:{input:function(o){o.target.composing||(t.rut=o.target.value)}}})])]):t._e(),"Juridica"==t.option?e("div",{staticClass:"row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        RAZON SOCIAL\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.razonsocial,expression:"razonsocial"}],attrs:{type:"text",id:"razonsocial"},domProps:{value:t.razonsocial},on:{input:[function(o){o.target.composing||(t.razonsocial=o.target.value)},function(o){t.razonsocial=t.razonsocial.toUpperCase()}]}})])]):t._e()]),"Natural"!=t.option||t.checked?t._e():e("button",{staticClass:"col buttonAdd2",attrs:{id:"btncheckacreedor"},on:{click:function(o){return t.check()}}},[t._v("Checkear datos")]),"Natural"==t.option&&t.checked?e("div",{staticClass:"row"},[e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex"},[t._v("\n                            APELLIDO PATERNO\n                        ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.apellidopaterno,expression:"apellidopaterno"}],attrs:{type:"text",id:"apellidopaterno"},domProps:{value:t.apellidopaterno},on:{input:[function(o){o.target.composing||(t.apellidopaterno=o.target.value)},function(o){t.apellidopaternos=t.apellidopaterno.toUpperCase()}]}})])]),e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex "},[t._v("\n                           APELLIDO MATERNO\n                        ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.apellidomaterno,expression:"apellidomaterno"}],attrs:{type:"text",id:"apellidomaterno"},domProps:{value:t.apellidomaterno},on:{input:[function(o){o.target.composing||(t.apellidomaterno=o.target.value)},function(o){t.apellidomaterno=t.apellidomaterno.toUpperCase()}]}})])]),e("div",{staticClass:"row"},[e("div",{staticClass:"titles d-flex "},[t._v("\n                        NOMBRES\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.nombres,expression:"nombres"}],attrs:{type:"text",id:"nombres"},domProps:{value:t.nombres},on:{input:[function(o){o.target.composing||(t.nombres=o.target.value)},function(o){t.nombres=t.nombres.toUpperCase()}]}})])])]):t._e(),"Extranjero"==t.option?e("div",{staticClass:"row"},[e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex "},[t._v("\n                        NOMBRE COMPLETO\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.nombrecompleto,expression:"nombrecompleto"}],attrs:{id:"nonmbrecompleto",type:"text"},domProps:{value:t.nombrecompleto},on:{input:[function(o){o.target.composing||(t.nombrecompleto=o.target.value)},function(o){t.nombrecompleto=t.nombrecompleto.toUpperCase()}]}})])]),"Extranjero"==t.option?e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        PAÍS\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.pais,expression:"pais"}],staticClass:"form-select",attrs:{id:"pais"},on:{change:[function(o){var e=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.pais=o.target.multiple?e:e[0]},function(o){t.changeOption(),t.getData()}]}},t._l(t.countries,(function(o,n){return e("option",{key:n,domProps:{value:o.name}},[t._v(t._s(o.name))])})),0)])]):t._e()]):t._e(),e("b-button",{attrs:{id:"ADDDeudor"},on:{click:function(o){t.add(),t.setData(),t.clean()}}},[t._v("Agregar Deudor")])],1):t._e()],1),e("table",{staticClass:"table"},[t._m(0),0==t.items.length?e("tbody",{staticClass:"bodyTabla"},[e("td",[t._v("No data")])]):t._l(t.items,(function(o,n){return e("tbody",{key:n,staticClass:"bodyTabla",attrs:{id:"tabladeudores"},on:{change:function(o){return t.setData()}}},[e("td",[t._v(t._s(o.Tipo))]),e("td",[t._v(t._s(o.Id))]),e("td",[t._v(t._s(o.Name))]),e("td",[t._v(t._s(o.Pais))]),e("td",[e("p",{attrs:{type:"button"},on:{click:function(o){t.borrar(n),t.setData()}}},[t._v("X")])])])}))],2)])},jn=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("thead",{staticClass:"encabezadoTabla"},[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("TIPO DE PERSONA")]),e("th",{attrs:{scope:"col"}},[t._v("IDENTIFICADOR")]),e("th",{attrs:{scope:"col"}},[t._v("NOMBRE/RAZON")]),e("th",{attrs:{scope:"col"}},[t._v("PAIS")]),e("th",{attrs:{scope:"col"}})])])}],Sn={name:"AcreedorFormularios",mounted:function(){this.items.length=0,"FUNCIONARIOOFICINA"!=this.rol&&(this.checked=!0)},data:function(){var t=ln.countries;return{option:"Natural",headers:["Tipo","Id","Name"],run:"",id:"",rut:"",nombres:"",razonsocial:"",countries:t,pais:"Chile",apellidopaterno:"",apellidomaterno:"",nombrecompleto:"",rol:localStorage.rol,checked:!1}},props:{items:{type:Array,default:new Array},modo:String},methods:{borrar:function(t){this.items.splice(t,1)},changeOption:function(){var t=document.getElementById("tipoDePersonaDeudor");this.option=t.options[t.selectedIndex].value},add:function(){var t=this,o=new XMLHttpRequest,e="";"Natural"==this.option?e="http://ec2-75-101-231-83.compute-1.amazonaws.com:4030/api/users/user?run="+this.run:"Juridica"==this.option?e="http://ec2-75-101-231-83.compute-1.amazonaws.com:4030/api/users/user?run="+this.rut:"Extranjero"==this.option&&(e="http://ec2-75-101-231-83.compute-1.amazonaws.com:4030/api/users/user?run="+this.id),o.open("GET",e),o.send(),o.onload=function(){if(200==o.status){var e=JSON.parse(o.response);if(e.valid){if("Natural"==t.option){var n={Tipo:t.option,Id:t.run,Name:t.nombres+" "+t.apellidopaterno+" "+t.apellidomaterno,Pais:t.pais};t.items.push(n)}else if("Juridica"==t.option){var a={Tipo:t.option,Id:t.rut,Name:t.razonsocial,Pais:t.pais};t.items.push(a)}else if("Extranjero"==t.option){var i={Tipo:t.option,Id:t.id,Name:t.nombrecompleto,Pais:t.pais};t.items.push(i)}t.run="",t.nombres="",t.apellidopaterno="",t.apellidomaterno="",t.pais="Chile",t.option="Natural",t.rut="",t.razonsocial="",t.id="",t.nombrecompleto="","FUNCIONARIOOFICINA"==t.rol&&(t.checked=!1)}else alert(e.msg)}else alert("No se mando correctamente la persona, intentelo de nuevo")}},setData:function(){this.$emit("getDeudores",this.items)},check:function(){var t=this,o=document.getElementById("run").value;if(""==o)alert("No hay ningun run ingresado");else{var e="http://ec2-75-101-231-83.compute-1.amazonaws.com:4030/api/users/user?run="+o,n=new XMLHttpRequest;n.open("GET",e),n.send(),n.onload=function(){if(200==n.status){var o=JSON.parse(n.response);o.valid?(t.checked=!0,document.getElementById("btncheckacreedor").style.display="none",setTimeout((function(){document.getElementById("apellidopaterno").value=o.apellido_paterno,document.getElementById("apellidomaterno").value=o.apellido_materno,document.getElementById("nombres").value=o.nombres,t.nombres=o.nombres,t.apellidopaterno=o.apellido_paterno,t.apellidomaterno=o.apellido_materno}),300)):alert(o.msg)}}}}}},En=Sn,In=(e("0151"),Object(p["a"])(En,_n,jn,!1,null,"145b70eb",null)),Rn=In.exports,Cn=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"row",attrs:{id:"contenedor"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"titleFormulario col",on:{click:function(o){return t.getPatentes()}}},[t._v("Vehiculos  ")]),e("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-2",modifiers:{"modal-2":!0}}],staticClass:"col buttonAdd"},[t._v("+")]),e("b-modal",{attrs:{id:"modal-2","hide-footer":""}},[e("div",{staticClass:"row"},[e("div",{staticClass:"d-flex justify-content-center titleModal"},[t._v("Vehiculos ")]),e("div",{staticClass:"row"},[e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                            PATENTE\n                        ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.patente,expression:"patente"}],attrs:{id:"textPatente",type:"text"},domProps:{value:t.patente},on:{input:[function(o){o.target.composing||(t.patente=o.target.value)},function(o){t.patente=t.patente.toUpperCase()}]}})])]),e("div",{staticClass:"d-flex justify-content-center SpaceItems"},[e("div",{staticClass:"form-check "},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.rvm,expression:"rvm"}],staticClass:"form-check-input",attrs:{type:"checkbox",value:"",id:"defaultCheckrvm"},domProps:{checked:Array.isArray(t.rvm)?t._i(t.rvm,"")>-1:t.rvm},on:{change:function(o){var e=t.rvm,n=o.target,a=!!n.checked;if(Array.isArray(e)){var i="",r=t._i(e,i);n.checked?r<0&&(t.rvm=e.concat([i])):r>-1&&(t.rvm=e.slice(0,r).concat(e.slice(r+1)))}else t.rvm=a}}}),e("label",{staticClass:"form-check-label d-flex align-items-start",attrs:{for:"defaultCheckrvm"}},[t._v("\n                                RVM\n                            ")])])])]),this.rvm?e("div",{staticClass:"d-flex justify-content-center SpaceItems"},[e("div",{staticClass:"form-check "},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.GoE,expression:"GoE"}],staticClass:"form-check-input",attrs:{type:"checkbox",value:"",id:"defaultCheckGE"},domProps:{checked:Array.isArray(t.GoE)?t._i(t.GoE,"")>-1:t.GoE},on:{change:function(o){var e=t.GoE,n=o.target,a=!!n.checked;if(Array.isArray(e)){var i="",r=t._i(e,i);n.checked?r<0&&(t.GoE=e.concat([i])):r>-1&&(t.GoE=e.slice(0,r).concat(e.slice(r+1)))}else t.GoE=a}}}),e("label",{staticClass:"form-check-label d-flex align-items-start",attrs:{for:"defaultCheckGE"}},[t._v("\n                            PROHIBICIÓN DE GRAVAR O ENAJENAR\n                        ")])])]):t._e()]),e("b-button",{attrs:{id:"ADDVEHICULO"},on:{click:function(o){t.add(),t.setData()}}},[t._v("Agregar Vehículo")])],1)],1),e("table",{staticClass:"table"},[t._m(0),0==t.items.length?e("tbody",{staticClass:"bodyTabla"},[e("td",[t._v("No data")])]):t._l(t.items,(function(o,n){return e("tbody",{key:n,staticClass:"bodyTabla",attrs:{id:"tablapatentesinscripcion"}},[e("td",[t._v(t._s(o.patente))]),e("td",[1==o.rvm?e("div",[t._v("SI")]):t._e(),0==o.rvm?e("div",[t._v("NO")]):t._e()]),e("td",[1==o.GoE?e("div",[t._v("GRAVAR")]):t._e(),0==o.GoE?e("div",[t._v("NO")]):t._e()]),e("td",[e("p",{attrs:{type:"button"},on:{click:function(o){t.borrar(n),t.setData()}}},[t._v("X")])])])}))],2)])},An=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("thead",{staticClass:"encabezadoTabla"},[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("PATENTE")]),e("th",{attrs:{scope:"col"}},[t._v("RVM")]),e("th",{attrs:{scope:"col"}},[t._v("GRAVAR/ENAJENAR")]),e("th",{attrs:{scope:"col"}})])])}],Pn=e("53ca");function Nn(t,o){var e,n=[],a=[],i=[],r=[],c=[],s=[];console.log("ENTREEEEEEEE"),"I"==o?Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Inscripcion_Prenda")).then((function(o){var l=o.docs;l.forEach((function(o){t==o.id&&(e=o.data(),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Document_RPsD"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();o.contrato?r.push(o):c.push(o)}))})).then((function(){console.log("ARCHIVOS"),console.log(r),console.log(c)})),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Persona_Solicitud"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();0==o.tipoContratante?n.push(o):1==o.tipoContratante?a.push(o):2==o.tipoContratante&&i.push(o)}))})).then((function(){console.log("PERSONAS"),console.log(n),console.log(a),console.log(i)})),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Patente_por_Inscripcion"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();s.push(o)}))})).then((function(){console.log("PATENTES"),console.log(s)})))}))})).then((function(){console.log("INSCRIPCION"),console.log(e)})):"M"==o?Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Modificacion_Prenda")).then((function(o){var n=o.docs;n.forEach((function(o){t==o.id&&(e=o.data(),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Document_RPsD"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();o.contrato?r.push(o):c.push(o)}))})).then((function(){console.log("ARCHIVOS"),console.log(r),console.log(c)})))}))})).then((function(){console.log("MODIFICACION"),console.log(e)})):"A"==o&&Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Alzamiento_Prenda")).then((function(o){var n=o.docs;n.forEach((function(o){t==o.id&&(e=o.data(),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Document_RPsD"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();o.contrato?r.push(o):c.push(o)}))})).then((function(){console.log("ARCHIVOS"),console.log(r),console.log(c)})))}))})).then((function(){console.log("ALZAMIENTO"),console.log(e)}))}var Dn=[];function yn(){Object(O["e"])(Object(O["a"])(Eh,"Precios")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();Dn.push(o)})),console.log(Dn)}))}var Tn,Fn={mounted:function(){yn(),this.items.length=0},name:"AcreedorFormularios",data:function(){return{option:"Natural"}},props:{items:{type:Array,default:new Array},patente:{type:String,default:""},GoE:{type:Boolean,default:!1},rvm:{type:Boolean,default:!1},estado:{type:String,default:""}},methods:{getPatentes:function(){Nn(12,"I")},borrar:function(t){this.items.splice(t,1);var o=document.getElementById("monto"),e=parseInt(o.innerHTML.substring(1));e-=Dn[7]["precio"],e-=Dn[8]["precio"],o.innerHTML="$"+e;var n=document.getElementById("monto3"),a=parseInt(n.innerHTML.substring(1));a-=Dn[7]["precio"]+Dn[8]["precio"],n.innerHTML="$"+a},changeOption:function(){var t=document.getElementById("tipoDePersona");this.option=t.options[t.selectedIndex].value},add:function(){var t=this;if(this.rvm){var o=!1,e=!1,n=!1,a="http://ec2-75-101-231-83.compute-1.amazonaws.com:4031/API/vehicles/licensePlates",i='{"patente": "'+this.patente+'"}';fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:i}).then((function(t){t.json().then((function(t){t.valid?(o=!0,console.log(o)):alert("PATENTE INVALIDA o este vehiculo no esta registrado en el RVM")}))})),a="http://ec2-75-101-231-83.compute-1.amazonaws.com:4031/api/vehicles/check_ownership";var r=localStorage.constituyentes;console.log(Object(Pn["a"])(r.split(","))),console.log(r.split(",")),i='{"plate": "'+this.patente+'","owners": ['+r.split(",")+"]}",console.log(i),fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:i}).then((function(t){console.log(t),t.json().then((function(t){console.log(t),t.valid?(e=!0,console.log(e)):alert("Patente NO pertenece a constituyentes")}))})),a="http://ec2-75-101-231-83.compute-1.amazonaws.com:4031/API/vehicles/licensePlates?patente="+this.patente,i="{}",console.log(i),fetch(a,{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(t){console.log(t),t.json().then((function(t){console.log(t),t.success?(n=!0,console.log(n)):alert("La Patente tiene Solicitudes pendientes")}))})),console.log(o,e,n),setTimeout((function(){if(o&&e&&n){console.log("entre...09");var a={patente:t.patente,rvm:t.rvm,GoE:t.GoE};t.items.push(a);var i=document.getElementById("monto"),r=parseInt(i.innerHTML.substring(1));r+=Dn[7]["precio"],r+=Dn[8]["precio"],i.innerHTML="$"+r;var c=document.getElementById("monto3");console.log("MY MONTO"),console.log(c.innerHTML.substring(1));var s=parseInt(c.innerHTML.substring(1));s+=Dn[7]["precio"]+Dn[8]["precio"],c.innerHTML="$"+s,t.patente="",t.rvm=!1,t.GoE=!1}}),1500)}else{var c={patente:this.patente,rvm:this.rvm,GoE:this.GoE};this.items.push(c);var s=document.getElementById("monto"),l=parseInt(s.innerHTML.substring(1));l+=Dn[7]["precio"],s.innerHTML="$"+l;var u=document.getElementById("monto3");console.log("MY MONTO"),console.log(u.innerHTML.substring(1));var d=parseInt(u.innerHTML.substring(1));d+=Dn[7]["precio"],u.innerHTML="$"+d,this.patente="",this.rvm=!1,this.GoE=!1}},clean:function(){console.log("limpiar campos aqui")},setData:function(){this.$emit("getVehiculos",this.items)}}},Mn=Fn,xn=(e("6f63"),Object(p["a"])(Mn,Cn,An,!1,null,"5928642d",null)),zn=xn.exports,wn=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"row",attrs:{id:"contenedor"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"titleFormulario col",on:{change:function(o){return t.setData()}}},[t._v("Contrato")]),e("div",{staticClass:"input-group mb-3 ",on:{change:function(o){return t.setData()}}},[e("label",{attrs:{for:"contrato"}}),e("input",{staticClass:"form-control",attrs:{type:"file",id:"contrato",accept:"application/pdf"},on:{change:function(o){return t.setData()}}})])])])},Bn=[],kn={name:"AcreedorFormularios",data:function(){return{headers:["Tipo","Id","Name"],contrato:null}},props:{},methods:{setData:function(){this.$emit("getContrato",document.getElementById("contrato").files)}}},qn=kn,Ln=(e("f49b"),Object(p["a"])(qn,wn,Bn,!1,null,"19beb3c1",null)),Un=Ln.exports,Gn=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"row",attrs:{id:"contenedor"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"titleFormulario col",on:{change:function(o){return t.setData()}}},[t._v("Anexos")]),e("div",{staticClass:"input-group mb-3 ",on:{change:function(o){return t.setData()}}},[e("label",{attrs:{for:"anexos"}}),e("input",{staticClass:"form-control",attrs:{type:"file",multiple:"",id:"anexos",accept:"application/pdf"},on:{change:function(o){return t.setData()}}})])])])},$n=[],Vn={name:"AcreedorFormularios",data:function(){return{headers:["Tipo","Id","Name"]}},methods:{setData:function(){this.$emit("getAnexos",document.getElementById("anexos").files)}}},Hn=Vn,Yn=(e("dbd6"),Object(p["a"])(Hn,Gn,$n,!1,null,"26a899ca",null)),Jn=Yn.exports,Zn=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"row",attrs:{id:"contenedor"}},[e("div",{staticClass:"titleFormulario"},[t._v("Requirente")]),e("button",{staticClass:"col buttonAdd",attrs:{id:"btncheckacreedor"},on:{click:function(o){return t.check()}}},[t._v("Checkear datos")]),t.checked?e("div",{staticClass:"row"},[e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                NOMBRE COMPLETO\n            ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.nombreCompleto,expression:"nombreCompleto"}],attrs:{type:"text",id:"nombrecompletorequirente"},domProps:{value:t.nombreCompleto},on:{change:function(o){return t.setData()},input:function(o){o.target.composing||(t.nombreCompleto=o.target.value)}}})])])]):t._e(),e("div",{staticClass:"row"},[e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                N DE DOCUMENTO\n            ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.NdeDocumento,expression:"NdeDocumento"}],attrs:{type:"text",id:"ndedocumentorequirente"},domProps:{value:t.NdeDocumento},on:{change:function(o){return t.setData()},input:function(o){o.target.composing||(t.NdeDocumento=o.target.value)}}})])]),e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                CORREO\n            ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.correo,expression:"correo"}],attrs:{type:"text",id:"correorequirente"},domProps:{value:t.correo},on:{change:function(o){return t.setData()},input:function(o){o.target.composing||(t.correo=o.target.value)}}})])]),e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n               FECHA\n            ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.fecha,expression:"fecha"}],attrs:{type:"date",id:"fecharequirente"},domProps:{value:t.fecha},on:{change:function(o){return t.setData()},input:function(o){o.target.composing||(t.fecha=o.target.value)}}})])])])])},Wn=[],Xn=new Date,Kn=Xn.getFullYear()+"-"+(Xn.getMonth()+1)+"-"+Xn.getDate(),Qn={mounted:function(){var t=new Date,o=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate();document.getElementById("fecharequirente").value=o},name:"AcreedorFormularios",data:function(){var t=ln.countries;return{listBienesPrendados:["ACTIVO FIJO","BIENES AGROPECUARIOS","DERECHOS E INTANGIBLES","VEHICULOS"],countries:t,checked:!1}},props:{nombreCompleto:{type:String,default:""},NdeDocumento:{type:String,default:""},correo:{type:String,default:""},fecha:{type:String,default:Kn},nombrecompleto:{type:String,default:""},tipoPersona:{type:String,default:"Natural"},run:{type:String,default:""},id:{type:String,default:""},pais:{type:String,default:"Chile"},rut:{type:String,default:""},razonsocial:{type:String,default:""},Apaterno:{type:String,default:""},Amaterno:{type:String,default:""},nombres:{type:String,default:""}},methods:{changeOption:function(){var t=document.getElementById("tipoDePersona");this.option=t.options[t.selectedIndex].value},setData:function(){this.$emit("getnombreRequirente",this.nombreCompleto.toString()),this.$emit("getrutRequirente",this.NdeDocumento.toString()),this.$emit("getCorreoRequirente",this.correo.toString()),this.$emit("getFechaRequirente",this.fecha.toString())},check:function(){var t=this,o=document.getElementById("ndedocumentorequirente").value;if(""==o)alert("No hay ningun run ingresado");else{var e="http://ec2-75-101-231-83.compute-1.amazonaws.com:4030/api/users/user?run="+o,n=new XMLHttpRequest;n.open("GET",e),n.send(),n.onload=function(){if(200==n.status){var o=JSON.parse(n.response);o.valid?(t.checked=!0,document.getElementById("btncheckacreedor").style.background="#5bd54b",setTimeout((function(){document.getElementById("nombrecompletorequirente").value=o.nombres+" "+o.apellido_paterno+" "+o.apellido_materno;var t=new Date,e=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate();document.getElementById("fecharequirente").value=e}),300)):alert(o.msg)}}}}}},ta=Qn,oa=(e("b995"),Object(p["a"])(ta,Zn,Wn,!1,null,"2bca3816",null)),ea=oa.exports,na=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"row",attrs:{id:"contenedor"}},[e("div",{staticClass:"titleFormulario col"},[t._v("Monto Actuacion ")]),e("div",{staticClass:"col titleMonto",attrs:{id:"monto2"}},[t._v(" $"+t._s(this.monto)+" ")]),e("div",{staticClass:"titleFormulario col"},[t._v("Monto Anotaciones ")]),e("div",{staticClass:"col titleMonto",attrs:{id:"monto3"}},[t._v(" $"+t._s(this.monto)+" ")]),e("div",{staticClass:"titleFormulario col"},[t._v("Monto Total ")]),e("div",{staticClass:"col titleMonto",attrs:{id:"monto"}},[t._v(" $"+t._s(this.monto)+" ")])])},aa=[],ia={name:"Monto",data:function(){return{monto:"0"}}},ra=ia,ca=(e("3e1b"),Object(p["a"])(ra,na,aa,!1,null,"0eafeabc",null)),sa=ca.exports,la=[];function ua(t){if(!t.includes("-"))return!1;t=t.split("-");var o=t[0],e=t[1],n=(new Date).getFullYear();return!isNaN(o)&&!o.includes("e")&&4==o.length&&!(e>n||isNaN(e)||e.length<4)}function da(t,o,e,n,a,i,r,c,s,l,u,d,p,m,h,g,f,v,b,_,j,S){var E=this,I=arguments.length>22&&void 0!==arguments[22]?arguments[22]:[],R=arguments.length>23&&void 0!==arguments[23]?arguments[23]:[],C=arguments.length>24&&void 0!==arguments[24]?arguments[24]:[],A=arguments.length>25&&void 0!==arguments[25]?arguments[25]:[],P=arguments.length>26&&void 0!==arguments[26]?arguments[26]:[],N=arguments.length>27&&void 0!==arguments[27]&&arguments[27],D=arguments.length>28?arguments[28]:void 0,y=arguments.length>29?arguments[29]:void 0,T=arguments.length>30?arguments[30]:void 0;console.log("loading");var F=!0;if(console.log("PERSONAS DE LA SOLICITUD"),console.log(I),console.log(R),console.log(C),C.forEach((function(t){})),!g&&C.length>0&&(g=!0),console.log(i),9==i.length&&ua(i)||(F=!1,console.log("NUMERO REPERTORIO NOTARIO FORMATO INCORRECTO"),alert("Numero repertorio notario en formato incorrecto")),console.log("OFICINA: "+N),N||0==A.length&&(F=!1,console.log("NO HAY CONTRATO"),alert("No hay contrato")),F){var M=0;console.log("validate"),v&&(parseInt(localStorage.esoficina)?(console.log("validate asignando estado"),M=3):(console.log("validate asignando estado"),M=1)),Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Inscripcion_Prenda")).then((function(F){var x=F.docs.length+1;console.log("validate creando inscripcion"),console.log(x),Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Solicitud_Inscripcion_Prenda"),x.toString()),{privacidadDocumento:t,fechaSuscripcion:o,fechaOtorgamientoEscritura:e,fechaProtocolizacionContratoPrivado:n,fechaAutorizacionContratoPrivado:a,numeroRepertorioNotario:i,numeroRepertorioContratoPrenda:-1,prohibicionGravarEnajenar:r,nombre_notaria:c,nombreRequiriente:s,runRequiriente:l,correoRequiriente:u,fechaRequirente:d,activoFijo:p,bienesAgropecuarios:m,derechosIntangibles:h,prendaVehiculo:g,montoActuacion:T,montoTotal:f,estadoPrimario:M,estadoSecundario:0,usuarioCreador:y,oficina:D,firma:!1,id_transaccion:-1}).then((function(){console.log("Guardando inscripcion"),Object(O["e"])(Object(O["a"])(Eh,"Patente_por_Inscripcion")).then((function(t){var o=t.docs.length+1;console.log(o),C.length>0&&C.forEach((function(t){Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Patente_por_Inscripcion"),o.toString()),{patente:t["patente"],inscripcionPrendaRVM:t["rvm"],inscripcionProhibicionGravarEnajenar:t["GoE"],alzamiento:!1,idInscripcion:x}),o+=1}))})),Object(O["e"])(Object(O["a"])(Eh,"Persona_Solicitud")).then((function(t){var o=t.docs.length+1;console.log(o),Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Persona_Solicitud"),o.toString()),{tipoContratante:0,tipoAcreedor:b,runPersona:_,nombrePersona:j,idInscripcion:x,paisPersona:S}),o+=1,I.forEach((function(t){var e=t["Pais"];Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Persona_Solicitud"),o.toString()),{tipoContratante:1,tipoAcreedor:t["Tipo"],runPersona:t["Id"],nombrePersona:t["Name"],idInscripcion:x,paisPersona:e}),o+=1})),R.length>0&&R.forEach((function(t){var e=t["Pais"];""==e&&(e="Chile"),Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Persona_Solicitud"),o.toString()),{tipoContratante:2,tipoAcreedor:t["Tipo"],runPersona:t["Id"],nombrePersona:t["Name"],idInscripcion:x,paisPersona:e}),o+=1}))}));var t=new Date;Object(O["e"])(Object(O["a"])(Eh,"Bitacora")).then((function(o){var e=o.docs.length,n=x;Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Bitacora"),e.toString()),{idInscripcion:n,idModificacion:"",idAlzamiento:"",idUser:localStorage.mail,comment:"Solicitud de Inscricpion Creada",fechaCambio:t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()})}));var o=0;console.log("validate revisando documents"),Object(O["e"])(Object(O["a"])(Eh,"Document_RPsD")).then((function(t){var e=t.docs.length;if(0!=e){var n=t.docs[e-1];o=n.data().numero_repertorio_RPsD}})).then((function(){console.log("validate revisando documents 2"),Object(O["e"])(Object(O["a"])(Eh,"Document_RPsD")).then(function(){var t=Object(L["a"])(regeneratorRuntime.mark((function t(e){var n,a,i,r,c,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.docs.length,console.log("Entro"),console.log(A),console.log(P),console.log("---------------------"),a=0;case 6:if(!(a<A.length)){t.next=22;break}return i=Object(bo["c"])(Ih,A[a].name),t.next=10,Object(bo["d"])(i,A[a]);case 10:return t.next=12,Object(bo["a"])(i);case 12:r=t.sent,console.log("MY URL"),console.log(r),console.log(n.toString()),console.log("---------------------"),Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Document_RPsD"),n.toString()),{id_alzamiento:"",id_modificacion:n.toString(),idInscripcion:x,"año_repertorio_del_contrato":(new Date).getFullYear(),numero_repertorio_RPsD:o+1,url:r,contrato:!0}),n+=1;case 19:a++,t.next=6;break;case 22:a=0;case 23:if(!(a<P.length)){t.next=35;break}return c=Object(bo["c"])(Ih,P[a].name),t.next=27,Object(bo["d"])(c,P[a]);case 27:return t.next=29,Object(bo["a"])(c);case 29:s=t.sent,Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Document_RPsD"),n.toString()),{idInscripcion:x,id_alzamiento:"",id_modificacion:n.toString(),"año_repertorio_del_contrato":(new Date).getFullYear(),numero_repertorio_RPsD:o+1,url:s,contrato:!1}),n+=1;case 32:a++,t.next=23;break;case 35:case"end":return t.stop()}}),t)})));return function(o){return t.apply(this,arguments)}}())})).then((function(){console.log("EVERYTHING ITS SEND SUCCESFULLY---"),0==v?alert("Solicitud Guardada Exitosamente"):(pa("I",x.toString(),1,y),N&&setTimeout((function(){var t="http://ec2-75-101-231-83.compute-1.amazonaws.com:4033/api/checkout/pay",o='{"id_persona":"'+localStorage.rutLog+'", "numero_repertorio":"'+Tn+'", "monto":'+f+"}";fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:o}).then((function(t){t.json().then((function(t){alert(t.msg),console.log("PAGADO"),pa("I",x.toString(),2,y),E.redirect()}))}))}),1500),alert("Solicitud Enviada Exitosamente"),N||E.redirect())}))}))}))}}function pa(t,o,e,n){var a=["El pago no se realizo","Hubo intencion de pagar","Pagado"];Object(O["e"])(Object(O["a"])(Eh,"Counter_N_RPsD")).then((function(n){var a=n.docs[0].data(),i=a.counter;i=i<10?"000"+i.toString():i<100?"00"+i.toString():i<1e3?"0"+i.toString():i.toString();var r=a.year;Tn=i+"-"+r.toString(),console.log("RPSD: "+Tn),1==e?"I"==t?Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Inscripcion_Prenda",o),{estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}).then((function(){console.log("ACTUALIZADO")})):"M"==t?Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Modificacion_Prenda",o),{estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}):"A"==t&&Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Alzamiento_Prenda",o),{estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}):"I"==t?Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Inscripcion_Prenda",o),{estadoSecundario:e}).then((function(){console.log("ACTUALIZADO")})):"M"==t?Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Modificacion_Prenda",o),{estadoSecundario:e}):"A"==t&&Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Alzamiento_Prenda",o),{estadoSecundario:e}),Object(O["i"])(Object(O["c"])(Eh,"Counter_N_RPsD","0"),{counter:a.counter+1})})),Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Inscripcion_Prenda")).then((function(i){var r="";console.log("INSCRIPCION TEST");var c=i.docs;c.forEach((function(i){console.log(i.id),i.id.toString()==o.toString()&&(console.log("MISMO ID"),r=i.data().estadoPrimario);var c=new Date;Object(O["e"])(Object(O["a"])(Eh,"Bitacora")).then((function(i){var s=i.docs.length,l="",u="",d="";"I"==t?l=o:"M"==t?u=o:"A"==t&&(d=o),Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Bitacora"),s.toString()),{idInscripcion:l,idModificacion:u,idAlzamiento:d,idUser:n,comment:a[e],fechaCambio:c.getFullYear()+"-"+(c.getMonth()+1)+"-"+c.getDate(),estadoPrimario:r})}))}))}))}function ma(){Object(O["e"])(Object(O["a"])(Eh,"Precios")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();la.push(o)})),console.log(la)}))}var ha,ga={mounted:function(){ma(),setTimeout((function(){var t=document.getElementById("monto");t.innerHTML="$"+la[0]["precio"];var o=document.getElementById("monto2");o.innerHTML="$"+la[0]["precio"];var e=document.getElementById("monto3");e.innerHTML="$0"}),1500)},name:"Dashboard",data:function(){return{opcion:localStorage.my_opts.split(","),username:localStorage.user,tipoDoc:"",FOtorgamiento:"",FSuscripcion:"",FAutorizacion:"",FProtocolizacion:"",RepNotaria:"",anioRepNotaria:"",ProhibGravEnajenar:!1,tipoPersona:"Natural",run:"",id:"",pais:"",rut:"",razonsocial:"",Apaterno:"",Amaterno:"",nombres:"",nombreRequirente:"",nDocRequirente:"",correoRequirente:"",fechaRequirente:this.currentDateTime(),Bienes:[!1,!1,!1,!1],constituyentes:[],deudores:[],vehiculos:[],contrato:[],anexos:[],notaria:""}},props:{rol:{type:String,default:localStorage.rol}},methods:{redirect:function(){document.getElementById("tabladeudores").value=[],document.getElementById("tablaconstituyentes").value=[],document.getElementById("tablapatentesinscripcion").value=[],this.$router.push({path:"/Dashboard/".concat(localStorage.rol,"/").concat(localStorage.user,"/MisSolicitudes")})},currentDateTime:function(){var t=new Date,o=t.getDate()+"-"+(t.getMonth()+1)+"-"+t.getFullYear();return o},getNotaria:function(t){this.notaria=t},gettipoDoc:function(t){this.tipoDoc=t},getFOtorgamiento:function(t){this.FOtorgamiento=t},getFSuscripcion:function(t){this.FSuscripcion=t},getFAutorizacion:function(t){this.FAutorizacion=t},getFProtocolizacion:function(t){this.FProtocolizacion=t},getRepNotaria:function(t){this.RepNotaria=t},getanioRepNotaria:function(t){this.anioRepNotaria=t},getProhibGravEnajenar:function(t){this.ProhibGravEnajenar=t},gettipoPersona:function(t){this.tipoPersona=t},getrun:function(t){this.run=t},getid:function(t){this.id=t},getpais:function(t){this.pais=t},getrut:function(t){this.rut=t},getrazonsocial:function(t){this.razonsocial=t},getApaterno:function(t){this.Apaterno=t},getAmaterno:function(t){this.Amaterno=t},getnombreRequirente:function(t){this.nombreRequirente=t},getrutRequirente:function(t){this.nDocRequirente=t},getCorreoRequirente:function(t){this.correoRequirente=t},getFechaRequirente:function(t){this.fechaRequirente=t},getnombres:function(t){this.nombres=t},getBienes:function(t){this.Bienes=t},getConstituyentes:function(t){this.constituyentes=t,console.log("Constituyentes:"+this.constituyentes)},getDeudores:function(t){this.deudores=t,console.log("Deudores:"+this.deudores)},getVehiculos:function(t){this.vehiculos=t,this.vehiculos.forEach((function(){}))},getContrato:function(t){this.contrato=t,console.log("Contrato:"+this.contrato)},getAnexos:function(t){this.anexos=t,console.log("Anexos:"+this.anexos)},downloadWithCSS:function(){var t=new _["a"],o=document.createElement("canvas");S()(this.$refs.content,{scale:1},{canvas:o}).then((function(o){var e=o.toDataURL("image/jpeg",1);t.addImage(e,"JPEG",20,20,120,120),t.save("InscripcionPrenda.pdf")}))},crearInscripcion:function(t){var o,e,n=this;console.log("LOADING INSCRIPCION"),console.log("MIS PATENTES"),console.log(this.vehiculos),"Natural"==this.tipoPersona?(o=this.run,e=this.nombres+" "+this.Apaterno+" "+this.Amaterno):"Juridica"==this.tipoPersona?(o=this.rut,e=this.razonsocial):(o=this.id,e=this.nombres),da(this.tipoDoc.toString(),this.FSuscripcion.toString(),this.FOtorgamiento.toString(),this.FProtocolizacion.toString(),this.FAutorizacion.toString(),(this.RepNotaria+"-"+this.anioRepNotaria).toString(),this.ProhibGravEnajenar,this.notaria,this.nombreRequirente,this.nDocRequirente,this.correoRequirente,this.fechaRequirente,this.Bienes[0],this.Bienes[1],this.Bienes[2],this.Bienes[3],parseInt(document.getElementById("monto").innerHTML.substring(1)),t,this.tipoPersona,o.toString(),e,this.pais,this.constituyentes,this.deudores,this.vehiculos,this.contrato,this.anexos,"FUNCIONARIOOFICINA"==localStorage.rol,"mi oficina",localStorage.mail,la[0]["precio"]),setTimeout((function(){n.$router.push({path:"/Dashboard/".concat(localStorage.rol,"/").concat(localStorage.user,"/MisSolicitudes"),params:{username:localStorage.user,rol:localStorage.rol}}),n.downloadWithCSS()}),6e3)}},components:{AntecedentesFormulario:rn,AcreedorFormulario:mn,ConstituyentesFormulario:On,DeudoresFormulario:Rn,VehiculosFormulario:zn,ContratoFormulario:Un,AnexosFormulario:Jn,Menu:B,Navbar:ut,RequirenteFormulario:ea,Monto:sa}},fa=ga,va=(e("6cfc"),Object(p["a"])(fa,Ke,Qe,!1,null,"4fe535a4",null)),ba=va.exports,Oa=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"BusquedaAlzamiento"}},[e("Navbar",{attrs:{username:t.username}}),e("Menu",{attrs:{opciones:t.opcion}}),e("div",{staticClass:"d-flex justify-content-center contenedor right row"},[t._m(0),e("div",{staticClass:"row d-flex justify-content-center item"},[e("div",{staticClass:"col-3"},[t._v("\n                    FOLIO REP. PRENDA\n                    "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.folio,expression:"folio"}],attrs:{type:"text",placeholder:"Folio"},domProps:{value:t.folio},on:{input:function(o){o.target.composing||(t.folio=o.target.value)}}})]),e("div",{staticClass:"col-4"},[e("div",{staticClass:"titles d-flex justify-content-center"},[t._v("\n                    AÑO REPERTORIO\n                ")]),e("div",{staticClass:"d-flex justify-content-center"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.anio,expression:"anio"}],attrs:{type:"text",placeholder:"Año"},domProps:{value:t.anio},on:{input:function(o){o.target.composing||(t.anio=o.target.value)}}})])])]),e("div",{staticClass:"row d-flex justify-content-center item"},[e("div",{staticClass:"col-3"},[e("div",{staticClass:"titles d-flex justify-content-center"},[t._v("\n                    IDENTIFICADOR DE ALGUN CONSTITUYENTE\n                ")]),e("div",{staticClass:"d-flex justify-content-center"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.id,expression:"id"}],staticClass:"nrepertorioleft",attrs:{type:"text",placeholder:"ID de constituyente"},domProps:{value:t.id},on:{input:function(o){o.target.composing||(t.id=o.target.value)}}})])])]),e("button",{staticClass:"d-flex justify-content-center button",on:{click:function(o){return t.busqueda()}}},[t._v("Buscar")])])],1)},_a=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("h1",{staticClass:"title"},[t._v("Solicitud de "),e("strong",[t._v("Alzamiento ")]),t._v(" de Contrato de Prendas")])}];function ja(t,o){Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Inscripcion_Prenda")).then((function(e){var n=e.docs;n.forEach((function(e){var n=e.data();if(n.numeroRepertorioContratoPrenda==t){var a=e.id;Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Persona_Solicitud"),Object(O["j"])("idInscripcion","==",parseInt(a)))).then((function(e){var n=e.docs,a=!1;n.forEach((function(e){var n=e.data();if(console.log(n.runPersona),1==n.tipoContratante&&o==n.runPersona&&!a){console.log("SE ENCONTRO UNA SOLICITUD"),console.log("ID SOLICITUD: "+n.idInscripcion);var i=[];Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Solicitud_Alzamiento_Prenda"),Object(O["j"])("numeroRepertorioContratoPrenda","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.id;i.push(o)}))})),ha=i.length>0?i.pop():n.idInscripcion,localStorage.idSol=ha}}))}))}}))})).then((function(){ha=-1}))}var Sa,Ea={name:"BusquedaAlzamiento",data:function(){return{opcion:ae,username:localStorage.user,folio:"",anio:"",id:"",id_sol:ha}},methods:{busqueda:function(){var t=this;ha=ja((this.folio+"-"+this.anio).toString(),this.id),setTimeout((function(){console.log("TIMEOUT"),console.log(ha),localStorage.mod_want=ha,localStorage.idSol=ha,-1==ha||void 0==ha?alert("No se encontraron Coincidencias"):(console.log("IDDDDD"),console.log(ha),t.$router.push({path:"/Dashboard/".concat(localStorage.rol,"/").concat(localStorage.user,"/solicitudAlzamiento"),params:{username:localStorage.user,rol:localStorage.rol}}))}),1e3)}},components:{Menu:B,Navbar:ut}},Ia=Ea,Ra=(e("05af"),Object(p["a"])(Ia,Oa,_a,!1,null,"29904300",null)),Ca=Ra.exports,Aa=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"dashboard"}},[e("Menu",{attrs:{opciones:t.opcion}}),e("Navbar",{attrs:{username:t.username}}),e("div",{attrs:{id:"contenedor"}},["FUNCIONARIOOFICINA"==t.rol?e("RequirenteFormulario",{on:{getnombreRequirente:t.getnombreRequirente,getrutRequirente:t.getrutRequirente,getCorreoRequirente:t.getCorreoRequirente,getFechaRequirente:t.getFechaRequirente,change:function(o){return t.getPatentes()}}}):t._e(),e("AntecedentesFormularioALZA",{attrs:{rol:t.rol,esInsc:!1},on:{gettipoDoc:t.gettipoDoc,getFOtorgamiento:t.getFOtorgamiento,getFSuscripcion:t.getFSuscripcion,getFAutorizacion:t.getFAutorizacion,getFProtocolizacion:t.getFProtocolizacion,getRepNotaria:t.getRepNotaria,getanioRepNotaria:t.getanioRepNotaria,getProhibGravEnajenar:t.getProhibGravEnajenar,getBienes:t.getBienes,getNotaria:t.getNotaria,change:function(o){return t.getPatentes()}}}),e("VehiculosFormulario",{attrs:{tipoSolicitud:t.Alzamiento,items:t.items}}),"FUNCIONARIOOFICINA"!==t.rol?e("ContratoFormulario",{on:{getContrato:t.getContrato}}):t._e(),"FUNCIONARIOOFICINA"!==t.rol?e("AnexosFormulario",{on:{getAnexos:t.getAnexos}}):t._e(),e("Bitacora"),e("Monto"),e("div",{staticClass:"row d-flex justify-content-center",attrs:{id:"contenedor"}},[e("button",{staticClass:"col-2 titleButton",on:{click:function(o){return t.alzar(!1)}}},[t._v("Guardar")]),e("button",{staticClass:"col-2 titleButton",on:{click:function(o){return t.alzar(!0)}}},[t._v("Enviar")])])],1)],1)},Pa=[],Na=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"row",attrs:{id:"contenedor"}},[e("div",{staticClass:"titleFormulario"},[t._v("Antecedentes")]),e("div",{staticClass:"row"},[e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                TIPO DE DOCUMENTO\n            ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.tipoDoc,expression:"tipoDoc"}],staticClass:"form-select",attrs:{id:"tipoDeDocumento"},on:{change:[function(o){var e=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.tipoDoc=o.target.multiple?e:e[0]},function(o){t.changeOption(),t.setData()}]}},[e("option",{attrs:{selected:"",value:"Publico"}},[t._v("Público")]),e("option",{attrs:{value:"Privado"}},[t._v("Privado")])])])]),"Publico"==t.option?e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                FECHA DE OTORGAMIENTO\n            ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.FOtorgamiento,expression:"FOtorgamiento"}],attrs:{type:"date"},domProps:{value:t.FOtorgamiento},on:{change:function(o){return t.setData()},input:function(o){o.target.composing||(t.FOtorgamiento=o.target.value)}}})])]):t._e(),"Publico"==t.option?e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                FECHA DE SUSCRIPCIÓN\n            ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.FSuscripcion,expression:"FSuscripcion"}],attrs:{type:"date",placeholder:"FSuscripcion"},domProps:{value:t.FSuscripcion},on:{change:function(o){return t.setData()},input:function(o){o.target.composing||(t.FSuscripcion=o.target.value)}}})])]):t._e(),"Privado"==t.option?e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                FECHA DE AUTORIZACIÓN\n            ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.FAutorizacion,expression:"FAutorizacion"}],attrs:{type:"date",placeholder:"FAutorizacion"},domProps:{value:t.FAutorizacion},on:{change:function(o){return t.setData()},input:function(o){o.target.composing||(t.FAutorizacion=o.target.value)}}})])]):t._e(),"Privado"==t.option?e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                FECHA DE PROTOCOLIZACIÓN\n            ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.FProtocolizacion,expression:"FProtocolizacion"}],attrs:{type:"date",placeholder:"FProtocolizacion"},domProps:{value:t.FProtocolizacion},on:{change:function(o){return t.setData()},input:function(o){o.target.composing||(t.FProtocolizacion=o.target.value)}}})])]):t._e()]),e("div",{staticClass:"row"},[e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                N DE REPERTORIO DE NOTARIA\n            ")]),e("div",{staticClass:"d-flex justify-content-start"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.RepNotaria,expression:"RepNotaria"}],staticClass:"nrepertorioleft",attrs:{type:"text",placeholder:"Folio"},domProps:{value:t.RepNotaria},on:{change:function(o){return t.setData()},input:function(o){o.target.composing||(t.RepNotaria=o.target.value)}}}),t._v("-"),e("input",{directives:[{name:"model",rawName:"v-model",value:t.anioRepNotaria,expression:"anioRepNotaria"}],staticClass:"nrepertorioright",attrs:{type:"text",placeholder:"Ano"},domProps:{value:t.anioRepNotaria},on:{change:function(o){return t.setData()},input:function(o){o.target.composing||(t.anioRepNotaria=o.target.value)}}})])])]),e("div",{staticClass:"row right"},[e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                BIENES PRENDADOS\n            ")]),e("div",{staticClass:"form-check"},[e("input",{staticClass:"form-check-input",attrs:{type:"checkbox",value:"ACTIVO FIJO",id:"actfijo",disabled:""},domProps:{checked:!0}}),e("label",{staticClass:"form-check-label d-flex justify-content-start",attrs:{for:"actfijo"}},[t._v("ACTIVO FIJO")])]),e("div",{staticClass:"form-check"},[e("input",{staticClass:"form-check-input",attrs:{type:"checkbox",value:"BIENES AGROPECUARIOS",id:"bagropec",disabled:""},domProps:{checked:!0}}),e("label",{staticClass:"form-check-label d-flex justify-content-start",attrs:{for:"bagropec"}},[t._v("BIENES AGROPECUARIOS")])]),e("div",{staticClass:"form-check"},[e("input",{staticClass:"form-check-input",attrs:{type:"checkbox",value:"DERECHIS E INTANGIBLES",id:"derecheint",disabled:""},domProps:{checked:!0}}),e("label",{staticClass:"form-check-label d-flex justify-content-start",attrs:{for:"derecheint"}},[t._v("DERECHIS E INTANGIBLES")])]),e("div",{staticClass:"form-check"},[e("input",{staticClass:"form-check-input",attrs:{type:"checkbox",value:"VEHICULOS",id:"vehic",disabled:""},domProps:{checked:!1}}),e("label",{staticClass:"form-check-label d-flex justify-content-start",attrs:{for:"vehic"}},[t._v("VEHICULOS")])])])]),"FUNCIONARIOOFICINA"==t.rol?e("div",{staticClass:"row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                NOTARIAS\n            ")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.notaria,expression:"notaria"}],staticClass:"form-select",attrs:{id:"notaria"},on:{change:[function(o){var e=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.notaria=o.target.multiple?e:e[0]},function(o){t.changeOption(),t.setData()}]}},t._l(t.notariasP,(function(o,n){return e("option",{key:n,domProps:{value:o.organizacion}},[t._v(t._s(o.organizacion))])})),0)]):t._e()])},Da=[];function ya(t,o){var e=[],n=[],a=[],i=[],r=[],c=[];console.log("ENTREEEEEEEE"),"I"==o?Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Inscripcion_Prenda")).then((function(o){var s=o.docs;s.forEach((function(o){t==o.id&&(Sa=o.data(),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Document_RPsD"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();o.contrato?i.push(o):r.push(o)}))})).then((function(){console.log("ARCHIVOS"),console.log(i),console.log(r)})),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Persona_Solicitud"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();0==o.tipoContratante?e.push(o):1==o.tipoContratante?n.push(o):2==o.tipoContratante&&a.push(o)}))})).then((function(){console.log("PERSONAS"),console.log(e),console.log(n),console.log(a)})),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Patente_por_Inscripcion"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();c.push(o)}))})).then((function(){console.log("PATENTES"),console.log(c),c.forEach((function(t){console.log(t.patente),console.log(t.inscripcionPrendaRVM),console.log(t.inscripcionProhibicionGravarEnajenar),console.log(t.alzamiento)}))})))}))})).then((function(){console.log("INSCRIPCION"),console.log(c)})):"M"==o?Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Modificacion_Prenda")).then((function(o){var e=o.docs;e.forEach((function(o){t==o.id&&(Sa=o.data(),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Document_RPsD"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();o.contrato?i.push(o):r.push(o)}))})).then((function(){console.log("ARCHIVOS"),console.log(i),console.log(r)})))}))})).then((function(){console.log("MODIFICACION"),console.log(Sa)})):"A"==o&&Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Alzamiento_Prenda")).then((function(o){var e=o.docs;e.forEach((function(o){t==o.id&&(Sa=o.data(),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Document_RPsD"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();o.contrato?i.push(o):r.push(o)}))})).then((function(){console.log("ARCHIVOS"),console.log(i),console.log(r)})))}))})).then((function(){console.log("ALZAMIENTO"),console.log(Sa)}))}var Ta,Fa={mounted:function(){console.log("ID FORMULARIO"),console.log(localStorage.idSol),ya(localStorage.idSol,"I"),setTimeout((function(){console.log("LA SOLICITUD ES:"),console.log(Sa);var t=document.getElementById("actfijo"),o=document.getElementById("bagropec"),e=document.getElementById("derecheint"),n=document.getElementById("vehic");console.log("PRENDAS A DAR: "+Sa.activoFijo+","+Sa.bienesAgropecuarios+","+Sa.derechosIntangibles+","+Sa.prendaVehiculo),t.checked=Sa.activoFijo,o.checked=Sa.bienesAgropecuarios,e.checked=Sa.derechosIntangibles,n.checked=Sa.prendaVehiculo}),1e3)},name:"AntecedentesFormularioMODIF-ALZA",data:function(){return{listBienesPrendados:["ACTIVO FIJO","BIENES AGROPECUARIOS","DERECHOS E INTANGIBLES","VEHICULOS"],option:"Publico"}},props:{esInsc:{trype:Boolean,default:!1},rol:{type:String,default:"FUNCIONARIONOTARIA"},notariasP:{type:Array,default:E},tipoDoc:{type:String,default:"Público"},FOtorgamiento:{type:String,default:""},FSuscripcion:{type:String,default:""},FAutorizacion:{type:String,default:""},FProtocolizacion:{type:String,default:""},RepNotaria:{type:String,default:""},anioRepNotaria:{type:String,default:""},ProhibGravEnajenar:{type:Boolean,default:!1},notaria:{type:String,default:""}},methods:{changeOption:function(){var t=document.getElementById("tipoDeDocumento");this.option=t.options[t.selectedIndex].value},setData:function(){this.$emit("getNotaria",this.notaria),this.$emit("gettipoDoc",this.tipoDoc),this.$emit("getFOtorgamiento",this.FOtorgamiento),this.$emit("getFSuscripcion",this.FSuscripcion),this.$emit("getFAutorizacion",this.FAutorizacion),this.$emit("getFProtocolizacion",this.FProtocolizacion),this.$emit("getRepNotaria",this.RepNotaria),this.$emit("getanioRepNotaria",this.anioRepNotaria),this.$emit("getProhibGravEnajenar",this.ProhibGravEnajenar),this.$emit("getBienes",[Sa.activoFijo,Sa.bienesAgropecuarios,Sa.derechosIntangibles,Sa.prendaVehiculo])}}},Ma=Fa,xa=(e("755e"),Object(p["a"])(Ma,Na,Da,!1,null,"06988184",null)),za=xa.exports,wa=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"row",attrs:{id:"contenedor"}},[e("div",{staticClass:"titleFormulario"},[t._v("Vehiculos ")]),e("table",{staticClass:"table"},[e("thead",{staticClass:"encabezadoTabla"},[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("PATENTE")]),e("th",{attrs:{scope:"col"}},[t._v("RVM")]),e("th",{attrs:{scope:"col"}},[t._v("GRAVAR/ENAJENAR")]),e("th",{attrs:{scope:"col"}},[t._v("ESTADO")]),"RevisionDoc"!=t.tipoSolicitud?e("th",{attrs:{scope:"col"}},[t._v("COSTO")]):t._e(),"Moficacion"==t.tipoSolicitud?e("th",{attrs:{scope:"col"}}):t._e()])]),0==t.items.length?e("tbody",{staticClass:"bodyTabla"},[e("td",[t._v("No data")])]):t._l(t.items,(function(o,n){return e("tbody",{key:n,staticClass:"bodyTabla",attrs:{id:"tablapatenteslectura"}},[e("td",[t._v(t._s(o.patente))]),e("td",[t._v(t._s(o.rvm))]),e("td",[t._v(t._s(o.GoE))]),e("td",[t._v(t._s(o.estado))]),"RevisionDoc"!=t.tipoSolicitud&&null!=o.costo?e("td",[t._v("\n\n\t\t\n\t\t\t\t\t"+t._s(o.costo)+"\n\t\n\n\t\t\t\t")]):t._e(),"Moficacion"==t.tipoSolicitud?e("td",[t._m(0,!0)]):t._e()])}))],2)])},Ba=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"form-check "},[e("input",{staticClass:"form-check-input",attrs:{type:"checkbox",value:"",id:"defaultCheck"}})])}],ka={name:"AcreedorFormularios",data:function(){return{hola:""}},mounted:function(){},props:{opcion:Array,tipoSolicitud:{type:String,default:"Modificacion"},items:{type:Array,default:new Array},patente:{type:String,default:""},GoE:{type:Boolean,default:!1},rvm:{type:Boolean,default:!1},estado:{type:String,default:""}},methods:{getPatentes:function(){console.log("DATA")},changeOption:function(){var t=document.getElementById("tipoDePersona");this.option=t.options[t.selectedIndex].value},clean:function(){console.log("limpiar campos aqui")},setData:function(){this.$emit("getVehiculos",this.items)}}},qa=ka,La=(e("1741"),Object(p["a"])(qa,wa,Ba,!1,null,"2dcea6e2",null)),Ua=La.exports,Ga=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"row",attrs:{id:"contenedor"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"titleFormulario col",on:{change:function(o){return t.setData()}}},[t._v("Bitacora")]),e("table",{staticClass:"table"},[t._m(0),0==t.items.length?e("tbody",{staticClass:"bodyTabla"},[e("td",[t._v("No data")])]):t._l(t.items,(function(o,n){return e("tbody",{key:n,staticClass:"bodyTabla",attrs:{id:"tablapatentesinscripcion"}},[e("td",[t._v(t._s(o.comment))]),e("td",[t._v(t._s(o.fechaCambio))]),""!=o.idInscripcion?e("td",[t._v("I")]):t._e(),""!=o.idAlzamiento?e("td",[t._v("A")]):t._e(),""!=o.idModificacion?e("td",[t._v("M")]):t._e(),0==o.estadoPrimario?e("td",[t._v("Guardado")]):t._e(),1==o.estadoPrimario?e("td",[t._v("Enviado desde notaria")]):t._e(),2==o.estadoPrimario?e("td",[t._v("Rechazado de notaria")]):t._e(),3==o.estadoPrimario?e("td",[t._v("Enviado desde oficina ")]):t._e(),4==o.estadoPrimario?e("td",[t._v("En revision ")]):t._e(),5==o.estadoPrimario?e("td",[t._v("Aceptado")]):t._e(),6==o.estadoPrimario?e("td",[t._v("Rechazo de Revisor")]):t._e(),7==o.estadoPrimario?e("td",[t._v("Rechazo de Jefe de Unidad de Prenda")]):t._e(),8==o.estadoPrimario?e("td",[t._v("Rechazo notificado")]):t._e()])}))],2)])])},$a=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("thead",{staticClass:"encabezadoTabla"},[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("Comentario")]),e("th",{attrs:{scope:"col"}},[t._v("Fecha de Cambio")]),e("th",{attrs:{scope:"col"}},[t._v("Tipo")]),e("th",{attrs:{scope:"col"}},[t._v("estadoPrimario")])])])}],Va={name:"AcreedorFormularios",data:function(){return{headers:["Tipo","Id","Name"]}},props:{items:{type:Array,default:new Array},comentario:{type:String,default:""},fecha:{type:Boolean,default:!1}},mounted:function(){var t=this;this.items=[],Object(O["e"])(Object(O["a"])(Eh,"Bitacora")).then((function(o){console.log("BITACORA"),o.docs.forEach((function(o){o.data().idInscripcion!=localStorage.idSol&&o.data().idAlzamiento!=localStorage.idSol&&o.data().idModificacion!=localStorage.idSol||t.items.push(o.data())}))})),console.log("MY ITEMS"),console.log(this.items)},methods:{setData:function(){}}},Ha=Va,Ya=(e("9a93"),Object(p["a"])(Ha,Ga,$a,!1,null,"7a051cc1",null)),Ja=Ya.exports;function Za(t){if(!t.includes("-"))return!1;t=t.split("-");var o=t[0],e=t[1],n=(new Date).getFullYear();return!isNaN(o)&&!o.includes("e")&&4==o.length&&!(e>n||isNaN(e)||e.length<4)}function Wa(t,o,e,n){var a=["El pago no se realizo","Hubo intencion de pagar","Pagado"];Object(O["e"])(Object(O["a"])(Eh,"Counter_N_RPsD")).then((function(n){var a=n.docs[0].data(),i=a.counter;i=i<10?"000"+i.toString():i<100?"00"+i.toString():i<1e3?"0"+i.toString():i.toString();var r=a.year;Ta=i+"-"+r.toString(),console.log("RPSD: "+Ta),1==e?"I"==t?Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Inscripcion_Prenda",o),{estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}).then((function(){console.log("ACTUALIZADO")})):"M"==t?Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Modificacion_Prenda",o),{estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}):"A"==t&&Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Alzamiento_Prenda",o),{estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}):"I"==t?Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Inscripcion_Prenda",o),{estadoSecundario:e}).then((function(){console.log("ACTUALIZADO")})):"M"==t?Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Modificacion_Prenda",o),{estadoSecundario:e}):"A"==t&&Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Alzamiento_Prenda",o),{estadoSecundario:e}),Object(O["i"])(Object(O["c"])(Eh,"Counter_N_RPsD","0"),{counter:a.counter+1})})),Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Inscripcion_Prenda")).then((function(i){var r="";console.log("INSCRIPCION TEST");var c=i.docs;c.forEach((function(i){console.log(i.id),i.id.toString()==o.toString()&&(console.log("MISMO ID"),r=i.data().estadoPrimario);var c=new Date;Object(O["e"])(Object(O["a"])(Eh,"Bitacora")).then((function(i){var s=i.docs.length,l="",u="",d="";"I"==t?l=o:"M"==t?u=o:"A"==t&&(d=o),Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Bitacora"),s.toString()),{idInscripcion:l,idModificacion:u,idAlzamiento:d,idUser:n,comment:a[e],fechaCambio:c.getFullYear()+"-"+(c.getMonth()+1)+"-"+c.getDate(),estadoPrimario:r})}))}))}))}function Xa(t,o,e,n){var a=null,i="",r="",c="";console.log("LOL FILES"),0==n?i=e:1==n?r=e:2==n&&(c=e),console.log("INSCRIPCION: "+i),console.log("MODIFICACION: "+r),console.log("ALZAMIENTO: "+c),Object(O["e"])(Object(O["a"])(Eh,"Document_RPsD")).then((function(t){var o=t.docs.length,e=t.docs[o-1];a=e.data().numero_repertorio_RPsD})).then((function(){Object(O["e"])(Object(O["a"])(Eh,"Document_RPsD")).then(function(){var e=Object(L["a"])(regeneratorRuntime.mark((function e(n){var s,l,u,d,p,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:s=n.docs.length,console.log("Entro"),console.log(t.length),l=0;case 4:if(!(l<t.length)){e.next=17;break}return u=Object(bo["c"])(Ih,t[l].name),e.next=8,Object(bo["d"])(u,t[l]);case 8:return e.next=10,Object(bo["a"])(u);case 10:d=e.sent,console.log("CONTRATO"),Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Document_RPsD"),s.toString()),{id_alzamiento:i,id_modificacion:r,idInscripcion:c,"año_repertorio_del_contrato":(new Date).getFullYear(),numero_repertorio_RPsD:a+1,url:d,contrato:!0}),s+=1;case 14:l++,e.next=4;break;case 17:l=0;case 18:if(!(l<o.length)){e.next=31;break}return p=Object(bo["c"])(Ih,o[l].name),e.next=22,Object(bo["d"])(p,o[l]);case 22:return e.next=24,Object(bo["a"])(p);case 24:m=e.sent,console.log("ADJUNTO"),Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Document_RPsD"),s.toString()),{idInscripcion:i,id_alzamiento:c,id_modificacion:r,"año_repertorio_del_contrato":(new Date).getFullYear(),numero_repertorio_RPsD:a+1,url:m,contrato:!1}),s+=1;case 28:l++,e.next=18;break;case 31:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})).then((function(){console.log("EVERYTHING ITS SEND SUCCESFULLY"),alert("ALZAMIENTO SE ENVIÓ DE FORMA CORRECTA")}))}function Ka(t,o,e,n,a,i,r,c,s,l,u){var d=this,p=arguments.length>11&&void 0!==arguments[11]?arguments[11]:[],m=arguments.length>12&&void 0!==arguments[12]?arguments[12]:[],h=arguments.length>13?arguments[13]:void 0,g=arguments.length>14?arguments[14]:void 0,f=arguments.length>15?arguments[15]:void 0,v=arguments.length>16?arguments[16]:void 0,b=arguments.length>17?arguments[17]:void 0,_=arguments.length>18?arguments[18]:void 0,j=arguments.length>19?arguments[19]:void 0,S=arguments.length>20&&void 0!==arguments[20]&&arguments[20],E=arguments.length>21?arguments[21]:void 0,I=!0;if(console.log("VERYFING..."),console.log(E),console.log(c),9==c.length||Za(c)||(I=!1,console.log("NUMERO REPERTORIO NOTARIO FORMATO INCORRECTO"),alert("Numero Repertorio Notario Formato Incorrecto")),I){var R=0;console.log("validate"),console.log("SOLICIUTD DE ALZAMIENTO PRENDA SE ENVIA: "+j),j&&(R=S?3:1),console.log("MY DATA"),console.log(h),console.log(R);var C=null;Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Alzamiento_Prenda")).then((function(t){C=t.docs.length})).then((function(){Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Solicitud_Alzamiento_Prenda"),C.toString()),{privacidadDocumento:o,fechaOtorgamientoEscritura:e,fechaSuscripcion:n,fecha_de_autorizacion:a,fechaProtocolizacionContratoPrivado:i,nombre_notaria:r,numeroRepertorioNotario:c,runRequiriente:t,nombreRequiriente:s,correoRequiriente:l,fechaRequirente:u,estadoPrimario:R,estadoSecundario:0,activoFijo:h,bienesAgropecuarios:g,prendaVehiculo:v,derechosIntangibles:f,"año_repertorio_RPsD":b,numeroRepertorioContratoPrenda:_,oficina:"mi oficina",firma:!1,usuarioCreador:localStorage.mail,id_transaccion:-1}).then((function(){console.log("PAGANDO EN CAJA"),0==j?alert("Solicitud Guardada Exitosamente"):(Wa("A",C.toString(),1,localStorage.mail),S&&setTimeout((function(){var t="http://ec2-75-101-231-83.compute-1.amazonaws.com:4033/api/checkout/pay",o='{"id_persona":"'+localStorage.rutLog+'", "numero_repertorio":"'+Ta+'", "monto":'+(parseInt(Qa[1]["precio"])+parseInt(ii))+"}";fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:o}).then((function(t){t.json().then((function(t){alert(t.msg),console.log("PAGADO"),Wa("A",C.toString(),2,localStorage.mail),d.redirect()}))}))}),1500),alert("Solicitud Enviada Exitosamente"))})),1==R&&Xa(p,m,C.toString(),2)}))}}var Qa=[];function ti(){Object(O["e"])(Object(O["a"])(Eh,"Precios")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();Qa.push(o)})),console.log("PRECIOS"),console.log(Qa)}))}var oi,ei=[];function ni(t){ei=[],Object(O["e"])(Object(O["a"])(Eh,"Patente_por_Inscripcion")).then((function(o){var e=o.docs;e.forEach((function(o){var e=o.data();e.idInscripcion==t&&ei.push(e)})),console.log("AUTOS: "),console.log(ei)}))}function ai(t){Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Inscripcion_Prenda")).then((function(o){var e=o.docs;e.forEach((function(o){var e=o.data();console.log(o.id),o.id==t&&(oi=e.numeroRepertorioContratoPrenda)}))}))}var ii=0,ri=!1;function ci(){ri=!1}var si,li,ui={mounted:function(){var t=this;ci(),ti(),ni(localStorage.idSol),ai(localStorage.idSol),setTimeout((function(){console.log("REPERTORIO GLOBAL"),console.log(oi),t.items=[],console.log(ei);var o=document.getElementById("monto");console.log("Enviando REQUEST"),ii=0,ei.forEach((function(o){if(ii+=parseInt(Qa[9]["precio"]),1==o.inscripcionPrendaRVM){console.log("PATENTE");var e=new XMLHttpRequest,n="http://ec2-75-101-231-83.compute-1.amazonaws.com:4031/API/vehicles/licensePlates?patente="+o.patente;e.open("GET",n),e.send(),e.onload=function(){if(200==e.status){var t=JSON.parse(e.response);console.log("MENSAJE RECIVIDO"),console.log(t),ri=!1,t.solicitudes.forEach((function(t){console.log(t.numero_repertorio),console.log(oi.split("-")[1]+"-"+oi.split("-")[0]),t.numero_repertorio==oi.split("-")[1]+"-"+oi.split("-")[0]&&(console.log("ENTRO EN PENDIENTE"),ri=!0)})),console.log("LARGO"),console.log(t.solicitudes.length),console.log(ri)}}}var a={patente:o.patente,rvm:o.inscripcionPrendaRVM,GoE:o.inscripcionProhibicionGravarEnajenar,costo:"-"};t.items.push(a)})),o.innerHTML="$"+(parseInt(Qa[1]["precio"])+parseInt(ii));var e=document.getElementById("monto2");e.innerHTML="$"+parseInt(Qa[1]["precio"]);var n=document.getElementById("monto3");n.innerHTML="$"+parseInt(ii)}),1500)},name:"Dashboard",data:function(){return{opcion:localStorage.my_opts.split(","),username:localStorage.user,tipoDoc:"",FOtorgamiento:"",FSuscripcion:"",FAutorizacion:"",FProtocolizacion:"",RepNotaria:"",anioRepNotaria:"",ProhibGravEnajenar:!1,tipoPersona:"Natural",run:"",id:"",pais:"",rut:"",razonsocial:"",Apaterno:"",Amaterno:"",nombres:"",nombreRequirente:"",nDocRequirente:"",correoRequirente:"",fechaRequirente:this.currentDateTime(),Bienes:[],constituyentes:[],deudores:[],vehiculos:[],contrato:null,anexos:null,notaria:""}},props:{rol:{type:String,default:localStorage.rol},items:{type:Array,default:new Array},patente:{type:String,default:""},GoE:{type:Boolean,default:!1},rvm:{type:Boolean,default:!1},estado:{type:String,default:""}},components:{AntecedentesFormularioALZA:za,VehiculosFormulario:Ua,ContratoFormulario:Un,AnexosFormulario:Jn,Monto:sa,Menu:B,Navbar:ut,RequirenteFormulario:ea,Bitacora:Ja},methods:{getNotaria:function(t){this.notaria=t},currentDateTime:function(){var t=new Date,o=t.getDate()+"-"+(t.getMonth()+1)+"-"+t.getFullYear();return o},gettipoDoc:function(t){this.tipoDoc=t},getFOtorgamiento:function(t){this.FOtorgamiento=t},getFSuscripcion:function(t){this.FSuscripcion=t},getFAutorizacion:function(t){this.FAutorizacion=t},getFProtocolizacion:function(t){this.FProtocolizacion=t},getRepNotaria:function(t){this.RepNotaria=t},getanioRepNotaria:function(t){this.anioRepNotaria=t},getProhibGravEnajenar:function(t){this.ProhibGravEnajenar=t},gettipoPersona:function(t){this.tipoPersona=t},getrun:function(t){this.run=t},getid:function(t){this.id=t},getpais:function(t){this.pais=t},getrut:function(t){this.rut=t},getrazonsocial:function(t){this.razonsocial=t},getApaterno:function(t){this.Apaterno=t},getAmaterno:function(t){this.Amaterno=t},getnombreRequirente:function(t){this.nombreRequirente=t},getrutRequirente:function(t){this.nDocRequirente=t},getCorreoRequirente:function(t){this.correoRequirente=t},getFechaRequirente:function(t){this.fechaRequirente=t},getnombres:function(t){this.nombres=t},getBienes:function(t){this.Bienes=t},getConstituyentes:function(t){this.constituyentes=t,console.log("Constituyentes:"+this.constituyentes)},getDeudores:function(t){this.deudores=t,console.log("Deudores:"+this.deudores)},getVehiculos:function(t){this.vehiculos=t},getContrato:function(t){this.contrato=t,console.log("Contrato:"+this.contrato)},getAnexos:function(t){this.anexos=t,console.log("Anexos:"+this.anexos)},alzar:function(t){var o=this;return Object(L["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(ri){e.next=12;break}return console.log("MIS BIENES"),console.log(o.Bienes[0]),console.log(o.Bienes[1]),console.log(o.Bienes[2]),console.log(o.Bienes[3]),e.next=8,o.vehiculos.forEach((function(t){console.log(t)}));case 8:Ka(o.nDocRequirente,o.tipoDoc.toString(),o.FOtorgamiento.toString(),o.FSuscripcion.toString(),o.FAutorizacion.toString(),o.FProtocolizacion.toString(),o.notaria,(o.RepNotaria+"-"+o.anioRepNotaria).toString(),o.nombreRequirente,o.correoRequirente,o.fechaRequirente,o.contrato,o.anexos,o.Bienes[0],o.Bienes[1],o.Bienes[2],o.Bienes[3],-1,-1,t,"FUNCIONARIOOFICINA"==localStorage.rol,"Mi oficina"),o.$router.push({path:"/Dashboard/".concat(localStorage.rol,"/").concat(localStorage.user,"/MisSolicitudes"),params:{username:localStorage.user,rol:localStorage.rol}}),e.next=14;break;case 12:alert("Existen patentes con solicitudes pendientes"),console.log("NO ESTA PERMITIDO");case 14:case"end":return e.stop()}}),e)})))()}}},di=ui,pi=(e("eac0"),Object(p["a"])(di,Aa,Pa,!1,null,"d2425758",null)),mi=pi.exports,hi=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"dashboard"}},[e("Menu",{attrs:{opciones:t.opcion}}),e("Navbar",{attrs:{username:t.username}}),e("div",{staticClass:"right"},[e("h1",{attrs:{bold:""}},[t._v("ALZAMIENTO PARCIAL")]),"FUNCIONARIOOFICINA"==t.rol?e("RequirenteFormulario"):t._e(),e("AntecedentesFormularioALZA",{attrs:{rol:t.rol},on:{gettipoDoc:t.gettipoDoc,getFOtorgamiento:t.getFOtorgamiento,getFSuscripcion:t.getFSuscripcion,getFAutorizacion:t.getFAutorizacion,getFProtocolizacion:t.getFProtocolizacion,getRepNotaria:t.getRepNotaria,getanioRepNotaria:t.getanioRepNotaria,getProhibGravEnajenar:t.getProhibGravEnajenar,getBienes:t.getBienes,getNotaria:t.getNotaria}}),e("VehiculoLecturaFormularioALZAMIENTOPARCIAL",{attrs:{tipoSolicitud:t.Modificacion,items:t.items}}),"FUNCIONARIOOFICINA"!==t.rol?e("ContratoFormulario",{on:{getContrato:t.getContrato}}):t._e(),"FUNCIONARIOOFICINA"!==t.rol?e("AnexosFormulario",{on:{getAnexos:t.getAnexos}}):t._e(),e("Bitacora"),e("Monto"),e("div",{staticClass:"row d-flex justify-content-center",attrs:{id:"contenedor"}},[e("button",{staticClass:"col-2 titleButton",on:{click:function(o){return t.modificar(!1)}}},[t._v("Guardar")]),e("button",{staticClass:"col-2 titleButton",on:{click:function(o){return t.modificar(!0)}}},[t._v("Enviar")])])],1)],1)},gi=[];function fi(t){if(!t.includes("-"))return!1;t=t.split("-");var o=t[0],e=t[1],n=(new Date).getFullYear();return!isNaN(o)&&!o.includes("e")&&4==o.length&&!(e>n||isNaN(e)||e.length<4)}function vi(t,o,e,n){var a=["El pago no se realizo","Hubo intencion de pagar","Pagado"];Object(O["e"])(Object(O["a"])(Eh,"Counter_N_RPsD")).then((function(n){var a=n.docs[0].data(),i=a.counter;i=i<10?"000"+i.toString():i<100?"00"+i.toString():i<1e3?"0"+i.toString():i.toString();var r=a.year;si=i+"-"+r.toString(),console.log("RPSD: "+si),1==e?"I"==t?Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Inscripcion_Prenda",o),{estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}).then((function(){console.log("ACTUALIZADO")})):"M"==t?Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Modificacion_Prenda",o),{estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}):"A"==t&&Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Alzamiento_Prenda",o),{estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}):"I"==t?Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Inscripcion_Prenda",o),{estadoSecundario:e}).then((function(){console.log("ACTUALIZADO")})):"M"==t?Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Modificacion_Prenda",o),{estadoSecundario:e}):"A"==t&&Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Alzamiento_Prenda",o),{estadoSecundario:e}),Object(O["i"])(Object(O["c"])(Eh,"Counter_N_RPsD","0"),{counter:a.counter+1})})),Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Inscripcion_Prenda")).then((function(i){var r="";console.log("INSCRIPCION TEST");var c=i.docs;c.forEach((function(i){console.log(i.id),i.id.toString()==o.toString()&&(console.log("MISMO ID"),r=i.data().estadoPrimario);var c=new Date;Object(O["e"])(Object(O["a"])(Eh,"Bitacora")).then((function(i){var s=i.docs.length,l="",u="",d="";"I"==t?l=o:"M"==t?u=o:"A"==t&&(d=o),Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Bitacora"),s.toString()),{idInscripcion:l,idModificacion:u,idAlzamiento:d,idUser:n,comment:a[e],fechaCambio:c.getFullYear()+"-"+(c.getMonth()+1)+"-"+c.getDate(),estadoPrimario:r})}))}))}))}function bi(t,o,e,n){var a=null,i="",r="",c="";console.log("MOD DATA"),console.log(e),console.log(n),0==n?i=e:1==n?r=e:2==n&&(c=e),Object(O["e"])(Object(O["a"])(Eh,"Document_RPsD")).then((function(t){var o=t.docs.length,e=t.docs[o-1];a=e.data().numero_repertorio_RPsD})).then((function(){Object(O["e"])(Object(O["a"])(Eh,"Document_RPsD")).then(function(){var e=Object(L["a"])(regeneratorRuntime.mark((function e(n){var s,l,u,d,p,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:s=n.docs.length,console.log("Entro"),l=0;case 3:if(!(l<t.length)){e.next=15;break}return u=Object(bo["c"])(Ih,t[l].name),e.next=7,Object(bo["d"])(u,t[l]);case 7:return e.next=9,Object(bo["a"])(u);case 9:d=e.sent,Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Document_RPsD"),s.toString()),{id_alzamiento:i,id_modificacion:r,idInscripcion:c,"año_repertorio_del_contrato":(new Date).getFullYear(),numero_repertorio_RPsD:a+1,url:d,contrato:!0}),s+=1;case 12:l++,e.next=3;break;case 15:l=0;case 16:if(!(l<o.length)){e.next=28;break}return p=Object(bo["c"])(Ih,o[l].name),e.next=20,Object(bo["d"])(p,o[l]);case 20:return e.next=22,Object(bo["a"])(p);case 22:m=e.sent,Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Document_RPsD"),s.toString()),{idInscripcion:i,id_alzamiento:c,id_modificacion:r,"año_repertorio_del_contrato":(new Date).getFullYear(),numero_repertorio_RPsD:a+1,url:m,contrato:!1}),s+=1;case 25:l++,e.next=16;break;case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})).then((function(){console.log("EVERYTHING ITS SEND SUCCESFULLY"),alert("Todo se envio de forma correcta")}))}var Oi=[],_i=[],ji=[],Si=[],Ei=[],Ii=[];function Ri(t,o){"I"==o?Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Inscripcion_Prenda")).then((function(o){var e=o.docs;e.forEach((function(o){t==o.id&&(li=o.data(),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Document_RPsD"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();o.contrato?Si.push(o):Ei.push(o)}))})).then((function(){console.log("ARCHIVOS"),console.log(Si),console.log(Ei)})),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Persona_Solicitud"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();0==o.tipoContratante?Oi.push(o):1==o.tipoContratante?_i.push(o):2==o.tipoContratante&&ji.push(o)}))})).then((function(){console.log("PERSONAS"),console.log(Oi),console.log(_i),console.log(ji)})),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Patente_por_Inscripcion"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();Ii.push(o)}))})).then((function(){console.log("PATENTES"),console.log(Ii)})))}))})).then((function(){console.log("INSCRIPCION"),console.log(li)})):"M"==o?Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Modificacion_Prenda")).then((function(o){var e=o.docs;e.forEach((function(o){t==o.id&&(li=o.data(),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Document_RPsD"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();o.contrato?Si.push(o):Ei.push(o)}))})).then((function(){console.log("ARCHIVOS"),console.log(Si),console.log(Ei)})))}))})).then((function(){console.log("MODIFICACION"),console.log(li)})):"A"==o&&Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Alzamiento_Prenda")).then((function(o){var e=o.docs;e.forEach((function(o){t==o.id&&(li=o.data(),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Document_RPsD"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();o.contrato?Si.push(o):Ei.push(o)}))})).then((function(){console.log("ARCHIVOS"),console.log(Si),console.log(Ei)})))}))})).then((function(){console.log("ALZAMIENTO"),console.log(li)}))}function Ci(t,o,e,n,a){var i=this,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",c=arguments.length>6?arguments[6]:void 0,s=arguments.length>7?arguments[7]:void 0,l=arguments.length>8?arguments[8]:void 0,u=arguments.length>9?arguments[9]:void 0,d=arguments.length>10?arguments[10]:void 0,p=arguments.length>11&&void 0!==arguments[11]?arguments[11]:"",m=arguments.length>12&&void 0!==arguments[12]?arguments[12]:"",h=arguments.length>13?arguments[13]:void 0,g=arguments.length>14&&void 0!==arguments[14]?arguments[14]:[],f=arguments.length>15&&void 0!==arguments[15]?arguments[15]:[],v=arguments.length>16?arguments[16]:void 0,b=arguments.length>17?arguments[17]:void 0,_=arguments.length>18?arguments[18]:void 0,j=arguments.length>19?arguments[19]:void 0,S=arguments.length>20?arguments[20]:void 0,E=arguments.length>21&&void 0!==arguments[21]?arguments[21]:"",I=arguments.length>22&&void 0!==arguments[22]?arguments[22]:"",R=arguments.length>23?arguments[23]:void 0,C=!0;if(console.log(c),9==c.length||fi(c)||(C=!1,console.log("NUMERO REPERTORIO NOTARIO FORMATO INCORRECTO"),alert("Numero repertorio notario formato incorrecto")),C){var A=null;Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Modificacion_Prenda")).then((function(t){A=t.docs.length,console.log(A),console.log("submit"),console.log(v),console.log(b),console.log(_),console.log(j)})).then((function(){Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Solicitud_Modificacion_Prenda"),A.toString()),{privacidadDocumento:t,fechaSuscripcion:o,fechaOtorgamientoEscritura:e,fechaProtocolizacionContratoPrivado:n,fechaAutorizacionContratoPrivado:a,numeroRepertorioNotario:c,parrafo_modificacion_generica:s,tipo_de_persona:l,nombre_acreedor:u,rut_acreedor:d,nombreRequiriente:p,runRequiriente:m,estadoPrimario:h,estadoSecundario:0,activoFijo:v,bienesAgropecuarios:b,derechosIntangibles:_,prendaVehiculo:j,nombre_notaria:r,prohibicionGravarEnajenar:S,correoRequiriente:E,fechaRequirente:I,revisorAsignado:-1,firma:!1,tipoModificacion:1,usuarioCreador:localStorage.mail,id_transaccion:-1}).then((function(){console.log("PAGANDO EN CAJA"),R?(vi("M",A.toString(),1,localStorage.mail),"FUNCIONARIOOFICINA"==localStorage.rol&&setTimeout((function(){var t="http://ec2-75-101-231-83.compute-1.amazonaws.com:4033/api/checkout/pay",o='{"id_persona":"'+localStorage.rutLog+'", "numero_repertorio":"'+si+'", "monto":'+(parseInt(Ai[2]["precio"])+parseInt(zi))+"}";fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:o}).then((function(t){t.json().then((function(t){alert(t.msg),console.log("PAGADO"),vi("M",A.toString(),2,localStorage.mail),i.redirect()}))}))}),1500),alert("Solicitud Enviada Exitosamente")):alert("Solicitud Guardada Exitosamente")})),console.log("entros"),1==h&&(bi(g,f,A,1),console.log("enviado"))}))}}var Ai=[];function Pi(){Object(O["e"])(Object(O["a"])(Eh,"Precios")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();Ai.push(o)})),console.log(Ai)}))}var Ni,Di=[];function yi(t){Di=[],Object(O["e"])(Object(O["a"])(Eh,"Patente_por_Inscripcion")).then((function(o){var e=o.docs;e.forEach((function(o){var e=o.data();e.idInscripcion==t&&Di.push(e)})),console.log("AUTOS: "),console.log(Di)}))}function Ti(t){Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Inscripcion_Prenda")).then((function(o){var e=o.docs;e.forEach((function(o){var e=o.data();console.log(o.id),o.id==t&&(Ni=e.numeroRepertorioContratoPrenda)}))}))}var Fi=!1;function Mi(){Fi=!1}var xi,zi=0,wi={name:"formularioModificacion",mounted:function(){var t=this;Mi(),console.log("ROL"),console.log(localStorage.rol),Ri(localStorage.mod_want,"I"),Pi(),yi(localStorage.idSol),Ti(localStorage.idSol),setTimeout((function(){console.log("SOLICITUD DE INSCRIPCION ENCONTRADA EN ESTOS LUGARES"),console.log(li),t.items=[],console.log(Di);var o=document.getElementById("monto");console.log("Enviando REQUEST"),zi=0,Di.forEach((function(o){if(zi+=parseInt(Ai[9]["precio"]),1==o.inscripcionPrendaRVM){var e=new XMLHttpRequest,n="http://ec2-75-101-231-83.compute-1.amazonaws.com:4031/API/vehicles/licensePlates?patente="+o.patente;e.open("GET",n),e.send(),e.onload=function(){if(200==e.status){var t=JSON.parse(e.response);console.log("MENSAJE RECIVIDO"),console.log(t),Fi=!1,t.solicitudes.forEach((function(t){console.log(t.numero_repertorio),console.log(Ni.split("-")[1]+"-"+Ni.split("-")[0]),t.numero_repertorio==Ni.split("-")[1]+"-"+Ni.split("-")[0]&&(console.log("ENTRO EN PENDIENTE"),Fi=!0)})),console.log("LARGO"),console.log(t.solicitudes.length),console.log(Fi)}}}var a={patente:o.patente,rvm:o.inscripcionPrendaRVM,GoE:o.inscripcionProhibicionGravarEnajenar,costo:"-"};t.items.push(a)})),o.innerHTML="$"+(parseInt(Ai[2]["precio"])+parseInt(zi));var e=document.getElementById("monto2");e.innerHTML="$"+parseInt(Ai[2]["precio"]);var n=document.getElementById("monto3");n.innerHTML="$"+parseInt(zi)}),1e3)},data:function(){return{opcion:localStorage.my_opts.split(","),username:localStorage.user,tipoDoc:"",FOtorgamiento:"",FSuscripcion:"",FAutorizacion:"",FProtocolizacion:"",RepNotaria:"",anioRepNotaria:"",ProhibGravEnajenar:!1,tipoPersona:"Natural",run:"",id:"",pais:"",rut:"",razonsocial:"",Apaterno:"",Amaterno:"",nombres:"",nombreRequirente:"",nDocRequirente:"",correoRequirente:"",fechaRequirente:this.currentDateTime(),Bienes:[],constituyentes:[{}],deudores:[{}],vehiculos:[{}],contrato:null,anexos:null}},props:{rol:{type:String,default:localStorage.rol},items:{type:Array,default:new Array}},components:{AntecedentesFormularioALZA:za,VehiculoLecturaFormularioALZAMIENTOPARCIAL:Ua,ContratoFormulario:Un,RequirenteFormulario:ea,AnexosFormulario:Jn,Monto:sa,Menu:B,Navbar:ut,Bitacora:Ja},methods:{getNotaria:function(t){this.notaria=t},gettipoDoc:function(t){this.tipoDoc=t},getFOtorgamiento:function(t){this.FOtorgamiento=t},getFSuscripcion:function(t){this.FSuscripcion=t},getFAutorizacion:function(t){this.FAutorizacion=t},getFProtocolizacion:function(t){this.FProtocolizacion=t},getRepNotaria:function(t){this.RepNotaria=t},getanioRepNotaria:function(t){this.anioRepNotaria=t},getProhibGravEnajenar:function(t){this.ProhibGravEnajenar=t},gettipoPersona:function(t){this.tipoPersona=t},getrun:function(t){this.run=t},getid:function(t){this.id=t},getpais:function(t){this.pais=t},getrut:function(t){this.rut=t},getrazonsocial:function(t){this.razonsocial=t},getApaterno:function(t){this.Apaterno=t},getAmaterno:function(t){this.Amaterno=t},getnombreRequirente:function(t){this.nombreRequirente=t},getrutRequirente:function(t){this.nDocRequirente=t},getCorreoRequirente:function(t){this.correoRequirente=t},currentDateTime:function(){var t=new Date,o=t.getDate()+"-"+(t.getMonth()+1)+"-"+t.getFullYear();return o},getFechaRequirente:function(t){this.fechaRequirente=t},getnombres:function(t){this.nombres=t},getBienes:function(t){this.Bienes=t},getConstituyentes:function(t){this.constituyentes=t,console.log("Constituyentes:"+this.constituyentes)},getDeudores:function(t){this.deudores=t,console.log("Deudores:"+this.deudores)},getVehiculos:function(t){this.vehiculos=t},getContrato:function(t){this.contrato=t,console.log("Contrato:"+this.contrato)},getAnexos:function(t){this.anexos=t,console.log("Anexos:"+this.anexos)},downloadWithCSS:function(){var t=new _["a"],o=document.createElement("canvas");S()(this.$refs.content,{scale:1},{canvas:o}).then((function(o){var e=o.toDataURL("image/jpeg",1);t.addImage(e,"JPEG",20,20,120,120),t.save("ModificacionPrenda.pdf")}))},modificar:function(t){var o=0;t&&(o="FUNCIONARIONOTARIA"==localStorage.rol?1:3),Fi?(alert("Existen patentes con solicitudes pendientes"),console.log("NO ESTA PERMITIDO")):(Ci(this.tipoDoc.toString(),this.FSuscripcion.toString(),this.FOtorgamiento.toString(),this.FProtocolizacion.toString(),this.FAutorizacion.toString(),this.notaria,(this.RepNotaria+"-"+this.anioRepNotaria).toString(),"parrafo_modificacion_generica",this.tipoPersona,this.nombres,this.run,this.nombreRequirente,this.nDocRequirente,o,this.contrato,this.anexos,this.Bienes[0],this.Bienes[1],this.Bienes[2],this.Bienes[3],this.ProhibGravEnajenar,this.correoRequirente,this.fechaRequirente,t),this.downloadWithCSS(),this.$router.push({path:"/Dashboard/".concat(localStorage.rol,"/").concat(localStorage.user,"/MisSolicitudes"),params:{username:localStorage.user,rol:localStorage.rol}}))}}},Bi=wi,ki=(e("3762"),Object(p["a"])(Bi,hi,gi,!1,null,"318596d1",null)),qi=ki.exports,Li=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"dashboard"}},[e("Menu",{attrs:{opciones:t.opcion}}),e("Navbar",{attrs:{username:t.username}}),e("div",{staticClass:"right"},[e("h1",{attrs:{bold:""}},[t._v("CAMBIO ACREEDOR")]),"FUNCIONARIOOFICINA"==t.rol?e("RequirenteFormulario"):t._e(),e("AntecedentesFormularioALZA",{attrs:{rol:t.rol},on:{gettipoDoc:t.gettipoDoc,getFOtorgamiento:t.getFOtorgamiento,getFSuscripcion:t.getFSuscripcion,getFAutorizacion:t.getFAutorizacion,getFProtocolizacion:t.getFProtocolizacion,getRepNotaria:t.getRepNotaria,getanioRepNotaria:t.getanioRepNotaria,getProhibGravEnajenar:t.getProhibGravEnajenar,getBienes:t.getBienes,getNotaria:t.getNotaria}}),e("AcreedorFormulario",{on:{gettipoPersona:t.gettipoPersona,getrun:t.getrun,getid:t.getid,getpais:t.getpais,getrut:t.getrut,getrazonsocial:t.getrazonsocial,getApaterno:t.getApaterno,getAmaterno:t.getAmaterno,getnombres:t.getnombres}}),e("VehiculoLecturaFormulario",{attrs:{tipoSolicitud:t.Modificacion,items:t.items}}),"FUNCIONARIOOFICINA"!==t.rol?e("ContratoFormulario",{on:{getContrato:t.getContrato}}):t._e(),"FUNCIONARIOOFICINA"!==t.rol?e("AnexosFormulario",{on:{getAnexos:t.getAnexos}}):t._e(),e("Bitacora"),e("Monto"),e("div",{staticClass:"row d-flex justify-content-center",attrs:{id:"contenedor"}},[e("button",{staticClass:"col-2 titleButton",on:{click:function(o){return t.modificar(!1)}}},[t._v("Guardar")]),e("button",{staticClass:"col-2 titleButton",on:{click:function(o){return t.modificar(!0)}}},[t._v("Enviar")])])],1)],1)},Ui=[];function Gi(t){if(!t.includes("-"))return!1;t=t.split("-");var o=t[0],e=t[1],n=(new Date).getFullYear();return!isNaN(o)&&!o.includes("e")&&4==o.length&&!(e>n||isNaN(e)||e.length<4)}function $i(t,o,e,n){var a=["El pago no se realizo","Hubo intencion de pagar","Pagado"];Object(O["e"])(Object(O["a"])(Eh,"Counter_N_RPsD")).then((function(n){var a=n.docs[0].data(),i=a.counter;i=i<10?"000"+i.toString():i<100?"00"+i.toString():i<1e3?"0"+i.toString():i.toString();var r=a.year;xi=i+"-"+r.toString(),console.log("RPSD: "+xi),1==e?"I"==t?Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Inscripcion_Prenda",o),{estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}).then((function(){console.log("ACTUALIZADO")})):"M"==t?Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Modificacion_Prenda",o),{estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}):"A"==t&&Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Alzamiento_Prenda",o),{estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}):"I"==t?Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Inscripcion_Prenda",o),{estadoSecundario:e}).then((function(){console.log("ACTUALIZADO")})):"M"==t?Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Modificacion_Prenda",o),{estadoSecundario:e}):"A"==t&&Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Alzamiento_Prenda",o),{estadoSecundario:e}),Object(O["i"])(Object(O["c"])(Eh,"Counter_N_RPsD","0"),{counter:a.counter+1})})),Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Inscripcion_Prenda")).then((function(i){var r="";console.log("INSCRIPCION TEST");var c=i.docs;c.forEach((function(i){console.log(i.id),i.id.toString()==o.toString()&&(console.log("MISMO ID"),r=i.data().estadoPrimario);var c=new Date;Object(O["e"])(Object(O["a"])(Eh,"Bitacora")).then((function(i){var s=i.docs.length,l="",u="",d="";"I"==t?l=o:"M"==t?u=o:"A"==t&&(d=o),Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Bitacora"),s.toString()),{idInscripcion:l,idModificacion:u,idAlzamiento:d,idUser:n,comment:a[e],fechaCambio:c.getFullYear()+"-"+(c.getMonth()+1)+"-"+c.getDate(),estadoPrimario:r})}))}))}))}function Vi(t,o,e,n){var a=null,i="",r="",c="";0==n?i=e:1==n?r=e:2==n&&(c=e),Object(O["e"])(Object(O["a"])(Eh,"Document_RPsD")).then((function(t){var o=t.docs.length,e=t.docs[o-1];a=e.data().numero_repertorio_RPsD})).then((function(){Object(O["e"])(Object(O["a"])(Eh,"Document_RPsD")).then(function(){var e=Object(L["a"])(regeneratorRuntime.mark((function e(n){var s,l,u,d,p,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:s=n.docs.length,console.log("Entro"),l=0;case 3:if(!(l<t.length)){e.next=15;break}return u=Object(bo["c"])(Ih,t[l].name),e.next=7,Object(bo["d"])(u,t[l]);case 7:return e.next=9,Object(bo["a"])(u);case 9:d=e.sent,Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Document_RPsD"),s.toString()),{id_alzamiento:i,id_modificacion:r,idInscripcion:c,"año_repertorio_del_contrato":(new Date).getFullYear(),numero_repertorio_RPsD:a+1,url:d,contrato:!0}),s+=1;case 12:l++,e.next=3;break;case 15:l=0;case 16:if(!(l<o.length)){e.next=28;break}return p=Object(bo["c"])(Ih,o[l].name),e.next=20,Object(bo["d"])(p,o[l]);case 20:return e.next=22,Object(bo["a"])(p);case 22:m=e.sent,Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Document_RPsD"),s.toString()),{idInscripcion:i,id_alzamiento:c,id_modificacion:r,"año_repertorio_del_contrato":(new Date).getFullYear(),numero_repertorio_RPsD:a+1,url:m,contrato:!1}),s+=1;case 25:l++,e.next=16;break;case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})).then((function(){console.log("EVERYTHING ITS SEND SUCCESFULLY"),alert("Todo se ha mandado correctamente")}))}function Hi(t,o,e,n,a){var i=this,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",c=arguments.length>6?arguments[6]:void 0,s=arguments.length>7?arguments[7]:void 0,l=arguments.length>8?arguments[8]:void 0,u=arguments.length>9?arguments[9]:void 0,d=arguments.length>10?arguments[10]:void 0,p=arguments.length>11&&void 0!==arguments[11]?arguments[11]:"",m=arguments.length>12&&void 0!==arguments[12]?arguments[12]:"",h=arguments.length>13?arguments[13]:void 0,g=arguments.length>14&&void 0!==arguments[14]?arguments[14]:[],f=arguments.length>15&&void 0!==arguments[15]?arguments[15]:[],v=arguments.length>16?arguments[16]:void 0,b=arguments.length>17?arguments[17]:void 0,_=arguments.length>18?arguments[18]:void 0,j=arguments.length>19?arguments[19]:void 0,S=arguments.length>20?arguments[20]:void 0,E=arguments.length>21&&void 0!==arguments[21]?arguments[21]:"",I=arguments.length>22&&void 0!==arguments[22]?arguments[22]:"",R=arguments.length>23?arguments[23]:void 0,C=!0;if(console.log(c),9==c.length||Gi(c)||(C=!1,console.log("NUMERO REPERTORIO NOTARIO FORMATO INCORRECTO"),alert("Numero repertorio notario formato incorrecto")),C){var A=null;Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Modificacion_Prenda")).then((function(t){A=t.docs.length,console.log(A),console.log("submit")})).then((function(){Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Solicitud_Modificacion_Prenda"),A.toString()),{privacidadDocumento:t,fechaSuscripcion:o,fechaOtorgamientoEscritura:e,fechaProtocolizacionContratoPrivado:n,fechaAutorizacionContratoPrivado:a,numeroRepertorioNotario:c,parrafo_modificacion_generica:s,tipo_de_persona:l,nombre_acreedor:u,rut_acreedor:d,nombreRequiriente:p,runRequiriente:m,estadoPrimario:h,estadoSecundario:0,activoFijo:v,bienesAgropecuarios:b,derechosIntangibles:_,prendaVehiculo:j,nombre_notaria:r,prohibicionGravarEnajenar:S,correoRequiriente:E,fechaRequirente:I,revisorAsignado:-1,firma:!1,tipoModificacion:2,usuarioCreador:localStorage.mail,id_transaccion:-1}).then((function(){console.log("PAGANDO EN CAJA"),R?($i("M",A.toString(),1,localStorage.mail),"FUNCIONARIOOFICINA"==localStorage.rol&&setTimeout((function(){var t="http://ec2-75-101-231-83.compute-1.amazonaws.com:4033/api/checkout/pay",o='{"id_persona":"'+localStorage.rutLog+'", "numero_repertorio":"'+xi+'", "monto":'+(parseInt(Yi[2]["precio"])+parseInt(Ki))+"}";fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:o}).then((function(t){t.json().then((function(t){alert(t.msg),console.log("PAGADO"),$i("M",A.toString(),2,localStorage.mail),i.redirect()}))}))}),1500),alert("Solicitud Enviada Exitosamente")):alert("Solicitud Guardada Exitosamente")})),console.log("entros"),1==h&&(Vi(g,f,A,1),console.log("enviado"))}))}}var Yi=[];function Ji(){Object(O["e"])(Object(O["a"])(Eh,"Precios")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();Yi.push(o)})),console.log(Yi)}))}var Zi=[];function Wi(t){Zi=[],Object(O["e"])(Object(O["a"])(Eh,"Patente_por_Inscripcion")).then((function(o){var e=o.docs;e.forEach((function(o){var e=o.data();e.idInscripcion==t&&Zi.push(e)})),console.log("AUTOS: "),console.log(Zi)}))}var Xi,Ki=0;function Qi(t){Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Inscripcion_Prenda")).then((function(o){var e=o.docs;e.forEach((function(o){var e=o.data();console.log(o.id),o.id==t&&(Xi=e.numeroRepertorioContratoPrenda)}))}))}var tr=!1;function or(){tr=!1}var er,nr={mounted:function(){var t=this;Ji(),or(),Wi(localStorage.idSol),Qi(localStorage.idSol),setTimeout((function(){t.items=[],console.log(Zi);var o=document.getElementById("monto");console.log("Enviando REQUEST"),Ki=0,Zi.forEach((function(o){if(Ki+=parseInt(Yi[9]["precio"]),1==o.inscripcionPrendaRVM){var e=new XMLHttpRequest,n="http://ec2-75-101-231-83.compute-1.amazonaws.com:4031/API/vehicles/licensePlates?patente="+o.patente;e.open("GET",n),e.send(),e.onload=function(){if(200==e.status){var t=JSON.parse(e.response);console.log("MENSAJE RECIVIDO"),console.log(t),tr=!1,t.solicitudes.forEach((function(t){console.log(t.numero_repertorio),console.log(Xi.split("-")[1]+"-"+Xi.split("-")[0]),t.numero_repertorio==Xi.split("-")[1]+"-"+Xi.split("-")[0]&&(console.log("ENTRO EN PENDIENTE"),tr=!0)})),console.log("LARGO"),console.log(t.solicitudes.length),console.log(tr)}}}var a={patente:o.patente,rvm:o.inscripcionPrendaRVM,GoE:o.inscripcionProhibicionGravarEnajenar,costo:"-"};t.items.push(a)})),o.innerHTML="$"+(parseInt(Yi[2]["precio"])+parseInt(Ki));var e=document.getElementById("monto2");e.innerHTML="$"+parseInt(Yi[2]["precio"]);var n=document.getElementById("monto3");n.innerHTML="$"+parseInt(Ki)}),1e3)},name:"formularioModificacion",data:function(){return{opcion:localStorage.my_opts.split(","),username:localStorage.user,tipoDoc:"",FOtorgamiento:"",FSuscripcion:"",FAutorizacion:"",FProtocolizacion:"",RepNotaria:"",anioRepNotaria:"",ProhibGravEnajenar:!1,tipoPersona:"Natural",run:"",id:"",pais:"",rut:"",razonsocial:"",Apaterno:"",Amaterno:"",nombres:"",nombreRequirente:"",nDocRequirente:"",correoRequirente:"",fechaRequirente:this.currentDateTime(),Bienes:[],constituyentes:[{}],deudores:[{}],vehiculos:[{}],contrato:null,anexos:null}},props:{rol:{type:String,default:localStorage.rol},items:{type:Array,default:new Array}},components:{AntecedentesFormularioALZA:za,AcreedorFormulario:mn,VehiculoLecturaFormulario:Ua,RequirenteFormulario:ea,ContratoFormulario:Un,AnexosFormulario:Jn,Monto:sa,Menu:B,Navbar:ut,Bitacora:Ja},methods:{getNotaria:function(t){this.notaria=t},gettipoDoc:function(t){this.tipoDoc=t},getFOtorgamiento:function(t){this.FOtorgamiento=t},getFSuscripcion:function(t){this.FSuscripcion=t},getFAutorizacion:function(t){this.FAutorizacion=t},getFProtocolizacion:function(t){this.FProtocolizacion=t},getRepNotaria:function(t){this.RepNotaria=t},getanioRepNotaria:function(t){this.anioRepNotaria=t},getProhibGravEnajenar:function(t){this.ProhibGravEnajenar=t},gettipoPersona:function(t){this.tipoPersona=t},getrun:function(t){this.run=t},getid:function(t){this.id=t},getpais:function(t){this.pais=t},getrut:function(t){this.rut=t},getrazonsocial:function(t){this.razonsocial=t},getApaterno:function(t){this.Apaterno=t},getAmaterno:function(t){this.Amaterno=t},getnombreRequirente:function(t){this.nombreRequirente=t},getrutRequirente:function(t){this.nDocRequirente=t},getCorreoRequirente:function(t){this.correoRequirente=t},currentDateTime:function(){var t=new Date,o=t.getDate()+"-"+(t.getMonth()+1)+"-"+t.getFullYear();return o},getFechaRequirente:function(t){this.fechaRequirente=t},getnombres:function(t){this.nombres=t},getBienes:function(t){this.Bienes=t},getConstituyentes:function(t){this.constituyentes=t,console.log("Constituyentes:"+this.constituyentes)},getDeudores:function(t){this.deudores=t,console.log("Deudores:"+this.deudores)},getVehiculos:function(t){this.vehiculos=t},getContrato:function(t){this.contrato=t,console.log("Contrato:"+this.contrato)},getAnexos:function(t){this.anexos=t,console.log("Anexos:"+this.anexos)},downloadWithCSS:function(){var t=new _["a"],o=document.createElement("canvas");S()(this.$refs.content,{scale:1},{canvas:o}).then((function(o){var e=o.toDataURL("image/jpeg",1);t.addImage(e,"JPEG",20,20,120,120),t.save("ModificacionPrenda.pdf")}))},modificar:function(t){var o=this,e=0;t&&(e="FUNCIONARIONOTARIA"==localStorage.rol?1:3);var n=new XMLHttpRequest,a="http://ec2-75-101-231-83.compute-1.amazonaws.com:4030/api/users/user?run="+this.run;n.open("GET",a),n.send(),n.onload=function(){if(200==n.status){var a=JSON.parse(n.response);a.valid?tr?alert("Existen patentes con solicitudes pendientes"):(Hi(o.tipoDoc.toString(),o.FSuscripcion.toString(),o.FOtorgamiento.toString(),o.FProtocolizacion.toString(),o.FAutorizacion.toString(),o.notaria,(o.RepNotaria+"-"+o.anioRepNotaria).toString(),"parrafo_modificacion_generica",o.tipoPersona,o.nombres+" "+o.Apaterno+" "+o.Amaterno,o.run,o.nombreRequirente,o.nDocRequirente,e,o.contrato,o.anexos,o.Bienes[0],o.Bienes[1],o.Bienes[2],o.Bienes[3],o.ProhibGravEnajenar,o.correoRequirente,o.fechaRequirente,t),o.$router.push({path:"/Dashboard/".concat(localStorage.rol,"/").concat(localStorage.user,"/MisSolicitudes"),params:{username:localStorage.user,rol:localStorage.rol}}),o.downloadWithCSS()):alert(a.msg)}}}}},ar=nr,ir=(e("9655"),Object(p["a"])(ar,Li,Ui,!1,null,"e9b4c4a2",null)),rr=ir.exports,cr=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"dashboard"}},[e("Menu",{attrs:{opciones:t.opcion}}),e("Navbar",{attrs:{username:t.username}}),e("div",{staticClass:"right"},[e("h1",{attrs:{bold:""}},[t._v("OTROS")]),"FUNCIONARIOOFICINA"==t.rol?e("RequirenteFormulario"):t._e(),e("AntecedentesFormularioALZA",{attrs:{rol:t.rol},on:{gettipoDoc:t.gettipoDoc,getFOtorgamiento:t.getFOtorgamiento,getFSuscripcion:t.getFSuscripcion,getFAutorizacion:t.getFAutorizacion,getFProtocolizacion:t.getFProtocolizacion,getRepNotaria:t.getRepNotaria,getanioRepNotaria:t.getanioRepNotaria,getProhibGravEnajenar:t.getProhibGravEnajenar,getBienes:t.getBienes,getNotaria:t.getNotaria}}),t._m(0),"FUNCIONARIOOFICINA"!==t.rol?e("ContratoFormulario",{on:{getContrato:t.getContrato}}):t._e(),"FUNCIONARIOOFICINA"!==t.rol?e("AnexosFormulario",{on:{getAnexos:t.getAnexos}}):t._e(),e("Bitacora"),e("Monto"),e("div",{staticClass:"row d-flex justify-content-center",attrs:{id:"contenedor"}},[e("button",{staticClass:"col-2 titleButton",on:{click:function(o){return t.modificar(!1)}}},[t._v("Guardar")]),e("button",{staticClass:"col-2 titleButton",on:{click:function(o){return t.modificar(!0)}}},[t._v("Enviar")])])],1)],1)},sr=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"mb-3",attrs:{id:"textarea"}},[e("label",{staticClass:"form-label titleFormulario",attrs:{for:"textoOTRO"}},[t._v("RESUMA EL MOTIVO DE LA MODIFICACION")]),e("textarea",{staticClass:"form-control",attrs:{id:"textoOTRO",rows:"3"}})])}];function lr(t){if(!t.includes("-"))return!1;t=t.split("-");var o=t[0],e=t[1],n=(new Date).getFullYear();return!isNaN(o)&&!o.includes("e")&&4==o.length&&!(e>n||isNaN(e)||e.length<4)}function ur(t,o,e,n){var a=["El pago no se realizo","Hubo intencion de pagar","Pagado"];Object(O["e"])(Object(O["a"])(Eh,"Counter_N_RPsD")).then((function(n){var a=n.docs[0].data(),i=a.counter;i=i<10?"000"+i.toString():i<100?"00"+i.toString():i<1e3?"0"+i.toString():i.toString();var r=a.year;er=i+"-"+r.toString(),console.log("RPSD: "+er),1==e?"I"==t?Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Inscripcion_Prenda",o),{estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}).then((function(){console.log("ACTUALIZADO")})):"M"==t?Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Modificacion_Prenda",o),{estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}):"A"==t&&Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Alzamiento_Prenda",o),{estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}):"I"==t?Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Inscripcion_Prenda",o),{estadoSecundario:e}).then((function(){console.log("ACTUALIZADO")})):"M"==t?Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Modificacion_Prenda",o),{estadoSecundario:e}):"A"==t&&Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Alzamiento_Prenda",o),{estadoSecundario:e}),Object(O["i"])(Object(O["c"])(Eh,"Counter_N_RPsD","0"),{counter:a.counter+1})})),Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Inscripcion_Prenda")).then((function(i){var r="";console.log("INSCRIPCION TEST");var c=i.docs;c.forEach((function(i){console.log(i.id),i.id.toString()==o.toString()&&(console.log("MISMO ID"),r=i.data().estadoPrimario);var c=new Date;Object(O["e"])(Object(O["a"])(Eh,"Bitacora")).then((function(i){var s=i.docs.length,l="",u="",d="";"I"==t?l=o:"M"==t?u=o:"A"==t&&(d=o),Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Bitacora"),s.toString()),{idInscripcion:l,idModificacion:u,idAlzamiento:d,idUser:n,comment:a[e],fechaCambio:c.getFullYear()+"-"+(c.getMonth()+1)+"-"+c.getDate(),estadoPrimario:r})}))}))}))}function dr(t,o,e,n){var a=null,i="",r="",c="";0==n?i=e:1==n?r=e:2==n&&(c=e),Object(O["e"])(Object(O["a"])(Eh,"Document_RPsD")).then((function(t){var o=t.docs.length,e=t.docs[o-1];a=e.data().numero_repertorio_RPsD})).then((function(){Object(O["e"])(Object(O["a"])(Eh,"Document_RPsD")).then(function(){var e=Object(L["a"])(regeneratorRuntime.mark((function e(n){var s,l,u,d,p,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:s=n.docs.length,console.log("Entro"),l=0;case 3:if(!(l<t.length)){e.next=15;break}return u=Object(bo["c"])(Ih,t[l].name),e.next=7,Object(bo["d"])(u,t[l]);case 7:return e.next=9,Object(bo["a"])(u);case 9:d=e.sent,Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Document_RPsD"),s.toString()),{id_alzamiento:i,id_modificacion:r,idInscripcion:c,"año_repertorio_del_contrato":(new Date).getFullYear(),numero_repertorio_RPsD:a+1,url:d,contrato:!0}),s+=1;case 12:l++,e.next=3;break;case 15:l=0;case 16:if(!(l<o.length)){e.next=28;break}return p=Object(bo["c"])(Ih,o[l].name),e.next=20,Object(bo["d"])(p,o[l]);case 20:return e.next=22,Object(bo["a"])(p);case 22:m=e.sent,Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Document_RPsD"),s.toString()),{idInscripcion:i,id_alzamiento:c,id_modificacion:r,"año_repertorio_del_contrato":(new Date).getFullYear(),numero_repertorio_RPsD:a+1,url:m,contrato:!1}),s+=1;case 25:l++,e.next=16;break;case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})).then((function(){console.log("EVERYTHING ITS SEND SUCCESFULLY"),alert("Todo se ha mandado correctamente")}))}function pr(t,o,e,n,a){var i=this,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",c=arguments.length>6?arguments[6]:void 0,s=arguments.length>7?arguments[7]:void 0,l=arguments.length>8?arguments[8]:void 0,u=arguments.length>9?arguments[9]:void 0,d=arguments.length>10?arguments[10]:void 0,p=arguments.length>11&&void 0!==arguments[11]?arguments[11]:"",m=arguments.length>12&&void 0!==arguments[12]?arguments[12]:"",h=arguments.length>13?arguments[13]:void 0,g=arguments.length>14&&void 0!==arguments[14]?arguments[14]:[],f=arguments.length>15&&void 0!==arguments[15]?arguments[15]:[],v=arguments.length>16?arguments[16]:void 0,b=arguments.length>17?arguments[17]:void 0,_=arguments.length>18?arguments[18]:void 0,j=arguments.length>19?arguments[19]:void 0,S=arguments.length>20?arguments[20]:void 0,E=arguments.length>21&&void 0!==arguments[21]?arguments[21]:"",I=arguments.length>22&&void 0!==arguments[22]?arguments[22]:"",R=arguments.length>23?arguments[23]:void 0,C=!0;if(console.log(c),9==c.length||lr(c)||(C=!1,console.log("NUMERO REPERTORIO NOTARIO FORMATO INCORRECTO"),alert("Numero repertorio notario formato incorrecto")),C){var A=null;Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Modificacion_Prenda")).then((function(t){A=t.docs.length,console.log(A),console.log("submit")})).then((function(){Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Solicitud_Modificacion_Prenda"),A.toString()),{privacidadDocumento:t,fechaSuscripcion:o,fechaOtorgamientoEscritura:e,fechaProtocolizacionContratoPrivado:n,fechaAutorizacionContratoPrivado:a,numeroRepertorioNotario:c,parrafo_modificacion_generica:s,tipo_de_persona:l,nombre_acreedor:u,rut_acreedor:d,nombreRequiriente:p,runRequiriente:m,estadoPrimario:h,estadoSecundario:0,activoFijo:v,bienesAgropecuarios:b,derechosIntangibles:_,prendaVehiculo:j,nombre_notaria:r,prohibicionGravarEnajenar:S,correoRequiriente:E,fechaRequirente:I,revisorAsignado:-1,firma:!1,tipoModificacion:4,usuarioCreador:localStorage.mail,id_transaccion:-1}).then((function(){console.log("PAGANDO EN CAJA"),R?(ur("M",A.toString(),1,localStorage.mail),"FUNCIONARIOOFICINA"==localStorage.rol&&setTimeout((function(){var t="http://ec2-75-101-231-83.compute-1.amazonaws.com:4033/api/checkout/pay",o='{"id_persona":"'+localStorage.rutLog+'", "numero_repertorio":"'+er+'", "monto":'+parseInt(mr[2]["precio"])+"}";fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:o}).then((function(t){t.json().then((function(t){alert(t.msg),console.log("PAGADO"),ur("M",A.toString(),2,localStorage.mail),i.redirect()}))}))}),1500),alert("Solicitud Enviada Exitosamente")):alert("Solicitud Guardada Exitosamente")})),console.log("entros"),1==h&&(dr(g,f,A,1),console.log("enviado"))}))}}var mr=[];function hr(){Object(O["e"])(Object(O["a"])(Eh,"Precios")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();mr.push(o)})),console.log(mr)}))}var gr,fr={mounted:function(){hr(),setTimeout((function(){var t=document.getElementById("monto");t.innerHTML="$"+mr[2]["precio"],t.innerHTML="$"+parseInt(mr[2]["precio"]);var o=document.getElementById("monto2");o.innerHTML="$"+parseInt(mr[2]["precio"]);var e=document.getElementById("monto3");e.innerHTML="$0"}),1500)},name:"formularioModificacion",data:function(){return{opcion:localStorage.my_opts.split(","),username:localStorage.user,tipoDoc:"",FOtorgamiento:"",FSuscripcion:"",FAutorizacion:"",FProtocolizacion:"",RepNotaria:"",anioRepNotaria:"",ProhibGravEnajenar:!1,tipoPersona:"Natural",run:"",id:"",pais:"",rut:"",razonsocial:"",Apaterno:"",Amaterno:"",nombres:"",nombreRequirente:"",nDocRequirente:"",correoRequirente:"",fechaRequirente:this.currentDateTime(),Bienes:[],constituyentes:[{}],deudores:[{}],vehiculos:[{}],contrato:null,anexos:null}},props:{rol:{type:String,default:localStorage.rol}},components:{AntecedentesFormularioALZA:za,ContratoFormulario:Un,RequirenteFormulario:ea,AnexosFormulario:Jn,Monto:sa,Menu:B,Navbar:ut,Bitacora:Ja},methods:{getNotaria:function(t){this.notaria=t},gettipoDoc:function(t){this.tipoDoc=t},getFOtorgamiento:function(t){this.FOtorgamiento=t},getFSuscripcion:function(t){this.FSuscripcion=t},getFAutorizacion:function(t){this.FAutorizacion=t},getFProtocolizacion:function(t){this.FProtocolizacion=t},getRepNotaria:function(t){this.RepNotaria=t},getanioRepNotaria:function(t){this.anioRepNotaria=t},getProhibGravEnajenar:function(t){this.ProhibGravEnajenar=t},gettipoPersona:function(t){this.tipoPersona=t},getrun:function(t){this.run=t},getid:function(t){this.id=t},getpais:function(t){this.pais=t},getrut:function(t){this.rut=t},getrazonsocial:function(t){this.razonsocial=t},getApaterno:function(t){this.Apaterno=t},getAmaterno:function(t){this.Amaterno=t},getnombreRequirente:function(t){this.nombreRequirente=t},getrutRequirente:function(t){this.nDocRequirente=t},getCorreoRequirente:function(t){this.correoRequirente=t},currentDateTime:function(){var t=new Date,o=t.getDate()+"-"+(t.getMonth()+1)+"-"+t.getFullYear();return o},getFechaRequirente:function(t){this.fechaRequirente=t},getnombres:function(t){this.nombres=t},getBienes:function(t){this.Bienes=t},getConstituyentes:function(t){this.constituyentes=t,console.log("Constituyentes:"+this.constituyentes)},getDeudores:function(t){this.deudores=t,console.log("Deudores:"+this.deudores)},getVehiculos:function(t){this.vehiculos=t},getContrato:function(t){this.contrato=t,console.log("Contrato:"+this.contrato)},getAnexos:function(t){this.anexos=t,console.log("Anexos:"+this.anexos)},downloadWithCSS:function(){var t=new _["a"],o=document.createElement("canvas");S()(this.$refs.content,{scale:1},{canvas:o}).then((function(o){var e=o.toDataURL("image/jpeg",1);t.addImage(e,"JPEG",20,20,120,120),t.save("ModificacionPrenda.pdf")}))},modificar:function(t){var o=0;t&&(o="FUNCIONARIONOTARIA"==localStorage.rol?1:3);var e=document.getElementById("textoOTRO").value;pr(this.tipoDoc.toString(),this.FSuscripcion.toString(),this.FOtorgamiento.toString(),this.FProtocolizacion.toString(),this.FAutorizacion.toString(),this.notaria,(this.RepNotaria+"-"+this.anioRepNotaria).toString(),e,this.tipoPersona,this.nombres,this.run,this.nombreRequirente,this.nDocRequirente,o,this.contrato,this.anexos,this.Bienes[0],this.Bienes[1],this.Bienes[2],this.Bienes[3],this.ProhibGravEnajenar,this.correoRequirente,this.fechaRequirente,t),this.$router.push({path:"/Dashboard/".concat(localStorage.rol,"/").concat(localStorage.user,"/MisSolicitudes"),params:{username:localStorage.user,rol:localStorage.rol}}),this.downloadWithCSS()}}},vr=fr,br=(e("373d"),Object(p["a"])(vr,cr,sr,!1,null,"53453237",null)),Or=br.exports,_r=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"dashboard"}},[e("Menu",{attrs:{opciones:t.opcion}}),e("Navbar",{attrs:{username:t.username}}),e("div",{staticClass:"right"},[e("h1",{attrs:{bold:""}},[t._v("PROHIBICION DE ACTO")]),"FUNCIONARIOOFICINA"==t.rol?e("RequirenteFormulario"):t._e(),e("AntecedentesFormularioALZA",{attrs:{rol:t.rol},on:{gettipoDoc:t.gettipoDoc,getFOtorgamiento:t.getFOtorgamiento,getFSuscripcion:t.getFSuscripcion,getFAutorizacion:t.getFAutorizacion,getFProtocolizacion:t.getFProtocolizacion,getRepNotaria:t.getRepNotaria,getanioRepNotaria:t.getanioRepNotaria,getProhibGravEnajenar:t.getProhibGravEnajenar,getBienes:t.getBienes,getNotaria:t.getNotaria}}),"FUNCIONARIOOFICINA"!==t.rol?e("ContratoFormulario",{on:{getContrato:t.getContrato}}):t._e(),"FUNCIONARIOOFICINA"!==t.rol?e("AnexosFormulario",{on:{getAnexos:t.getAnexos}}):t._e(),e("Bitacora"),e("Monto"),e("div",{staticClass:"row d-flex justify-content-center",attrs:{id:"contenedor"}},[e("button",{staticClass:"col-2 titleButton",on:{click:function(o){return t.modificar(!1)}}},[t._v("Guardar")]),e("button",{staticClass:"col-2 titleButton",on:{click:function(o){return t.modificar(!0)}}},[t._v("Enviar")])])],1)],1)},jr=[];function Sr(t){if(!t.includes("-"))return!1;t=t.split("-");var o=t[0],e=t[1],n=(new Date).getFullYear();return!isNaN(o)&&!o.includes("e")&&4==o.length&&!(e>n||isNaN(e)||e.length<4)}function Er(t,o,e,n){var a=["El pago no se realizo","Hubo intencion de pagar","Pagado"];Object(O["e"])(Object(O["a"])(Eh,"Counter_N_RPsD")).then((function(n){var a=n.docs[0].data(),i=a.counter;i=i<10?"000"+i.toString():i<100?"00"+i.toString():i<1e3?"0"+i.toString():i.toString();var r=a.year;gr=i+"-"+r.toString(),console.log("RPSD: "+gr),1==e?"I"==t?Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Inscripcion_Prenda",o),{estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}).then((function(){console.log("ACTUALIZADO")})):"M"==t?Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Modificacion_Prenda",o),{estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}):"A"==t&&Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Alzamiento_Prenda",o),{estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}):"I"==t?Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Inscripcion_Prenda",o),{estadoSecundario:e}).then((function(){console.log("ACTUALIZADO")})):"M"==t?Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Modificacion_Prenda",o),{estadoSecundario:e}):"A"==t&&Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Alzamiento_Prenda",o),{estadoSecundario:e}),Object(O["i"])(Object(O["c"])(Eh,"Counter_N_RPsD","0"),{counter:a.counter+1})})),Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Inscripcion_Prenda")).then((function(i){var r="";console.log("INSCRIPCION TEST");var c=i.docs;c.forEach((function(i){console.log(i.id),i.id.toString()==o.toString()&&(console.log("MISMO ID"),r=i.data().estadoPrimario);var c=new Date;Object(O["e"])(Object(O["a"])(Eh,"Bitacora")).then((function(i){var s=i.docs.length,l="",u="",d="";"I"==t?l=o:"M"==t?u=o:"A"==t&&(d=o),Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Bitacora"),s.toString()),{idInscripcion:l,idModificacion:u,idAlzamiento:d,idUser:n,comment:a[e],fechaCambio:c.getFullYear()+"-"+(c.getMonth()+1)+"-"+c.getDate(),estadoPrimario:r})}))}))}))}function Ir(t,o,e,n){var a=null,i="",r="",c="";0==n?i=e:1==n?r=e:2==n&&(c=e),Object(O["e"])(Object(O["a"])(Eh,"Document_RPsD")).then((function(t){var o=t.docs.length,e=t.docs[o-1];a=e.data().numero_repertorio_RPsD})).then((function(){Object(O["e"])(Object(O["a"])(Eh,"Document_RPsD")).then(function(){var e=Object(L["a"])(regeneratorRuntime.mark((function e(n){var s,l,u,d,p,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:s=n.docs.length,console.log("Entro"),l=0;case 3:if(!(l<t.length)){e.next=15;break}return u=Object(bo["c"])(Ih,t[l].name),e.next=7,Object(bo["d"])(u,t[l]);case 7:return e.next=9,Object(bo["a"])(u);case 9:d=e.sent,Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Document_RPsD"),s.toString()),{id_alzamiento:i,id_modificacion:r,idInscripcion:c,"año_repertorio_del_contrato":(new Date).getFullYear(),numero_repertorio_RPsD:a+1,url:d,contrato:!0}),s+=1;case 12:l++,e.next=3;break;case 15:l=0;case 16:if(!(l<o.length)){e.next=28;break}return p=Object(bo["c"])(Ih,o[l].name),e.next=20,Object(bo["d"])(p,o[l]);case 20:return e.next=22,Object(bo["a"])(p);case 22:m=e.sent,Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Document_RPsD"),s.toString()),{idInscripcion:i,id_alzamiento:c,id_modificacion:r,"año_repertorio_del_contrato":(new Date).getFullYear(),numero_repertorio_RPsD:a+1,url:m,contrato:!1}),s+=1;case 25:l++,e.next=16;break;case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})).then((function(){console.log("EVERYTHING ITS SEND SUCCESFULLY"),alert("Todo se ha mandado correctamente")}))}function Rr(t,o,e,n,a){var i=this,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",c=arguments.length>6?arguments[6]:void 0,s=arguments.length>7?arguments[7]:void 0,l=arguments.length>8?arguments[8]:void 0,u=arguments.length>9?arguments[9]:void 0,d=arguments.length>10?arguments[10]:void 0,p=arguments.length>11&&void 0!==arguments[11]?arguments[11]:"",m=arguments.length>12&&void 0!==arguments[12]?arguments[12]:"",h=arguments.length>13?arguments[13]:void 0,g=arguments.length>14&&void 0!==arguments[14]?arguments[14]:[],f=arguments.length>15&&void 0!==arguments[15]?arguments[15]:[],v=arguments.length>16?arguments[16]:void 0,b=arguments.length>17?arguments[17]:void 0,_=arguments.length>18?arguments[18]:void 0,j=arguments.length>19?arguments[19]:void 0,S=arguments.length>20?arguments[20]:void 0,E=arguments.length>21&&void 0!==arguments[21]?arguments[21]:"",I=arguments.length>22&&void 0!==arguments[22]?arguments[22]:"",R=arguments.length>23?arguments[23]:void 0,C=!0;if(console.log(c),9==c.length||Sr(c)||(C=!1,console.log("NUMERO REPERTORIO NOTARIO FORMATO INCORRECTO"),alert("Numero repertorio notario formato incorrecto")),C){var A=null;Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Modificacion_Prenda")).then((function(t){A=t.docs.length,console.log(A),console.log("submit")})).then((function(){Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Solicitud_Modificacion_Prenda"),A.toString()),{privacidadDocumento:t,fechaSuscripcion:o,fechaOtorgamientoEscritura:e,fechaProtocolizacionContratoPrivado:n,fechaAutorizacionContratoPrivado:a,numeroRepertorioNotario:c,parrafo_modificacion_generica:s,tipo_de_persona:l,nombre_acreedor:u,rut_acreedor:d,nombreRequiriente:p,runRequiriente:m,estadoPrimario:h,estadoSecundario:0,activoFijo:v,bienesAgropecuarios:b,derechosIntangibles:_,prendaVehiculo:j,nombre_notaria:r,prohibicionGravarEnajenar:S,correoRequiriente:E,fechaRequirente:I,revisorAsignado:-1,firma:!1,tipoModificacion:3,usuarioCreador:localStorage.mail,id_transaccion:-1}).then((function(){console.log("PAGANDO EN CAJA"),R?(Er("M",A.toString(),1,localStorage.mail),"FUNCIONARIOOFICINA"==localStorage.rol&&setTimeout((function(){var t="http://ec2-75-101-231-83.compute-1.amazonaws.com:4033/api/checkout/pay",o='{"id_persona":"'+localStorage.rutLog+'", "numero_repertorio":"'+gr+'", "monto":'+parseInt(Cr[2]["precio"])+"}";fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:o}).then((function(t){t.json().then((function(t){alert(t.msg),console.log("PAGADO"),Er("M",A.toString(),2,localStorage.mail),i.redirect()}))}))}),1500),alert("Solicitud Enviada Exitosamente")):alert("Solicitud Guardada Exitosamente")})),console.log("entros"),1==h&&(Ir(g,f,A,1),console.log("enviado"))}))}}var Cr=[];function Ar(){Object(O["e"])(Object(O["a"])(Eh,"Precios")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();Cr.push(o)})),console.log(Cr)}))}var Pr={mounted:function(){Ar(),setTimeout((function(){var t=document.getElementById("monto");t.innerHTML="$"+Cr[2]["precio"],t.innerHTML="$"+parseInt(Cr[2]["precio"]);var o=document.getElementById("monto2");o.innerHTML="$"+parseInt(Cr[2]["precio"]);var e=document.getElementById("monto3");e.innerHTML="$0"}),1500)},name:"formularioModificacion",data:function(){return{opcion:localStorage.my_opts.split(","),username:localStorage.user,tipoDoc:"",FOtorgamiento:"",FSuscripcion:"",FAutorizacion:"",FProtocolizacion:"",RepNotaria:"",anioRepNotaria:"",ProhibGravEnajenar:!1,tipoPersona:"Natural",run:"",id:"",pais:"",rut:"",razonsocial:"",Apaterno:"",Amaterno:"",nombres:"",nombreRequirente:"",nDocRequirente:"",correoRequirente:"",fechaRequirente:this.currentDateTime(),Bienes:[],constituyentes:[{}],deudores:[{}],vehiculos:[{}],contrato:null,anexos:null}},props:{rol:{type:String,default:localStorage.rol}},components:{AntecedentesFormularioALZA:za,RequirenteFormulario:ea,ContratoFormulario:Un,AnexosFormulario:Jn,Monto:sa,Menu:B,Navbar:ut,Bitacora:Ja},methods:{getNotaria:function(t){this.notaria=t},gettipoDoc:function(t){this.tipoDoc=t},getFOtorgamiento:function(t){this.FOtorgamiento=t},getFSuscripcion:function(t){this.FSuscripcion=t},getFAutorizacion:function(t){this.FAutorizacion=t},getFProtocolizacion:function(t){this.FProtocolizacion=t},getRepNotaria:function(t){this.RepNotaria=t},getanioRepNotaria:function(t){this.anioRepNotaria=t},getProhibGravEnajenar:function(t){this.ProhibGravEnajenar=t},gettipoPersona:function(t){this.tipoPersona=t},getrun:function(t){this.run=t},getid:function(t){this.id=t},getpais:function(t){this.pais=t},getrut:function(t){this.rut=t},getrazonsocial:function(t){this.razonsocial=t},getApaterno:function(t){this.Apaterno=t},getAmaterno:function(t){this.Amaterno=t},getnombreRequirente:function(t){this.nombreRequirente=t},getrutRequirente:function(t){this.nDocRequirente=t},getCorreoRequirente:function(t){this.correoRequirente=t},currentDateTime:function(){var t=new Date,o=t.getDate()+"-"+(t.getMonth()+1)+"-"+t.getFullYear();return o},getFechaRequirente:function(t){this.fechaRequirente=t},getnombres:function(t){this.nombres=t},getBienes:function(t){this.Bienes=t},getConstituyentes:function(t){this.constituyentes=t,console.log("Constituyentes:"+this.constituyentes)},getDeudores:function(t){this.deudores=t,console.log("Deudores:"+this.deudores)},getVehiculos:function(t){this.vehiculos=t},getContrato:function(t){this.contrato=t,console.log("Contrato:"+this.contrato)},getAnexos:function(t){this.anexos=t,console.log("Anexos:"+this.anexos)},downloadWithCSS:function(){var t=new _["a"],o=document.createElement("canvas");S()(this.$refs.content,{scale:1},{canvas:o}).then((function(o){var e=o.toDataURL("image/jpeg",1);t.addImage(e,"JPEG",20,20,120,120),t.save("ModificacionPrenda.pdf")}))},modificar:function(t){var o=0;t&&(o="FUNCIONARIONOTARIA"==localStorage.rol?1:3),Rr(this.tipoDoc.toString(),this.FSuscripcion.toString(),this.FOtorgamiento.toString(),this.FProtocolizacion.toString(),this.FAutorizacion.toString(),this.notaria,(this.RepNotaria+"-"+this.anioRepNotaria).toString(),"parrafo_modificacion_generica",this.tipoPersona,this.nombres,this.run,this.nombreRequirente,this.nDocRequirente,o,this.contrato,this.anexos,this.Bienes[0],this.Bienes[1],this.Bienes[2],this.Bienes[3],this.ProhibGravEnajenar,this.correoRequirente,this.fechaRequirente,t),this.downloadWithCSS()}}},Nr=Pr,Dr=(e("aadf"),Object(p["a"])(Nr,_r,jr,!1,null,"4f45328b",null)),yr=Dr.exports,Tr=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"BusquedaAlzamiento"}},[e("Navbar",{attrs:{username:t.username}}),e("Menu",{attrs:{opciones:t.opcion}}),e("div",{staticClass:"d-flex justify-content-center contenedor right row"},[t._m(0),e("div",{staticClass:"row d-flex justify-content-center item"},[e("div",{staticClass:"col-3"},[t._v("\n                    FOLIO REP. PRENDA\n                    "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.folio,expression:"folio"}],attrs:{type:"text",placeholder:"Folio"},domProps:{value:t.folio},on:{input:function(o){o.target.composing||(t.folio=o.target.value)}}})]),e("div",{staticClass:"col-4"},[e("div",{staticClass:"titles d-flex justify-content-center"},[t._v("\n                    AÑO REPERTORIO\n                ")]),e("div",{staticClass:"d-flex justify-content-center"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.anio,expression:"anio"}],attrs:{type:"text",placeholder:"Año"},domProps:{value:t.anio},on:{input:function(o){o.target.composing||(t.anio=o.target.value)}}})])])]),e("div",{staticClass:"row d-flex justify-content-center item"},[e("div",{staticClass:"col-3"},[e("div",{staticClass:"titles d-flex justify-content-center"},[t._v("\n                    IDENTIFICADOR DE ALGUN CONSTITUYENTE\n                ")]),e("div",{staticClass:"d-flex justify-content-center"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.id,expression:"id"}],staticClass:"nrepertorioleft",attrs:{type:"text",placeholder:"ID de constituyente"},domProps:{value:t.id},on:{input:function(o){o.target.composing||(t.id=o.target.value)}}})])])]),e("button",{staticClass:"d-flex justify-content-center button",on:{click:function(o){return t.busqueda()}}},[t._v("Buscar")])]),-1!==t.id_sol2?e("div",{staticClass:"row d-flex justify-content-center item",attrs:{id:"tipomodific"}},[e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start item"},[t._v("\n                TIPO DE MODIFICACION\n            ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.tipomodificacion,expression:"tipomodificacion"}],staticClass:"form-select",attrs:{id:"tipoDeDocumento"},on:{change:[function(o){var e=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.tipomodificacion=o.target.multiple?e:e[0]},function(o){return t.elegirSolicitud()}]}},[e("option",{attrs:{selected:"",value:"Alzamiento Parcial"}},[t._v("Alzamiento Parcial")]),e("option",{attrs:{value:"Cambio Acreedor"}},[t._v("Cambio Acreedor")]),e("option",{attrs:{value:"Prohibicion de acto"}},[t._v("Prohibicion de acto")]),e("option",{attrs:{value:"Otros"}},[t._v("Otros")])])])])]):t._e()],1)},Fr=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("h1",{staticClass:"title"},[t._v("Solicitud de "),e("strong",[t._v("Modificaión ")]),t._v(" de Contrato de Prendas")])}];function Mr(t,o){Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Inscripcion_Prenda")).then((function(e){var n=e.docs;n.forEach((function(e){var n=e.data();if(n.numeroRepertorioContratoPrenda==t){console.log("Se encontro numero de repertorio igual");var a=e.id;console.log(a),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Persona_Solicitud"),Object(O["j"])("idInscripcion","==",parseInt(a)))).then((function(e){console.log(e.docs);var n=e.docs,a=!1;n.forEach((function(e){var n=e.data();if(1==n.tipoContratante&&o==n.runPersona&&!a){console.log("SE ENCONTRO UNA SOLICITUD"),console.log("ID SOLICITUD: "+n.idInscripcion);var i=[];Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Solicitud_Modificacion_Prenda"),Object(O["j"])("numero_repertorio_notaria","==",t))).then((function(t){var o=t.docs;return o.forEach((function(t){var o=t.id;i.push(o)})),i.length>0?(console.log("1"),void(xr=i.pop())):(console.log("2"),void(xr=n.idInscripcion))}))}}))}))}}))})).then((function(){console.log("3"),xr=-1}))}var xr=-1,zr={name:"BusquedaAlzamiento",data:function(){return{opcion:localStorage.my_opts.split(","),username:localStorage.user,folio:"",anio:"",id:"",id_sol2:xr,tipomodificacion:""}},props:{rol:{type:String,default:localStorage.rol}},methods:{busqueda:function(){var t=this;Mr((this.folio+"-"+this.anio).toString(),this.id),console.log("DATA"),console.log(this.folio),console.log(this.anio),console.log(this.id),console.log("this.id_sol2"),console.log(this.id_sol2),console.log("id_sol"),console.log(xr),setTimeout((function(){console.log("TIMEOUT"),console.log(xr),t.id_sol2=xr,-1==xr&&alert("No se encontraron Coincidencias")}),3e3)},elegirSolicitud:function(){var t=this;setTimeout((function(){console.log("TIMEOUT"),console.log(xr),localStorage.idSol=xr,"Alzamiento Parcial"==t.tipomodificacion?(console.log("Alzamiento Parcial"),t.id_sol2=-1,xr=-1,t.$router.push({path:"/Dashboard/".concat(localStorage.rol,"/").concat(localStorage.user,"/FormularioModificacionALZPARCIAL"),params:{username:localStorage.user,rol:localStorage.rol}})):"Cambio Acreedor"==t.tipomodificacion?(console.log("Cambio Acreedor"),t.id_sol2=-1,xr=-1,t.$router.push({path:"/Dashboard/".concat(localStorage.rol,"/").concat(localStorage.user,"/FormularioModificacionCAMBIOACREEDOR"),params:{username:localStorage.user,rol:localStorage.rol}})):"Prohibicion de acto"==t.tipomodificacion?(console.log("Prohibicion de acto"),t.id_sol2=-1,xr=-1,t.$router.push({path:"/Dashboard/".concat(localStorage.rol,"/").concat(localStorage.user,"/FormularioModificacionPROHIBACTO"),params:{username:localStorage.user,rol:localStorage.rol}})):"Otros"==t.tipomodificacion&&(console.log("Otros"),t.id_sol2=-1,xr=-1,t.$router.push({path:"/Dashboard/".concat(localStorage.rol,"/").concat(localStorage.user,"/FormularioModificacionOTRO"),params:{username:localStorage.user,rol:localStorage.rol}}))}),1e3)}},components:{Menu:B,Navbar:ut}};setTimeout((function(){console.log("ME ID"),console.log(xr),console.log("ME ID")}),1e3);var wr=zr,Br=(e("1053"),Object(p["a"])(wr,Tr,Fr,!1,null,"70c2aafe",null)),kr=Br.exports,qr=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"dashboard"}},[e("Menu",{attrs:{opciones:t.opcion}}),e("Navbar",{attrs:{username:t.username}}),e("div",{staticClass:"right"},[e("AntecedentesComprobante"),e("AcreedorComprobante"),e("ConstituyentesComprobante"),e("DeudoresComprobante"),e("RequirientesComprobante"),t._m(0)],1)],1)},Lr=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"row d-flex justify-content-center",attrs:{id:"contenedor"}},[e("button",{staticClass:"col-2 titleButton"},[t._v("Imprimir")])])}],Ur=function(){var t=this,o=t.$createElement;t._self._c;return t._m(0)},Gr=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"TablaRevisor"}},[e("div",{staticStyle:{padding:"50px","margin-left":"300px"}},[e("table",{staticClass:"table table-sm table-hover zui-table-rounded"},[e("thead",{staticStyle:{color:"white","background-color":"#514BD5"}},[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("Comprobante de Solicitud")])])]),e("tbody",[e("div",{staticClass:"titleFormulario"},[t._v("Antecedentes")]),e("div",{staticClass:"row"},[e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-center"},[t._v("\n                    Notaria\n                ")])]),e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-center"},[t._v("\n                    Numero Notaria\n                ")])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-center"},[t._v("\n                    Tipo de Documento\n                ")])]),e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-center"},[t._v("\n                    Tip\n                ")])])])])])])])}],$r={name:"TablaRevisor",props:{opcion:Array,username:{type:String,default:"Hola!"},rol:{type:String,default:"REVISOR"}}},Vr=$r,Hr=(e("10a8"),Object(p["a"])(Vr,Ur,Gr,!1,null,"2516ac8a",null)),Yr=Hr.exports,Jr=function(){var t=this,o=t.$createElement;t._self._c;return t._m(0)},Zr=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"TablaRevisor"}},[e("div",{staticStyle:{padding:"50px","margin-left":"300px"}},[e("table",{staticClass:"table table-sm table-hover zui-table-rounded"},[e("thead",{staticStyle:{color:"white","background-color":"#514BD5"}}),e("tbody",[e("div",{staticClass:"titleFormulario"},[t._v("Acreedor")]),e("div",{staticClass:"row"},[e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-center"},[t._v("\n                    Nombre\n                ")])]),e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-center"},[t._v("\n                    Nombre\n                ")])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-center"},[t._v("\n                    Tipo \n                ")])]),e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-center"},[t._v("\n                    Tipo de Documento\n                ")])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-center"},[t._v("\n                    N° Documento\n                ")])]),e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-center"},[t._v("\n                    Numero\n                ")])])])])])])])}],Wr={name:"TablaRevisor",props:{opcion:Array,username:{type:String,default:"Hola!"},rol:{type:String,default:"REVISOR"}}},Xr=Wr,Kr=(e("3a10"),Object(p["a"])(Xr,Jr,Zr,!1,null,"1a381c46",null)),Qr=Kr.exports,tc=function(){var t=this,o=t.$createElement;t._self._c;return t._m(0)},oc=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"TablaRevisor"}},[e("div",{staticStyle:{padding:"50px","margin-left":"300px"}},[e("table",{staticClass:"table table-sm table-hover zui-table-rounded"},[e("thead",{staticStyle:{color:"white","background-color":"#514BD5"}}),e("tbody",[e("div",{staticClass:"titleFormulario"},[t._v("Constituyente")]),e("div",{staticClass:"row"},[e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-center"},[t._v("\n                    Nombre\n                ")])]),e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-center"},[t._v("\n                    Nombre y Apellido\n                ")])])])])])])])}],ec={name:"TablaRevisor",props:{opcion:Array,username:{type:String,default:"Hola!"},rol:{type:String,default:"REVISOR"}}},nc=ec,ac=(e("503b"),Object(p["a"])(nc,tc,oc,!1,null,"4f10a89d",null)),ic=ac.exports,rc=function(){var t=this,o=t.$createElement;t._self._c;return t._m(0)},cc=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"TablaRevisor"}},[e("div",{staticStyle:{padding:"50px","margin-left":"300px"}},[e("table",{staticClass:"table table-sm table-hover zui-table-rounded"},[e("thead",{staticStyle:{color:"white","background-color":"#514BD5"}}),e("tbody",[e("div",{staticClass:"titleFormulario"},[t._v("Deudores")]),e("div",{staticClass:"row"},[e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-center"},[t._v("\n                    Nombre\n                ")])]),e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-center"},[t._v("\n                    Nombre y Apellido\n                ")])])])])])])])}],sc={name:"TablaRevisor",props:{opcion:Array,username:{type:String,default:"Hola!"},rol:{type:String,default:"REVISOR"}}},lc=sc,uc=(e("5b12"),Object(p["a"])(lc,rc,cc,!1,null,"4a5bf8b7",null)),dc=uc.exports,pc=function(){var t=this,o=t.$createElement;t._self._c;return t._m(0)},mc=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"TablaRevisor"}},[e("div",{staticStyle:{padding:"50px","margin-left":"300px"}},[e("table",{staticClass:"table table-sm table-hover zui-table-rounded"},[e("thead",{staticStyle:{color:"white","background-color":"#514BD5"}}),e("tbody",[e("div",{staticClass:"titleFormulario"},[t._v("Requirientes")]),e("div",{staticClass:"row"},[e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-center"},[t._v("\n                    Nombre\n                ")])]),e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-center"},[t._v("\n                    Nombre y Apellido\n                ")])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-center"},[t._v("\n                    Rut\n                ")])]),e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-center"},[t._v("\n                    Nombre y apellido\n                ")])])])])])])])}],hc={name:"TablaRevisor",props:{opcion:Array,username:{type:String,default:"Hola!"},rol:{type:String,default:"REVISOR"}}},gc=hc,fc=(e("e477"),Object(p["a"])(gc,pc,mc,!1,null,"b0e6ca96",null)),vc=fc.exports,bc={name:"formularioModificacion",data:function(){return{opcion:localStorage.my_opts.split(","),username:localStorage.user}},components:{Menu:B,Navbar:ut,AntecedentesComprobante:Yr,AcreedorComprobante:Qr,ConstituyentesComprobante:ic,DeudoresComprobante:dc,RequirientesComprobante:vc}},Oc=bc,_c=(e("04d7"),Object(p["a"])(Oc,qr,Lr,!1,null,"c3a31a6c",null)),jc=_c.exports,Sc=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"dashboard"}},[e("Menu",{attrs:{opciones:t.opcion}}),e("Navbar",{attrs:{username:t.username}}),e("div",{staticClass:"right"},["JEFEDESERVICIO"==t.rol?e("BuscadorJefeDeServicios"):t._e(),"RECEPTOR"==t.rol?e("BuscadorReceptor"):t._e(),"REVISOR"==t.rol?e("BuscadorRevisor"):t._e(),"FUNCIONARIONOTARIA"==t.rol?e("BuscadorFuncionarioNotaria"):t._e(),"FUNCIONARIOOFICINA"==t.rol?e("BuscadorFuncionarioNotaria"):t._e(),"NOTARIO"==t.rol?e("BuscadorNotario"):t._e()],1)],1)},Ec=[],Ic=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"TablaRevisor"}},[e("div",{staticStyle:{padding:"50px","margin-left":"300px"}},[e("table",{staticClass:"table table-sm table-hover zui-table-rounded"},[e("thead",{staticStyle:{color:"black"}},[e("tr",[t._m(0),t._m(1),t._m(2),e("th",{attrs:{scope:"col"}},[e("div",{staticClass:"d-flex justify-content-center"},[e("button",{staticClass:"d-flex justify-content-center button",on:{click:function(o){return t.busqueda()}}},[t._v("Buscar")])])])])])]),e("table",{staticClass:"table table-sm table-hover zui-table-rounded"},[t._m(3),t._l(t.items,(function(o,n){return e("tbody",{key:n},[e("tr",[e("th",{attrs:{scope:"row"}},[t._v(t._s(o.Rep))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.Not))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.Fecha))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.Tipo))]),e("td",[e("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"Basic example"}},[e("th",{staticClass:"status"},[t._v(t._s(o.Estado))])])])])])}))],2)])])},Rc=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("th",{attrs:{scope:"col"}},[t._v("\n                Folio Repertorio Prenda\n                "),e("div",{staticClass:"d-flex justify-content-center"},[e("input",{attrs:{type:"text",id:"foliorep",placeholder:"N° Documento"}})])])},function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("th",{attrs:{scope:"col"}},[t._v("\n                Año\n                "),e("div",{staticClass:"d-flex justify-content-center"},[e("input",{attrs:{type:"text",id:"yearrep",placeholder:"Año"}})])])},function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("th",{attrs:{scope:"col"}},[t._v("\n                Tipo de actuación\n                "),e("div",{staticClass:"d-flex justify-content-center"},[e("select",{staticClass:"form-select",attrs:{id:"tipoact"}},[e("option",{attrs:{selected:"",value:"Inscripcion"}},[t._v("Inscripcion")]),e("option",{attrs:{value:"Modificacion"}},[t._v("Modificacion")]),e("option",{attrs:{value:"Alzamiento"}},[t._v("Alzamiento")])])])])},function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("thead",{staticStyle:{color:"white","background-color":"#514BD5"}},[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("N° Rep Prenda")]),e("th",{attrs:{scope:"col"}},[t._v("N° Rep Notaria")]),e("th",{attrs:{scope:"col"}},[t._v("Fecha")]),e("th",{attrs:{scope:"col"}},[t._v("Tipo")]),e("th",{attrs:{scope:"col"}},[t._v("Estado")])])])}],Cc=[],Ac=[],Pc=[];function Nc(){return Dc.apply(this,arguments)}function Dc(){return Dc=Object(L["a"])(regeneratorRuntime.mark((function t(){var o,e,n,a,i=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(o=i.length>0&&void 0!==i[0]?i[0]:"",e=i.length>1&&void 0!==i[1]?i[1]:"",n=i.length>2&&void 0!==i[2]?i[2]:"",a=i.length>3&&void 0!==i[3]?i[3]:"",console.log("PARAMETROS"),console.log("FOLIO: "+n),console.log("YEAR: "+e),"I"!=o&&""!=o){t.next=11;break}return console.log("buscar inscripciones"),t.next=11,Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Inscripcion_Prenda")).then((function(t){var o=t.docs;console.log("Largo documento inscricpion: "+o.length),o.forEach((function(t){var o=t.data(),i=o.numeroRepertorioContratoPrenda;if(o.estadoSecundario>0){var r=i.split("-")[0],c=i.split("-")[1];r!=n&&""!=n||c!=e&&""!=e||o.estadoPrimario!=a&&""!=a||Cc.push([t.id,o])}}))}));case 11:if("M"!=o&&""!=o){t.next=15;break}return console.log("buscar modificaciones"),t.next=15,Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Modificacion_Prenda")).then((function(t){var o=t.docs;console.log("Largo documento modificacion: "+o.length),o.forEach((function(t){var o=t.data(),i=o.numeroRepertorioContratoPrenda;if(o.estadoSecundario>0){var r=i.split("-")[0],c=i.split("-")[1];r!=n&&""!=n||c!=e&&""!=e||o.estadoPrimario!=a&&""!=a||Ac.push([t.id,o])}}))}));case 15:if("A"!=o&&""!=o){t.next=19;break}return console.log("buscar alzamientos"),t.next=19,Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Alzamiento_Prenda")).then((function(t){var o=t.docs;console.log("Largo documento alzamiento: "+o.length),o.forEach((function(t){var o=t.data(),i=o.numeroRepertorioContratoPrenda;if(o.estadoSecundario>0){var r=i.split("-")[0],c=i.split("-")[1];r!=n&&""!=n||c!=e&&""!=e||o.estadoPrimario!=a&&""!=a||Pc.push([t.id,o])}}))}));case 19:case"end":return t.stop()}}),t)}))),Dc.apply(this,arguments)}var yc={mounted:function(){var t=this;Nc(),setTimeout((function(){t.inscripciones_encontradas.length>0&&t.inscripciones_encontradas.forEach((function(o){var e;o[1]["estadoPrimario"]<=4?e="En revision":5==o[1]["estadoPrimario"]?e="Aceptado":6==o[1]["estadoPrimario"]?e="Rechazado":o[1]["estadoPrimario"]>6&&(e="Rechazado Definitivo");var n={Rep:o[1]["numeroRepertorioContratoPrenda"],Not:o[1]["numeroRepertorioNotario"],Oficina:o[1]["oficina"],Fecha:o[1]["fechaRequirente"],Estado:e,Asignada:"",ID:o[0],Tipo:"I"};t.items.push(n)})),t.modificaciones_encontradas.length>0&&t.modificaciones_encontradas.forEach((function(o){var e;o[1]["estadoPrimario"]<=4?e="En revision":5==o[1]["estadoPrimario"]?e="Aceptado":6==o[1]["estadoPrimario"]?e="Rechazado":o[1]["estadoPrimario"]>6&&(e="Rechazado Definitivo");var n={Rep:o[1]["numeroRepertorioContratoPrenda"],Not:o[1]["numeroRepertorioNotario"],Oficina:o[1]["oficina"],Fecha:o[1]["fechaRequirente"],Estado:e,Asignada:"",ID:o[0],Tipo:"M"};t.items.push(n)})),t.alzamientos_encontrados.length>0&&t.alzamientos_encontrados.forEach((function(o){var e;o[1]["estadoPrimario"]<=4?e="En revision":5==o[1]["estadoPrimario"]?e="Aceptado":6==o[1]["estadoPrimario"]?e="Rechazado":o[1]["estadoPrimario"]>6&&(e="Rechazado Definitivo");var n={Rep:o[1]["numeroRepertorioContratoPrenda"],Not:o[1]["numeroRepertorioNotario"],Oficina:o[1]["oficina"],Fecha:o[1]["fechaRequirente"],Estado:e,Asignada:"",ID:o[0],Tipo:"A"};t.items.push(n)}))}),1500)},name:"TablaRevisor",props:{opcion:Array,username:{type:String,default:"Hola!"},rol:{type:String,default:"REVISOR"}},data:function(){return{items:[],inscripciones_encontradas:Cc,modificaciones_encontradas:Ac,alzamientos_encontrados:Pc}},methods:{busqueda:function(){var t=this;this.items=[],Cc=[],Ac=[],Pc=[],console.log("BUSCANDO...");var o=document.getElementById("foliorep").value,e=document.getElementById("yearrep").value,n=document.getElementById("tipoact").value;console.log(o+","+e+","+n);var a="T";"Modificacion"==n?a="M":"Alzamiento"==n?a="A":"Inscripcion"==n&&(a="I"),console.log(a),Nc(a,e,o),setTimeout((function(){console.log("INSCRIPCIONES ENCONTRADAS: "+Cc.length),Cc.length>0&&Cc.forEach((function(o){var e;o[1]["estadoPrimario"]<=4?e="En revision":5==o[1]["estadoPrimario"]?e="Aceptado":6==o[1]["estadoPrimario"]?e="Rechazado":o[1]["estadoPrimario"]>6&&(e="Rechazado Definitivo");var n={Rep:o[1]["numeroRepertorioContratoPrenda"],Not:o[1]["numeroRepertorioNotario"],Oficina:o[1]["oficina"],Fecha:o[1]["fechaRequirente"],Estado:e,Asignada:"",ID:o[0],Tipo:"I"};t.items.push(n)})),console.log("MODIFICACIONES ENCONTRADAS: "+Ac.length),Ac.length>0&&Ac.forEach((function(o){var e;o[1]["estadoPrimario"]<=4?e="En revision":5==o[1]["estadoPrimario"]?e="Aceptado":6==o[1]["estadoPrimario"]?e="Rechazado":o[1]["estadoPrimario"]>6&&(e="Rechazado Definitivo");var n={Rep:o[1]["numeroRepertorioContratoPrenda"],Not:o[1]["numeroRepertorioNotario"],Oficina:o[1]["oficina"],Fecha:o[1]["fechaRequirente"],Estado:e,Asignada:"",ID:o[0],Tipo:"M"};t.items.push(n)})),console.log("ALZAMIENTOS ENCONTRADAS: "+Pc.length),Pc.length>0&&Pc.forEach((function(o){var e;o[1]["estadoPrimario"]<=4?e="En revision":5==o[1]["estadoPrimario"]?e="Aceptado":6==o[1]["estadoPrimario"]?e="Rechazado":o[1]["estadoPrimario"]>6&&(e="Rechazado Definitivo");var n={Rep:o[1]["numeroRepertorioContratoPrenda"],Not:o[1]["numeroRepertorioNotario"],Oficina:o[1]["oficina"],Fecha:o[1]["fechaRequirente"],Estado:e,Asignada:"",ID:o[0],Tipo:"A"};t.items.push(n)}))}),1500)}}},Tc=yc,Fc=(e("d67a"),Object(p["a"])(Tc,Ic,Rc,!1,null,"388c7db0",null)),Mc=Fc.exports,xc=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"TablaRevisor"}},[e("div",{staticStyle:{padding:"50px","margin-left":"300px"}},[e("table",{staticClass:"table table-sm table-hover zui-table-rounded"},[e("thead",{staticStyle:{color:"black"}},[e("tr",[t._m(0),t._m(1),t._m(2),t._m(3),e("th",{attrs:{scope:"col"}},[e("div",{staticClass:"d-flex justify-content-center"},[e("button",{staticClass:"d-flex justify-content-center button",on:{click:function(o){return t.busqueda()}}},[t._v("Buscar")])])])])])]),e("table",{staticClass:"table table-sm table-hover zui-table-rounded"},[t._m(4),t._l(t.items,(function(o,n){return e("tbody",{key:n},[e("tr",[e("th",{attrs:{scope:"row"}},[t._v(t._s(o.Rep))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.Not))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.Oficina))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.Fecha))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.Tipo))]),e("td",[e("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"Basic example"}},[e("th",{staticClass:"status"},[t._v(t._s(o.Estado))])])]),e("td",[e("div",[e("select",{directives:[{name:"model",rawName:"v-model",value:t.tipoDoc,expression:"tipoDoc"}],staticClass:"form-select",attrs:{id:"asignado"},on:{change:[function(o){var e=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.tipoDoc=o.target.multiple?e:e[0]},function(o){return t.changeOption()}]}},[e("option",{attrs:{selected:"",value:"Revisor #1"}},[t._v("Revisor #1")]),e("option",{attrs:{value:"revisor #2"}},[t._v("Revisor #2")])])])])])])}))],2)])])},zc=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("th",{attrs:{scope:"col"}},[t._v("\n                Nº Repertorio Prenda\n                "),e("div",{staticClass:"d-flex justify-content-center"},[e("input",{attrs:{type:"text",id:"foliorep",placeholder:"N° Rep Prenda"}})])])},function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("th",{attrs:{scope:"col"}},[t._v("\n                Nº Repertorio Notaria\n                "),e("div",{staticClass:"d-flex justify-content-center"},[e("input",{attrs:{type:"text",id:"folionot",placeholder:"N° Rep Notaria"}})])])},function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("th",{attrs:{scope:"col"}},[t._v("\n                Identificador Contratante\n                "),e("div",{staticClass:"d-flex justify-content-center"},[e("input",{attrs:{type:"text",id:"idcont",placeholder:"Identificador Contratante"}})])])},function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("th",{attrs:{scope:"col"}},[t._v("\n                Identificador Transaccion\n                "),e("div",{staticClass:"d-flex justify-content-center"},[e("input",{attrs:{type:"text",id:"idtran",placeholder:"Identificador Transaccion"}})])])},function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("thead",{staticStyle:{color:"white","background-color":"#514BD5"}},[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("N° Rep Prenda")]),e("th",{attrs:{scope:"col"}},[t._v("N° Rep Notaria")]),e("th",{attrs:{scope:"col"}},[t._v("Oficina/Notaria")]),e("th",{attrs:{scope:"col"}},[t._v("Fecha")]),e("th",{attrs:{scope:"col"}},[t._v("Tipo")]),e("th",{attrs:{scope:"col"}},[t._v("Estado")]),e("th",{attrs:{scope:"col"}},[t._v("Asignada")])])])}],wc=[],Bc=[],kc=[];function qc(){return Lc.apply(this,arguments)}function Lc(){return Lc=Object(L["a"])(regeneratorRuntime.mark((function t(){var o,e,n,a,i=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:o=i.length>0&&void 0!==i[0]?i[0]:"",e=i.length>1&&void 0!==i[1]?i[1]:"",n=i.length>2&&void 0!==i[2]?i[2]:"",a=i.length>3&&void 0!==i[3]?i[3]:"",wc=[],Bc=[],kc=[],console.log("PARAMETROS"),console.log("buscar inscripciones"),Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Inscripcion_Prenda")).then((function(t){var i=t.docs;console.log("Largo documento inscricpion: "+i.length),i.forEach((function(t){var i=t.data(),r=t.id;i.estadoSecundario>0&&(""!=o&&o!=i.numeroRepertorioNotario||""!=e&&e!=i.numeroRepertorioContratoPrenda||""!=a&&a!=i.id_transaccion||Object(O["e"])(Object(O["a"])(Eh,"Persona_Solicitud")).then((function(t){var o=t.docs,e=[];o.forEach((function(t){var o=t.data();(""==n||n==o.runPersona&&r==o.idInscripcion)&&(e.includes(r)||(e.push(r),wc.push([r,i])))}))})))}))})),console.log("buscar modificaciones"),Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Modificacion_Prenda")).then((function(t){var i=t.docs;console.log("Largo documento modificacion: "+i.length),i.forEach((function(t){var i=t.data(),r=i.numeroRepertorioContratoPrenda;i.estadoSecundario>0&&(""!=o&&o!=i.numeroRepertorioNotario||""!=e&&e!=i.numeroRepertorioContratoPrenda||""!=a&&a!=i.id_transaccion||""!=n&&n!=i.rut_acreedor||Bc.push([r,i]))}))})),console.log("buscar alzamientos"),Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Alzamiento_Prenda")).then((function(t){var i=t.docs;console.log("Largo documento alzamiento: "+i.length),i.forEach((function(t){var i=t.data(),r=i.numeroRepertorioContratoPrenda;i.estadoSecundario>0&&(""!=o&&o!=i.numeroRepertorioNotario||""!=e&&e!=i.numeroRepertorioContratoPrenda||""!=a&&a!=i.id_transaccion||""!=n&&n!=i.rut_acreedor||kc.push([r,i]))}))}));case 14:case"end":return t.stop()}}),t)}))),Lc.apply(this,arguments)}var Uc={mounted:function(){var t=this;this.items=[],this.inscripciones_encontradas=[],this.modificaciones_encontradas=[],this.alzamientos_encontrados=[],wc=[],Bc=[],kc=[],qc(),setTimeout((function(){t.inscripciones_encontradas.length>0&&t.inscripciones_encontradas.forEach((function(o){var e;o[1]["estadoPrimario"]<=4?e="En revision":5==o[1]["estadoPrimario"]?e="Aceptado":6==o[1]["estadoPrimario"]?e="Rechazado":o[1]["estadoPrimario"]>6&&(e="Rechazado Definitivo");var n={Rep:o[1]["numeroRepertorioContratoPrenda"],Not:o[1]["numeroRepertorioNotario"],Oficina:o[1]["oficina"],Fecha:o[1]["fechaRequirente"],Estado:e,Asignada:"",ID:o[0],Tipo:"I"};t.items.push(n)})),t.modificaciones_encontradas.length>0&&t.modificaciones_encontradas.forEach((function(o){var e;o[1]["estadoPrimario"]<=4?e="En revision":5==o[1]["estadoPrimario"]?e="Aceptado":6==o[1]["estadoPrimario"]?e="Rechazado":o[1]["estadoPrimario"]>6&&(e="Rechazado Definitivo");var n={Rep:o[1]["numeroRepertorioContratoPrenda"],Not:o[1]["numeroRepertorioNotario"],Oficina:o[1]["oficina"],Fecha:o[1]["fechaRequirente"],Estado:e,Asignada:"",ID:o[0],Tipo:"M"};t.items.push(n)})),t.alzamientos_encontrados.length>0&&t.alzamientos_encontrados.forEach((function(o){var e;o[1]["estadoPrimario"]<=4?e="En revision":5==o[1]["estadoPrimario"]?e="Aceptado":6==o[1]["estadoPrimario"]?e="Rechazado":o[1]["estadoPrimario"]>6&&(e="Rechazado Definitivo");var n={Rep:o[1]["numeroRepertorioContratoPrenda"],Not:o[1]["numeroRepertorioNotario"],Oficina:o[1]["oficina"],Fecha:o[1]["fechaRequirente"],Estado:e,Asignada:"",ID:o[0],Tipo:"A"};t.items.push(n)}))}),1500)},name:"TablaRevisor",props:{opcion:Array,username:{type:String,default:"Hola!"},rol:{type:String,default:"REVISOR"}},data:function(){return{items:[],inscripciones_encontradas:wc,modificaciones_encontradas:Bc,alzamientos_encontrados:kc}},methods:{busqueda:function(){var t=this;this.items=[],this.inscripciones_encontradas=[],this.modificaciones_encontradas=[],this.alzamientos_encontrados=[],wc=[],Bc=[],kc=[],console.log("BUSCANDO...");var o=document.getElementById("foliorep").value,e=document.getElementById("folionot").value,n=document.getElementById("idcont").value,a=document.getElementById("idtran").value;console.log("INSCRIPCIONES ENCONTRADAS98: "+wc.length+" y "+this.inscripciones_encontradas.length),qc(e,o,n,a),setTimeout((function(){console.log("INSCRIPCIONES ENCONTRADAS99: "+wc.length+" y "+t.inscripciones_encontradas.length),wc.length>0&&wc.forEach((function(o){var e;o[1]["estadoPrimario"]<=4?e="En revision":5==o[1]["estadoPrimario"]?e="Aceptado":6==o[1]["estadoPrimario"]?e="Rechazado":o[1]["estadoPrimario"]>6&&(e="Rechazado Definitivo");var n={Rep:o[1]["numeroRepertorioContratoPrenda"],Not:o[1]["numeroRepertorioNotario"],Oficina:o[1]["oficina"],Fecha:o[1]["fechaRequirente"],Estado:e,Asignada:"",ID:o[0],Tipo:"I"};t.items.push(n)})),console.log("MODIFICACIONES ENCONTRADAS: "+Bc.length),Bc.length>0&&Bc.forEach((function(o){var e;o[1]["estadoPrimario"]<=4?e="En revision":5==o[1]["estadoPrimario"]?e="Aceptado":6==o[1]["estadoPrimario"]?e="Rechazado":o[1]["estadoPrimario"]>6&&(e="Rechazado Definitivo");var n={Rep:o[1]["numeroRepertorioContratoPrenda"],Not:o[1]["numeroRepertorioNotario"],Oficina:o[1]["oficina"],Fecha:o[1]["fechaRequirente"],Estado:e,Asignada:"",ID:o[0],Tipo:"M"};t.items.push(n)})),console.log("ALZAMIENTOS ENCONTRADAS: "+kc.length),kc.length>0&&kc.forEach((function(o){var e;o[1]["estadoPrimario"]<=4?e="En revision":5==o[1]["estadoPrimario"]?e="Aceptado":6==o[1]["estadoPrimario"]?e="Rechazado":o[1]["estadoPrimario"]>6&&(e="Rechazado Definitivo");var n={Rep:o[1]["numeroRepertorioContratoPrenda"],Not:o[1]["numeroRepertorioNotario"],Oficina:o[1]["oficina"],Fecha:o[1]["fechaRequirente"],Estado:e,Asignada:"",ID:o[0],Tipo:"A"};t.items.push(n)}))}),1500)}}},Gc=Uc,$c=(e("36b6"),Object(p["a"])(Gc,xc,zc,!1,null,"4aec6df4",null)),Vc=$c.exports,Hc=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"TablaRevisor"}},[e("div",{staticStyle:{padding:"50px","margin-left":"300px"}},[e("table",{staticClass:"table table-sm table-hover zui-table-rounded"},[e("thead",{staticStyle:{color:"black"}},[e("tr",[t._m(0),t._m(1),t._m(2),t._m(3),e("th",{attrs:{scope:"col"}},[e("div",{staticClass:"d-flex justify-content-center"},[e("button",{staticClass:"d-flex justify-content-center button",on:{click:function(o){return t.busqueda()}}},[t._v("Buscar")])])])])])]),e("table",{staticClass:"table table-sm table-hover zui-table-rounded"},[t._m(4),t._l(t.items,(function(o,n){return e("tbody",{key:n},[e("tr",[e("th",{attrs:{scope:"row"}},[t._v(t._s(o.Rep))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.Not))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.Oficina))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.Fecha))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.Tipo))]),e("td",[e("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"Basic example"}},[e("th",{staticClass:"status"},[t._v(t._s(o.Estado))])])]),e("td",[e("div",{staticClass:"tamanoTipoDocumento"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.tipoDoc,expression:"tipoDoc"}],staticClass:"form-select",attrs:{id:"asignado"},on:{change:[function(o){var e=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.tipoDoc=o.target.multiple?e:e[0]},function(o){return t.changeOption()}]}},[e("option",{attrs:{selected:"",value:"Revisor #1"}},[t._v("Revisor #1")]),e("option",{attrs:{value:"revisor #2"}},[t._v("Revisor #2")])])])])])])}))],2)])])},Yc=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("th",{attrs:{scope:"col"}},[t._v("\n                Nº Repertorio Prenda\n                "),e("div",{staticClass:"d-flex justify-content-center"},[e("input",{attrs:{type:"text",id:"foliorep",placeholder:"N° Rep Prenda"}})])])},function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("th",{attrs:{scope:"col"}},[t._v("\n                Nº Repertorio Notaria\n                "),e("div",{staticClass:"d-flex justify-content-center"},[e("input",{attrs:{type:"text",id:"folionot",placeholder:"N° Rep Notaria"}})])])},function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("th",{attrs:{scope:"col"}},[t._v("\n                Identificador Contratante\n                "),e("div",{staticClass:"d-flex justify-content-center"},[e("input",{attrs:{type:"text",id:"idcont",placeholder:"Identificador Contratante"}})])])},function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("th",{attrs:{scope:"col"}},[t._v("\n                Identificador Transaccion\n                "),e("div",{staticClass:"d-flex justify-content-center"},[e("input",{attrs:{type:"text",id:"idtran",placeholder:"Identificador Transaccion"}})])])},function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("thead",{staticStyle:{color:"white","background-color":"#514BD5"}},[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("N° Rep Prenda")]),e("th",{attrs:{scope:"col"}},[t._v("N° Rep Notaria")]),e("th",{attrs:{scope:"col"}},[t._v("Oficina/Notaria")]),e("th",{attrs:{scope:"col"}},[t._v("Fecha")]),e("th",{attrs:{scope:"col"}},[t._v("Tipo")]),e("th",{attrs:{scope:"col"}},[t._v("Estado")]),e("th",{attrs:{scope:"col"}},[t._v("Asignada")])])])}],Jc=[],Zc=[],Wc=[];function Xc(){return Kc.apply(this,arguments)}function Kc(){return Kc=Object(L["a"])(regeneratorRuntime.mark((function t(){var o,e,n,a,i=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:o=i.length>0&&void 0!==i[0]?i[0]:"",e=i.length>1&&void 0!==i[1]?i[1]:"",n=i.length>2&&void 0!==i[2]?i[2]:"",a=i.length>3&&void 0!==i[3]?i[3]:"",console.log("PARAMETROS"),console.log("buscar inscripciones"),Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Inscripcion_Prenda")).then((function(t){var i=t.docs;console.log("Largo documento inscricpion: "+i.length),i.forEach((function(t){var i=t.data(),r=t.id;i.estadoSecundario>0&&(""!=o&&o!=i.numeroRepertorioNotario||""!=e&&e!=i.numeroRepertorioContratoPrenda||""!=a&&a!=i.id_transaccion||Object(O["e"])(Object(O["a"])(Eh,"Persona_Solicitud")).then((function(t){var o=t.docs,e=[];o.forEach((function(t){var o=t.data();(""==n||n==o.runPersona&&r==o.idInscripcion)&&(e.includes(r)||(e.push(r),Jc.push([r,i])))}))})))}))})),console.log("buscar modificaciones"),Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Modificacion_Prenda")).then((function(t){var i=t.docs;console.log("Largo documento modificacion: "+i.length),i.forEach((function(t){var i=t.data(),r=i.numeroRepertorioContratoPrenda;i.estadoSecundario>0&&(""!=o&&o!=i.numeroRepertorioNotario||""!=e&&e!=i.numeroRepertorioContratoPrenda||""!=a&&a!=i.id_transaccion||""!=n&&n!=i.rut_acreedor||Zc.push([r,i]))}))})),console.log("buscar alzamientos"),Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Alzamiento_Prenda")).then((function(t){var i=t.docs;console.log("Largo documento alzamiento: "+i.length),i.forEach((function(t){var i=t.data(),r=i.numeroRepertorioContratoPrenda;i.estadoSecundario>0&&(""!=o&&o!=i.numeroRepertorioNotario||""!=e&&e!=i.numeroRepertorioContratoPrenda||""!=a&&a!=i.id_transaccion||""!=n&&n!=i.rut_acreedor||Wc.push([r,i]))}))}));case 11:case"end":return t.stop()}}),t)}))),Kc.apply(this,arguments)}var Qc={mounted:function(){var t=this;this.items=[],Jc=[],Zc=[],Wc=[],Xc(),setTimeout((function(){t.inscripciones_encontradas.length>0&&t.inscripciones_encontradas.forEach((function(o){var e;o[1]["estadoPrimario"]<=4?e="En revision":5==o[1]["estadoPrimario"]?e="Aceptado":6==o[1]["estadoPrimario"]?e="Rechazado":o[1]["estadoPrimario"]>6&&(e="Rechazado Definitivo");var n={Rep:o[1]["numeroRepertorioContratoPrenda"],Not:o[1]["numeroRepertorioNotario"],Oficina:o[1]["oficina"],Fecha:o[1]["fechaRequirente"],Estado:e,Asignada:"",ID:o[0],Tipo:"I"};t.items.push(n)})),t.modificaciones_encontradas.length>0&&t.modificaciones_encontradas.forEach((function(o){var e;o[1]["estadoPrimario"]<=4?e="En revision":5==o[1]["estadoPrimario"]?e="Aceptado":6==o[1]["estadoPrimario"]?e="Rechazado":o[1]["estadoPrimario"]>6&&(e="Rechazado Definitivo");var n={Rep:o[1]["numeroRepertorioContratoPrenda"],Not:o[1]["numeroRepertorioNotario"],Oficina:o[1]["oficina"],Fecha:o[1]["fechaRequirente"],Estado:e,Asignada:"",ID:o[0],Tipo:"M"};t.items.push(n)})),t.alzamientos_encontrados.length>0&&t.alzamientos_encontrados.forEach((function(o){var e;o[1]["estadoPrimario"]<=4?e="En revision":5==o[1]["estadoPrimario"]?e="Aceptado":6==o[1]["estadoPrimario"]?e="Rechazado":o[1]["estadoPrimario"]>6&&(e="Rechazado Definitivo");var n={Rep:o[1]["numeroRepertorioContratoPrenda"],Not:o[1]["numeroRepertorioNotario"],Oficina:o[1]["oficina"],Fecha:o[1]["fechaRequirente"],Estado:e,Asignada:"",ID:o[0],Tipo:"A"};t.items.push(n)}))}),1500)},name:"TablaRevisor",props:{opcion:Array,username:{type:String,default:"Hola!"},rol:{type:String,default:"REVISOR"}},data:function(){return{items:[],inscripciones_encontradas:Jc,modificaciones_encontradas:Zc,alzamientos_encontrados:Wc}},methods:{busqueda:function(){var t=this;this.items=[],Jc=[],Zc=[],Wc=[],console.log("BUSCANDO...");var o=document.getElementById("foliorep").value,e=document.getElementById("folionot").value,n=document.getElementById("idcont").value,a=document.getElementById("idtran").value;Xc(e,o,n,a),setTimeout((function(){console.log("INSCRIPCIONES ENCONTRADAS: "+Jc.length),Jc.length>0&&Jc.forEach((function(o){var e;o[1]["estadoPrimario"]<=4?e="En revision":5==o[1]["estadoPrimario"]?e="Aceptado":6==o[1]["estadoPrimario"]?e="Rechazado":o[1]["estadoPrimario"]>6&&(e="Rechazado Definitivo");var n={Rep:o[1]["numeroRepertorioContratoPrenda"],Not:o[1]["numeroRepertorioNotario"],Oficina:o[1]["oficina"],Fecha:o[1]["fechaRequirente"],Estado:e,Asignada:"",ID:o[0],Tipo:"I"};t.items.push(n)})),console.log("MODIFICACIONES ENCONTRADAS: "+Zc.length),Zc.length>0&&Zc.forEach((function(o){var e;o[1]["estadoPrimario"]<=4?e="En revision":5==o[1]["estadoPrimario"]?e="Aceptado":6==o[1]["estadoPrimario"]?e="Rechazado":o[1]["estadoPrimario"]>6&&(e="Rechazado Definitivo");var n={Rep:o[1]["numeroRepertorioContratoPrenda"],Not:o[1]["numeroRepertorioNotario"],Oficina:o[1]["oficina"],Fecha:o[1]["fechaRequirente"],Estado:e,Asignada:"",ID:o[0],Tipo:"M"};t.items.push(n)})),console.log("ALZAMIENTOS ENCONTRADAS: "+Wc.length),Wc.length>0&&Wc.forEach((function(o){var e;o[1]["estadoPrimario"]<=4?e="En revision":5==o[1]["estadoPrimario"]?e="Aceptado":6==o[1]["estadoPrimario"]?e="Rechazado":o[1]["estadoPrimario"]>6&&(e="Rechazado Definitivo");var n={Rep:o[1]["numeroRepertorioContratoPrenda"],Not:o[1]["numeroRepertorioNotario"],Oficina:o[1]["oficina"],Fecha:o[1]["fechaRequirente"],Estado:e,Asignada:"",ID:o[0],Tipo:"A"};t.items.push(n)}))}),1500)}}},ts=Qc,os=(e("ff44"),Object(p["a"])(ts,Hc,Yc,!1,null,"891313e6",null)),es=os.exports,ns=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"BUSCADOR"}},[e("div",{staticStyle:{padding:"50px","margin-left":"300px"}},[e("table",{staticClass:"table table-sm table-hover zui-table-rounded"},[e("thead",{staticStyle:{color:"black"}},[e("tr",[t._m(0),t._m(1),t._m(2),e("th",{attrs:{scope:"col"}},[e("div",{staticClass:"d-flex justify-content-center"},[e("button",{staticClass:"d-flex justify-content-center button",on:{click:function(o){return t.busqueda()}}},[t._v("Buscar")])])])])])]),e("table",{staticClass:"table table-sm table-hover zui-table-rounded"},[t._m(3),t._l(t.items,(function(o,n){return e("tbody",{key:n},[e("tr",[e("th",{attrs:{scope:"row"}},[t._v(t._s(o.Rep))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.Not))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.Fecha))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.Tipo))]),e("td",[e("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"Basic example"}},[e("th",{staticClass:"status"},[t._v(t._s(o.Estado))])])])])])}))],2)])])},as=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("th",{attrs:{scope:"col"}},[t._v("\n                Folio Repertorio Prenda\n                "),e("div",{staticClass:"d-flex justify-content-center"},[e("input",{attrs:{type:"text",id:"foliorep",placeholder:"N° Documento"}})])])},function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("th",{attrs:{scope:"col"}},[t._v("\n                Año\n                "),e("div",{staticClass:"d-flex justify-content-center"},[e("input",{attrs:{type:"text",id:"yearrep",placeholder:"Año"}})])])},function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("th",{attrs:{scope:"col"}},[t._v("\n                Tipo de actuación\n                "),e("div",{staticClass:"d-flex justify-content-center"},[e("select",{staticClass:"form-select",attrs:{id:"tipoact"}},[e("option",{attrs:{selected:"",value:"Inscripcion"}},[t._v("Inscripcion")]),e("option",{attrs:{value:"Modificacion"}},[t._v("Modificacion")]),e("option",{attrs:{value:"Alzamiento"}},[t._v("Alzamiento")])])])])},function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("thead",{staticStyle:{color:"white","background-color":"#514BD5"}},[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("N° Rep Prenda")]),e("th",{attrs:{scope:"col"}},[t._v("N° Rep Notaria")]),e("th",{attrs:{scope:"col"}},[t._v("Fecha")]),e("th",{attrs:{scope:"col"}},[t._v("Tipo")]),e("th",{attrs:{scope:"col"}},[t._v("Estado")])])])}],is=[],rs=[],cs=[];function ss(){return ls.apply(this,arguments)}function ls(){return ls=Object(L["a"])(regeneratorRuntime.mark((function t(){var o,e,n,a,i,r,c,s=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(o=s.length>0&&void 0!==s[0]?s[0]:"",e=s.length>1&&void 0!==s[1]?s[1]:"",n=s.length>2&&void 0!==s[2]?s[2]:"",a=s.length>3&&void 0!==s[3]?s[3]:"",i=s.length>4&&void 0!==s[4]?s[4]:"",r=s.length>5&&void 0!==s[5]?s[5]:"",c=s.length>6&&void 0!==s[6]?s[6]:"",console.log("PARAMETROS"),console.log("FOLIO: "+n),console.log("YEAR: "+e),"I"!=o&&""!=o){t.next=14;break}return console.log("buscar inscripciones"),t.next=14,Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Inscripcion_Prenda")).then((function(t){var o=t.docs;console.log("Largo documento inscricpion: "+o.length),o.forEach((function(t){var o=t.data(),s=o.numeroRepertorioContratoPrenda;if(o.estadoSecundario>0&&o.usuarioCreador==localStorage.mail){var l=s.split("-")[0],u=s.split("-")[1];l!=n&&""!=n||u!=e&&""!=e||(console.log("entro"),o.estadoPrimario!=a&&""!=a||o.usuarioCreador!=i&&""!=i||o.nombre_notaria!=r&&""!=r||o.oficina!=c&&""!=c||is.push([t.id,o]))}}))}));case 14:if("M"!=o&&""!=o){t.next=18;break}return console.log("buscar modificaciones"),t.next=18,Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Modificacion_Prenda")).then((function(t){var o=t.docs;console.log("Largo documento modificacion: "+o.length),o.forEach((function(t){var o=t.data(),s=o.numeroRepertorioContratoPrenda;if(o.estadoSecundario>0&&o.usuarioCreador==localStorage.mail){var l=s.split("-")[0],u=s.split("-")[1];l!=n&&""!=n||u!=e&&""!=e||o.estadoPrimario!=a&&""!=a||o.usuarioCreador!=i&&""!=i||o.nombre_notaria!=r&&""!=r||o.oficina!=c&&""!=c||rs.push([t.id,o])}}))}));case 18:if("A"!=o&&""!=o){t.next=22;break}return console.log("buscar alzamientos"),t.next=22,Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Alzamiento_Prenda")).then((function(t){var o=t.docs;console.log("Largo documento alzamiento: "+o.length),o.forEach((function(t){var o=t.data(),s=o.numeroRepertorioContratoPrenda;if(o.estadoSecundario>0&&o.usuarioCreador==localStorage.mail){var l=s.split("-")[0],u=s.split("-")[1];l!=n&&""!=n||u!=e&&""!=e||o.estadoPrimario!=a&&""!=a||o.usuarioCreador!=i&&""!=i||o.nombre_notaria!=r&&""!=r||o.oficina!=c&&""!=c||cs.push([t.id,o])}}))}));case 22:case"end":return t.stop()}}),t)}))),ls.apply(this,arguments)}var us={mounted:function(){var t=this;ss(),setTimeout((function(){t.inscripciones_encontradas.length>0&&t.inscripciones_encontradas.forEach((function(o){var e;o[1]["estadoPrimario"]<=4?e="En revision":5==o[1]["estadoPrimario"]?e="Aceptado":6==o[1]["estadoPrimario"]?e="Rechazado":o[1]["estadoPrimario"]>6&&(e="Rechazado Definitivo");var n={Rep:o[1]["numeroRepertorioContratoPrenda"],Not:o[1]["numeroRepertorioNotario"],Oficina:o[1]["oficina"],Fecha:o[1]["fechaRequirente"],Estado:e,Asignada:"",ID:o[0],Tipo:"I"};t.items.push(n)})),t.modificaciones_encontradas.length>0&&t.modificaciones_encontradas.forEach((function(o){var e;o[1]["estadoPrimario"]<=4?e="En revision":5==o[1]["estadoPrimario"]?e="Aceptado":6==o[1]["estadoPrimario"]?e="Rechazado":o[1]["estadoPrimario"]>6&&(e="Rechazado Definitivo");var n={Rep:o[1]["numeroRepertorioContratoPrenda"],Not:o[1]["numeroRepertorioNotario"],Oficina:o[1]["oficina"],Fecha:o[1]["fechaRequirente"],Estado:e,Asignada:"",ID:o[0],Tipo:"M"};t.items.push(n)})),t.alzamientos_encontrados.length>0&&t.alzamientos_encontrados.forEach((function(o){var e;o[1]["estadoPrimario"]<=4?e="En revision":5==o[1]["estadoPrimario"]?e="Aceptado":6==o[1]["estadoPrimario"]?e="Rechazado":o[1]["estadoPrimario"]>6&&(e="Rechazado Definitivo");var n={Rep:o[1]["numeroRepertorioContratoPrenda"],Not:o[1]["numeroRepertorioNotario"],Oficina:o[1]["oficina"],Fecha:o[1]["fechaRequirente"],Estado:e,Asignada:"",ID:o[0],Tipo:"A"};t.items.push(n)}))}),1500)},name:"BUSCADOR",props:{opcion:Array,username:{type:String,default:"Hola!"},rol:{type:String,default:"REVISOR"}},data:function(){return{items:[],inscripciones_encontradas:is,modificaciones_encontradas:rs,alzamientos_encontrados:cs}},methods:{busqueda:function(){var t=this;this.items=[],is=[],rs=[],cs=[],console.log("BUSCANDO...");var o=document.getElementById("foliorep").value,e=document.getElementById("yearrep").value,n=document.getElementById("tipoact").value;console.log(o+","+e+","+n);var a="T";"Modificacion"==n?a="M":"Alzamiento"==n?a="A":"Inscripcion"==n&&(a="I"),console.log(a),ss(a,e,o),setTimeout((function(){console.log("INSCRIPCIONES ENCONTRADAS: "+is.length),is.length>0&&is.forEach((function(o){var e;o[1]["estadoPrimario"]<=4?e="En revision":5==o[1]["estadoPrimario"]?e="Aceptado":6==o[1]["estadoPrimario"]?e="Rechazado":o[1]["estadoPrimario"]>6&&(e="Rechazado Definitivo");var n={Rep:o[1]["numeroRepertorioContratoPrenda"],Not:o[1]["numeroRepertorioNotario"],Oficina:o[1]["oficina"],Fecha:o[1]["fechaRequirente"],Estado:e,Asignada:"",ID:o[0],Tipo:"I"};t.items.push(n)})),console.log("MODIFICACIONES ENCONTRADAS: "+rs.length),rs.length>0&&rs.forEach((function(o){var e;o[1]["estadoPrimario"]<=4?e="En revision":5==o[1]["estadoPrimario"]?e="Aceptado":6==o[1]["estadoPrimario"]?e="Rechazado":o[1]["estadoPrimario"]>6&&(e="Rechazado Definitivo");var n={Rep:o[1]["numeroRepertorioContratoPrenda"],Not:o[1]["numeroRepertorioNotario"],Oficina:o[1]["oficina"],Fecha:o[1]["fechaRequirente"],Estado:e,Asignada:"",ID:o[0],Tipo:"M"};t.items.push(n)})),console.log("ALZAMIENTOS ENCONTRADAS: "+cs.length),cs.length>0&&cs.forEach((function(o){var e;o[1]["estadoPrimario"]<=4?e="En revision":5==o[1]["estadoPrimario"]?e="Aceptado":6==o[1]["estadoPrimario"]?e="Rechazado":o[1]["estadoPrimario"]>6&&(e="Rechazado Definitivo");var n={Rep:o[1]["numeroRepertorioContratoPrenda"],Not:o[1]["numeroRepertorioNotario"],Oficina:o[1]["oficina"],Fecha:o[1]["fechaRequirente"],Estado:e,Asignada:"",ID:o[0],Tipo:"A"};t.items.push(n)}))}),1500)}}},ds=us,ps=(e("b4a6"),Object(p["a"])(ds,ns,as,!1,null,"fb83739c",null)),ms=ps.exports,hs=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"TablaRevisor"}},[e("div",{staticStyle:{padding:"50px","margin-left":"300px"}},[e("table",{staticClass:"table table-sm table-hover zui-table-rounded"},[e("thead",{staticStyle:{color:"black"}},[e("tr",[t._m(0),t._m(1),t._m(2),e("th",{attrs:{scope:"col"}},[e("div",{staticClass:"d-flex justify-content-center"},[e("button",{staticClass:"d-flex justify-content-center button",on:{click:function(o){return t.busqueda()}}},[t._v("Buscar")])])])])])]),e("table",{staticClass:"table table-sm table-hover zui-table-rounded"},[t._m(3),t._l(t.items,(function(o,n){return e("tbody",{key:n},[e("tr",[e("th",{attrs:{scope:"row"}},[t._v(t._s(o.Rep))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.Not))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.Fecha))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.Tipo))]),e("td",[e("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"Basic example"}},[e("th",{staticClass:"status"},[t._v(t._s(o.Estado))])])])])])}))],2)])])},gs=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("th",{attrs:{scope:"col"}},[t._v("\n                Folio Repertorio Prenda\n                "),e("div",{staticClass:"d-flex justify-content-center"},[e("input",{attrs:{type:"text",id:"foliorep",placeholder:"N° Documento"}})])])},function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("th",{attrs:{scope:"col"}},[t._v("\n                Año\n                "),e("div",{staticClass:"d-flex justify-content-center"},[e("input",{attrs:{type:"text",id:"yearrep",placeholder:"Año"}})])])},function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("th",{attrs:{scope:"col"}},[t._v("\n                Tipo de actuación\n                "),e("div",{staticClass:"d-flex justify-content-center"},[e("select",{staticClass:"form-select",attrs:{id:"tipoact"}},[e("option",{attrs:{selected:"",value:"Inscripcion"}},[t._v("Inscripcion")]),e("option",{attrs:{value:"Modificacion"}},[t._v("Modificacion")]),e("option",{attrs:{value:"Alzamiento"}},[t._v("Alzamiento")])])])])},function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("thead",{staticStyle:{color:"white","background-color":"#514BD5"}},[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("N° Rep Prenda")]),e("th",{attrs:{scope:"col"}},[t._v("N° Rep Notaria")]),e("th",{attrs:{scope:"col"}},[t._v("Fecha")]),e("th",{attrs:{scope:"col"}},[t._v("Tipo")]),e("th",{attrs:{scope:"col"}},[t._v("Estado")])])])}],fs=[],vs=[],bs=[];function Os(){return _s.apply(this,arguments)}function _s(){return _s=Object(L["a"])(regeneratorRuntime.mark((function t(){var o,e,n,a,i,r,c,s=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(o=s.length>0&&void 0!==s[0]?s[0]:"",e=s.length>1&&void 0!==s[1]?s[1]:"",n=s.length>2&&void 0!==s[2]?s[2]:"",a=s.length>3&&void 0!==s[3]?s[3]:"",i=s.length>4&&void 0!==s[4]?s[4]:"",r=s.length>5&&void 0!==s[5]?s[5]:"",c=s.length>6&&void 0!==s[6]?s[6]:"",console.log("PARAMETROS"),console.log("FOLIO: "+n),console.log("YEAR: "+e),"I"!=o&&""!=o){t.next=14;break}return console.log("buscar inscripciones"),t.next=14,Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Inscripcion_Prenda")).then((function(t){var o=t.docs;console.log("Largo documento inscricpion: "+o.length),o.forEach((function(t){var o=t.data(),s=o.numeroRepertorioContratoPrenda,l="-1",u="-2";Object(O["e"])(Object(O["a"])(Eh,"Usuario")).then((function(t){t.docs.forEach((function(t){o.usuarioCreador==t.data().mail&&(u=t.data().NotariaID),localStorage.mail==t.data().mail&&(l=t.data().NotariaID)}))})).then((function(){if(o.estadoSecundario>0&&u==l){var d=s.split("-")[0],p=s.split("-")[1];d!=n&&""!=n||p!=e&&""!=e||o.estadoPrimario!=a&&""!=a||o.usuarioCreador!=i&&""!=i||o.nombre_notaria!=r&&""!=r||o.oficina!=c&&""!=c||fs.push([t.id,o])}}))}))}));case 14:if("M"!=o&&""!=o){t.next=18;break}return console.log("buscar modificaciones"),t.next=18,Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Modificacion_Prenda")).then((function(t){var o=t.docs;console.log("Largo documento modificacion: "+o.length),o.forEach((function(t){var o=t.data(),s=o.numeroRepertorioContratoPrenda,l="-1",u="-2";Object(O["e"])(Object(O["a"])(Eh,"Usuario")).then((function(t){t.docs.forEach((function(t){o.usuarioCreador==t.data().mail&&(u=t.data().NotariaID),localStorage.mail==t.data().mail&&(l=t.data().NotariaID)}))})).then((function(){if(o.estadoSecundario>0&&u==l){var d=s.split("-")[0],p=s.split("-")[1];d!=n&&""!=n||p!=e&&""!=e||o.estadoPrimario!=a&&""!=a||o.usuarioCreador!=i&&""!=i||o.nombre_notaria!=r&&""!=r||o.oficina!=c&&""!=c||vs.push([t.id,o])}}))}))}));case 18:if("A"!=o&&""!=o){t.next=22;break}return console.log("buscar alzamientos"),t.next=22,Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Alzamiento_Prenda")).then((function(t){var o=t.docs;console.log("Largo documento alzamiento: "+o.length),o.forEach((function(t){var o=t.data(),s=o.numeroRepertorioContratoPrenda,l="-1",u="-2";Object(O["e"])(Object(O["a"])(Eh,"Usuario")).then((function(t){t.docs.forEach((function(t){o.usuarioCreador==t.data().mail&&(u=t.data().NotariaID),localStorage.mail==t.data().mail&&(l=t.data().NotariaID)}))})).then((function(){if(o.estadoSecundario>0&&u==l){var d=s.split("-")[0],p=s.split("-")[1];d!=n&&""!=n||p!=e&&""!=e||o.estadoPrimario!=a&&""!=a||o.usuarioCreador!=i&&""!=i||o.nombre_notaria!=r&&""!=r||o.oficina!=c&&""!=c||bs.push([t.id,o])}}))}))}));case 22:case"end":return t.stop()}}),t)}))),_s.apply(this,arguments)}var js,Ss,Es={mounted:function(){var t=this;Os(),setTimeout((function(){t.inscripciones_encontradas.length>0&&t.inscripciones_encontradas.forEach((function(o){var e;o[1]["estadoPrimario"]<=4?e="En revision":5==o[1]["estadoPrimario"]?e="Aceptado":6==o[1]["estadoPrimario"]?e="Rechazado":o[1]["estadoPrimario"]>6&&(e="Rechazado Definitivo");var n={Rep:o[1]["numeroRepertorioContratoPrenda"],Not:o[1]["numeroRepertorioNotario"],Oficina:o[1]["oficina"],Fecha:o[1]["fechaRequirente"],Estado:e,Asignada:"",ID:o[0],Tipo:"I"};t.items.push(n)})),t.modificaciones_encontradas.length>0&&t.modificaciones_encontradas.forEach((function(o){var e;o[1]["estadoPrimario"]<=4?e="En revision":5==o[1]["estadoPrimario"]?e="Aceptado":6==o[1]["estadoPrimario"]?e="Rechazado":o[1]["estadoPrimario"]>6&&(e="Rechazado Definitivo");var n={Rep:o[1]["numeroRepertorioContratoPrenda"],Not:o[1]["numeroRepertorioNotario"],Oficina:o[1]["oficina"],Fecha:o[1]["fechaRequirente"],Estado:e,Asignada:"",ID:o[0],Tipo:"M"};t.items.push(n)})),t.alzamientos_encontrados.length>0&&t.alzamientos_encontrados.forEach((function(o){var e;o[1]["estadoPrimario"]<=4?e="En revision":5==o[1]["estadoPrimario"]?e="Aceptado":6==o[1]["estadoPrimario"]?e="Rechazado":o[1]["estadoPrimario"]>6&&(e="Rechazado Definitivo");var n={Rep:o[1]["numeroRepertorioContratoPrenda"],Not:o[1]["numeroRepertorioNotario"],Oficina:o[1]["oficina"],Fecha:o[1]["fechaRequirente"],Estado:e,Asignada:"",ID:o[0],Tipo:"A"};t.items.push(n)}))}),1500)},name:"TablaRevisor",props:{opcion:Array,username:{type:String,default:"Hola!"},rol:{type:String,default:"REVISOR"}},data:function(){return{items:[],inscripciones_encontradas:fs,modificaciones_encontradas:vs,alzamientos_encontrados:bs}},methods:{busqueda:function(){var t=this;this.items=[],fs=[],vs=[],bs=[],console.log("BUSCANDO...");var o=document.getElementById("foliorep").value,e=document.getElementById("yearrep").value,n=document.getElementById("tipoact").value;console.log(o+","+e+","+n);var a="T";"Modificacion"==n?a="M":"Alzamiento"==n?a="A":"Inscripcion"==n&&(a="I"),console.log(a),Os(a,e,o),setTimeout((function(){console.log("INSCRIPCIONES ENCONTRADAS: "+fs.length),fs.length>0&&fs.forEach((function(o){var e;o[1]["estadoPrimario"]<=4?e="En revision":5==o[1]["estadoPrimario"]?e="Aceptado":6==o[1]["estadoPrimario"]?e="Rechazado":o[1]["estadoPrimario"]>6&&(e="Rechazado Definitivo");var n={Rep:o[1]["numeroRepertorioContratoPrenda"],Not:o[1]["numeroRepertorioNotario"],Oficina:o[1]["oficina"],Fecha:o[1]["fechaRequirente"],Estado:e,Asignada:"",ID:o[0],Tipo:"I"};t.items.push(n)})),console.log("MODIFICACIONES ENCONTRADAS: "+vs.length),vs.length>0&&vs.forEach((function(o){var e;o[1]["estadoPrimario"]<=4?e="En revision":5==o[1]["estadoPrimario"]?e="Aceptado":6==o[1]["estadoPrimario"]?e="Rechazado":o[1]["estadoPrimario"]>6&&(e="Rechazado Definitivo");var n={Rep:o[1]["numeroRepertorioContratoPrenda"],Not:o[1]["numeroRepertorioNotario"],Oficina:o[1]["oficina"],Fecha:o[1]["fechaRequirente"],Estado:e,Asignada:"",ID:o[0],Tipo:"M"};t.items.push(n)})),console.log("ALZAMIENTOS ENCONTRADAS: "+bs.length),bs.length>0&&bs.forEach((function(o){var e;o[1]["estadoPrimario"]<=4?e="En revision":5==o[1]["estadoPrimario"]?e="Aceptado":6==o[1]["estadoPrimario"]?e="Rechazado":o[1]["estadoPrimario"]>6&&(e="Rechazado Definitivo");var n={Rep:o[1]["numeroRepertorioContratoPrenda"],Not:o[1]["numeroRepertorioNotario"],Oficina:o[1]["oficina"],Fecha:o[1]["fechaRequirente"],Estado:e,Asignada:"",ID:o[0],Tipo:"A"};t.items.push(n)}))}),1500)}}},Is=Es,Rs=(e("1ab6"),Object(p["a"])(Is,hs,gs,!1,null,"22474730",null)),Cs=Rs.exports,As={name:"Buscador",data:function(){return{opcion:localStorage.my_opts.split(","),username:localStorage.user,rol:localStorage.rol}},components:{Menu:B,Navbar:ut,BuscadorReceptor:Mc,BuscadorJefeDeServicios:Vc,BuscadorRevisor:es,BuscadorFuncionarioNotaria:ms,BuscadorNotario:Cs}},Ps=As,Ns=(e("aaff"),Object(p["a"])(Ps,Sc,Ec,!1,null,"7b92d5ea",null)),Ds=Ns.exports,ys=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"dashboard"}},[e("Menu",{attrs:{opciones:t.opcion}}),e("Navbar",{attrs:{username:t.username}}),e("div",{staticClass:"right"},["RECEPTOR"==t.rol?e("RepcionDocumentosBuscador"):t._e()],1)],1)},Ts=[],Fs=function(){var t=this,o=t.$createElement;t._self._c;return t._m(0)},Ms=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"row",attrs:{id:"contenedor"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-8"},[t._v("Recepción Solicitudes")]),e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-4",staticStyle:{"background-color":"white"}},[e("h3",[t._v("N° Repertorio Notaria")]),e("input",{attrs:{type:"search",placeholder:"N° Repertorio Notaria"}})]),e("div",{staticClass:"col-lg-4",staticStyle:{"background-color":"white"}},[e("h3",[t._v("N° Repertorio Prenda")]),e("input",{attrs:{type:"search",placeholder:"N° Repertorio Prenda"}})])]),e("div",{staticClass:"row"},[e("button",{staticClass:"buttonRec"},[t._v("Recepcionado")])])])])])}],xs={name:"AcreedorFormularios",data:function(){return{option:"Natural",headers:["Tipo","Id","Name"],items:[{}]}},methods:{changeOption:function(){var t=document.getElementById("tipoDePersona");this.option=t.options[t.selectedIndex].value,console.log(this.option)},add:function(t){this.items.push(t)}}},zs=xs,ws=(e("a05b"),Object(p["a"])(zs,Fs,Ms,!1,null,"0e55471f",null)),Bs=ws.exports,ks={name:"Buscador",data:function(){return{opcion:localStorage.my_opts.split(","),username:localStorage.user,rol:localStorage.rol}},components:{Menu:B,Navbar:ut,RepcionDocumentosBuscador:Bs}},qs=ks,Ls=(e("0e08"),Object(p["a"])(qs,ys,Ts,!1,null,"0b516ff1",null)),Us=Ls.exports,Gs=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"dashboard"}},[e("Menu",{attrs:{opciones:t.opcion}}),e("Navbar",{attrs:{username:t.username}}),e("div",{staticClass:"right"},[e("h1",{staticClass:"d-flex justify-content-center",staticStyle:{color:"#514BD5"}},[t._v("Revisión de documentos")]),e("AntecedentesFormulario",{attrs:{rol:t.rol}}),e("AcreedorLectura"),e("ConstituyenteLectura",{attrs:{items:t.items_Constituyentes,modo:"leer"}}),e("DeudoresLectura",{attrs:{items:t.items_Deudores,modo:"leer"}}),e("VehiculosLectura",{attrs:{tipoSolicitud:"RevisionDoc",items:t.total_itemsVehiculos}}),e("ArchivosLectura",{attrs:{items:t.items_Contrato,itemsAnexos:t.items_Anexos}}),e("div",{staticClass:"row d-flex justify-content-center",attrs:{id:"contenedor"}},[e("button",{staticClass:"col-2 titleButton",on:{click:function(o){return t.rechazar()}}},[t._v("Rechazar")]),e("button",{staticClass:"col-2 titleButton",on:{click:function(o){return t.aceptar()}}},[t._v("Firmar FEA")])])],1)],1)},$s=[],Vs=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"row",attrs:{id:"contenedor"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"titleFormulario col",on:{change:function(o){return t.setData()}}},[t._v("Contrato")]),e("div",{staticClass:"row "},t._l(t.items,(function(o,n){return e("div",{key:n,staticClass:"col d-flex justify-content-start",on:{change:function(o){return t.setData()}}},[e("a",{attrs:{href:o.href,target:"black"}},[e("font-awesome-icon",{staticStyle:{"margin-right":"5px"},attrs:{icon:"file-download"}})],1)])})),0)]),e("div",{staticClass:"row"},[e("div",{staticClass:"titleFormulario col",on:{change:function(o){return t.setData()}}},[t._v("Anexos")]),e("div",{staticClass:"row"},t._l(t.itemsAnexos,(function(o,n){return e("div",{key:n,staticClass:"col d-flex justify-content-start",on:{change:function(o){return t.setData()}}},[e("a",{attrs:{href:o.href,target:"black"}},[e("font-awesome-icon",{staticStyle:{"margin-right":"5px"},attrs:{icon:"file-download"}})],1)])})),0)])])},Hs=[],Ys={props:{items:{type:Array,default:new Array},itemsAnexos:{type:Array,default:new Array}}},Js=Ys,Zs=(e("996a"),Object(p["a"])(Js,Vs,Hs,!1,null,"6f2c118c",null)),Ws=Zs.exports,Xs=localStorage.user,Ks="/Dashboard/"+localStorage.rol+"/"+Xs+"/MisSolicitudes",Qs=[],tl=[],ol=[],el=[],nl=[];function al(t,o,e,n){var a={patente:t,rvm:o,GoE:e,estado:n};0==a.estado?a.estado="Sin alzar":a.estado="Alzado",0==a.GoE?a.GoE="No":a.GoE="Si",0==a.rvm?a.rvm="No":a.rvm="Si",Qs.push(a)}function il(t,o,e,n){console.log("PASEEEE");var a={Tipo:t,Id:o,Name:e,Pais:n};tl.push(a)}function rl(t,o,e,n){console.log("PASEEEE");var a={Tipo:t,Id:o,Name:e,Pais:n};ol.push(a)}function cl(t){var o={href:t};el.push(o)}function sl(t){var o={href:t};nl.push(o)}var ll=[],ul=[],dl=[],pl=[],ml=[],hl=[];function gl(t,o){"I"==o?Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Inscripcion_Prenda")).then((function(o){var e=o.docs;e.forEach((function(o){t==o.id&&(js=o.data(),Ss=o.id,Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Document_RPsD"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();o.contrato?pl.push(o):ml.push(o)}))})).then((function(){console.log("ARCHIVOS"),console.log(pl),pl.forEach((function(t){cl(t.url)})),console.log(ml),ml.forEach((function(t){sl(t.url)}))})),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Persona_Solicitud"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;console.log("per"),console.log(t.docs),o.forEach((function(t){var o=t.data();0==o.tipoContratante?ll.push(o):1==o.tipoContratante?ul.push(o):2==o.tipoContratante&&dl.push(o)}))})).then((function(){console.log("PERSONASs"),console.log(ll),console.log(ul),ul.forEach((function(t){il(t.tipoAcreedor,t.runPersona,t.nombrePersona,t.paisPersona)})),console.log(dl),dl.forEach((function(t){rl(t.tipoAcreedor,t.runPersona,t.nombrePersona,t.paisPersona)}))})),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Patente_por_Inscripcion"),Object(O["j"])("idInscripcion","==",parseInt(t)))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();hl.push(o)}))})).then((function(){console.log("PATENTES"),console.log(hl),hl.forEach((function(t){console.log(t.patente),console.log(t.inscripcionPrendaRVM),console.log(t.inscripcionProhibicionGravarEnajenar),console.log(t.alzamiento),al(t.patente,t.inscripcionPrendaRVM,t.inscripcionProhibicionGravarEnajenar,t.alzamiento)}))})))}))})).then((function(){console.log("INSCRIPCION"),console.log(hl)})):"M"==o?Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Modificacion_Prenda")).then((function(o){var e=o.docs;e.forEach((function(o){t==o.id&&(js=o.data(),Ss=o.id,Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Document_RPsD"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();o.contrato?pl.push(o):ml.push(o)}))})).then((function(){console.log("ARCHIVOS"),console.log(pl),pl.forEach((function(t){cl(t.url)})),console.log(ml),ml.forEach((function(t){sl(t.url)}))})),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Persona_Solicitud"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;console.log("per"),console.log(t.docs),o.forEach((function(t){var o=t.data();0==o.tipoContratante?ll.push(o):1==o.tipoContratante?ul.push(o):2==o.tipoContratante&&dl.push(o)}))})).then((function(){console.log("PERSONASs"),console.log(ll),console.log(ul),ul.forEach((function(t){il(t.tipoAcreedor,t.runPersona,t.nombrePersona,t.paisPersona)})),console.log(dl),dl.forEach((function(t){rl(t.tipoAcreedor,t.runPersona,t.nombrePersona,t.paisPersona)}))})),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Patente_por_Inscripcion"),Object(O["j"])("idInscripcion","==",parseInt(t)))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();hl.push(o)}))})).then((function(){console.log("PATENTES"),console.log(hl),hl.forEach((function(t){console.log(t.patente),console.log(t.inscripcionPrendaRVM),console.log(t.inscripcionProhibicionGravarEnajenar),console.log(t.alzamiento),al(t.patente,t.inscripcionPrendaRVM,t.inscripcionProhibicionGravarEnajenar,t.alzamiento)}))})))}))})).then((function(){console.log("MODIFICACION"),console.log(js)})):"A"==o&&Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Alzamiento_Prenda")).then((function(o){var e=o.docs;e.forEach((function(o){t==o.id&&(js=o.data(),Ss=o.id,Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Document_RPsD"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();o.contrato?pl.push(o):ml.push(o)}))})).then((function(){console.log("ARCHIVOS"),console.log(pl),pl.forEach((function(t){cl(t.url)})),console.log(ml),ml.forEach((function(t){sl(t.url)}))})),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Persona_Solicitud"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;console.log("per"),console.log(t.docs),o.forEach((function(t){var o=t.data();0==o.tipoContratante?ll.push(o):1==o.tipoContratante?ul.push(o):2==o.tipoContratante&&dl.push(o)}))})).then((function(){console.log("PERSONASs"),console.log(ll),console.log(ul),ul.forEach((function(t){il(t.tipoAcreedor,t.runPersona,t.nombrePersona,t.paisPersona)})),console.log(dl),dl.forEach((function(t){rl(t.tipoAcreedor,t.runPersona,t.nombrePersona,t.paisPersona)}))})),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Patente_por_Inscripcion"),Object(O["j"])("idInscripcion","==",parseInt(t)))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();hl.push(o)}))})).then((function(){console.log("PATENTES"),console.log(hl),hl.forEach((function(t){console.log(t.patente),console.log(t.inscripcionPrendaRVM),console.log(t.inscripcionProhibicionGravarEnajenar),console.log(t.alzamiento),al(t.patente,t.inscripcionPrendaRVM,t.inscripcionProhibicionGravarEnajenar,t.alzamiento)}))})))}))})).then((function(){console.log("ALZAMIENTO"),console.log(js)}))}var fl={mounted:function(){var t=this;this.clean(),console.log("MOUNT hh"),console.log(localStorage.id_judge+" "+localStorage.tipo_judge),this.tipoA_revisar=localStorage.tipo_judge,console.log(this.tipoA_revisar),gl(parseInt(localStorage.id_judge),localStorage.tipo_judge),setTimeout((function(){console.log("SOLICITUD2"),console.log(js);var o=document.getElementById("tipoDeDocumento");o.value=js.privacidadDocumento;var e=new Event("change");o.dispatchEvent(e),o.disabled=!0,setTimeout((function(){if("Publico"==js.privacidadDocumento){var t=document.getElementById("FechaOtorgamiento"),o=document.getElementById("FechaSubscripcion");t.value=js.fechaOtorgamientoEscritura,o.value=js.fechaSuscripcion,t.disabled=!0,o.disabled=!0}else if("Privado"==js.privacidadDocumento){var e=document.getElementById("FechaAutorizacion"),n=document.getElementById("FechaProtocolizacion");e.value=js.fechaAutorizacionContratoPrivado,n.value=js.fechaProtocolizacionContratoPrivado,e.disabled=!0,n.disabled=!0}}),3e3),setTimeout((function(){var t=js.numeroRepertorioNotario.split("-"),o=document.getElementById("foliorepnontaria"),e=document.getElementById("anorepnotaria"),n=document.getElementById("gravaroenajenar"),a=document.getElementById("checkinscactfijo"),i=document.getElementById("checkinscbagropec"),r=document.getElementById("checkinscderecheint"),c=document.getElementById("checkinscvehic");n.checked=js.prohibicionGravarEnajenar,a.checked=js.activoFijo,i.checked=js.bienesAgropecuarios,r.checked=js.derechosIntangibles,c.checked=js.prendaVehiculo,o.value=t[0],e.value=t[1],n.disabled=!0,a.disabled=!0,i.disabled=!0,r.disabled=!0,c.disabled=!0,o.disabled=!0,e.disabled=!0}),3e3);var n=document.getElementById("tipodepersona"),a=document.getElementById("runacreedor"),i=document.getElementById("nombresacreedor"),r=document.getElementById("apellidopaterno"),c=document.getElementById("apellidomaterno"),s=ll[0].nombrePersona.split(" ");n.value=ll[0].tipoAcreedor,a.value=ll[0].runPersona,i.value=s[0],r.value=s[1],c.value=s[2],n.disabled=!0,a.disabled=!0,i.disabled=!0,c.disabled=!0,r.disabled=!0,t.items_Constituyentes=tl,t.items_Deudores=ol,console.log(t.items_Deudores),t.total_itemsVehiculos=Qs,t.items_Contrato=el,t.items_Anexos=nl}),3e3)},name:"RevisionDocNotario",data:function(){return{opcion:localStorage.my_opts.split(","),username:localStorage.user,rol:localStorage.rol,total_itemsVehiculos:new Array,items_Constituyentes:new Array,items_Deudores:new Array,items_Contrato:new Array,items_Anexos:new Array,tipoA_revisar:localStorage.tipo_revisar}},components:{AntecedentesFormulario:rn,VehiculosLectura:Ua,ConstituyenteLectura:On,DeudoresLectura:Rn,ArchivosLectura:Ws,AcreedorLectura:mn,Menu:B,Navbar:ut},methods:{aceptar:function(){var t=this,o=new Date;"I"==this.tipoA_revisar.toString()?Object(O["i"])(Object(O["c"])(Object(O["a"])(Eh,"Solicitud_Inscripcion_Prenda"),Ss.toString()),{firma:!0}).then((function(){Object(O["e"])(Object(O["a"])(Eh,"Bitacora")).then((function(t){var e=t.docs.length;Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Bitacora"),e.toString()),{idInscripcion:Ss,idModificacion:"",idAlzamiento:"",idUser:localStorage.mail,comment:"Solicitud de Inscricpion Firmada",fechaCambio:o.getFullYear()+"-"+(o.getMonth()+1)+"-"+o.getDate()})})).then((function(){t.$router.push({path:Ks})}))})):"M"==this.tipoA_revisar.toString()?Object(O["i"])(Object(O["c"])(Object(O["a"])(Eh,"Solicitud_Modificacion_Prenda"),Ss.toString()),{firma:!0}).then((function(){Object(O["e"])(Object(O["a"])(Eh,"Bitacora")).then((function(t){var e=t.docs.length;Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Bitacora"),e.toString()),{idInscripcion:"",idModificacion:Ss,idAlzamiento:"",idUser:localStorage.mail,comment:"Solicitud de Modificacion Firmada",fechaCambio:o.getFullYear()+"-"+(o.getMonth()+1)+"-"+o.getDate()})})).then((function(){t.$router.push({path:Ks})}))})):"A"==this.tipoA_revisar.toString()&&Object(O["i"])(Object(O["c"])(Object(O["a"])(Eh,"Solicitud_Alzamiento_Prenda"),Ss.toString()),{firma:!0}).then((function(){Object(O["e"])(Object(O["a"])(Eh,"Bitacora")).then((function(t){var e=t.docs.length;Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Bitacora"),e.toString()),{idInscripcion:"",idModificacion:"",idAlzamiento:Ss,idUser:localStorage.mail,comment:"Solicitud de Alzamiento Firmada",fechaCambio:o.getFullYear()+"-"+(o.getMonth()+1)+"-"+o.getDate()})})).then((function(){t.$router.push({path:Ks})}))}))},rechazar:function(){var t=this,o=new Date;"I"==this.tipoA_revisar.toString()?(console.log("RECHAZANDO"),console.log(Ss),Object(O["i"])(Object(O["c"])(Object(O["a"])(Eh,"Solicitud_Inscripcion_Prenda"),Ss.toString()),{estadoPrimario:2}).then((function(){Object(O["e"])(Object(O["a"])(Eh,"Bitacora")).then((function(t){var e=t.docs.length;Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Bitacora"),e.toString()),{idInscripcion:Ss,idModificacion:"",idAlzamiento:"",idUser:localStorage.mail,comment:"Solicitud de Inscricpion Rechazada por Notario",fechaCambio:o.getFullYear()+"-"+(o.getMonth()+1)+"-"+o.getDate()})})).then((function(){t.$router.push({path:Ks})}))}))):"M"==this.tipoA_revisar.toString()?(console.log("RECHAZANDO"),console.log(Ss),Object(O["i"])(Object(O["c"])(Object(O["a"])(Eh,"Solicitud_Modificacion_Prenda"),Ss.toString()),{estadoPrimario:2}).then((function(){Object(O["e"])(Object(O["a"])(Eh,"Bitacora")).then((function(t){var e=t.docs.length;Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Bitacora"),e.toString()),{idInscripcion:"",idModificacion:Ss,idAlzamiento:"",idUser:localStorage.mail,comment:"Solicitud de Modificacion Rechazada por Notario",fechaCambio:o.getFullYear()+"-"+(o.getMonth()+1)+"-"+o.getDate()})})).then((function(){t.$router.push({path:Ks})}))}))):"A"==this.tipoA_revisar.toString()&&(console.log("RECHAZANDO"),console.log(Ss),Object(O["i"])(Object(O["c"])(Object(O["a"])(Eh,"Solicitud_Alzamiento_Prenda"),Ss.toString()),{estadoPrimario:2}).then((function(){Object(O["e"])(Object(O["a"])(Eh,"Bitacora")).then((function(t){var e=t.docs.length;Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Bitacora"),e.toString()),{idInscripcion:"",idModificacion:"",idAlzamiento:Ss,idUser:localStorage.mail,comment:"Solicitud de Alzamiento Rechazada por Notario",fechaCambio:o.getFullYear()+"-"+(o.getMonth()+1)+"-"+o.getDate()})})).then((function(){t.$router.push({path:Ks})}))})))},clean:function(){hl.length=0,ll.length=0,ul.length=0,dl.length=0,pl.length=0,ml.length=0,Qs.length=0,ol.length=0,tl.length=0,nl.length=0,el.length=0}}};console.log(localStorage.my_opts);var vl,bl,Ol=fl,_l=(e("be1b"),Object(p["a"])(Ol,Gs,$s,!1,null,"8e208fdc",null)),jl=_l.exports,Sl=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"dashboard"}},[e("Menu",{attrs:{opciones:t.opcion}}),e("Navbar",{attrs:{username:t.username}}),e("div",{staticClass:"right"},[e("h1",{staticStyle:{color:"#514BD5"}},[t._v("Revisión de documentos")]),e("AntecedentesFormulario",{attrs:{rol:t.rol}}),e("AcreedorLectura"),e("ConstituyenteLectura",{attrs:{items:t.items_Constituyentes,modo:"leer"}}),e("DeudoresLectura",{attrs:{items:t.items_Deudores,modo:"leer"}}),e("VehiculosLectura",{attrs:{tipoSolicitud:"RevisionDoc",items:t.total_itemsVehiculos}}),e("ArchivosLectura",{attrs:{items:t.items_Contrato,itemsAnexos:t.items_Anexos}}),e("div",{staticClass:"row d-flex justify-content-center",attrs:{id:"contenedor"}},[e("button",{staticClass:"col-2 titleButton",on:{click:function(o){return t.rechazar()}}},[t._v("Rechazar")]),e("button",{staticClass:"col-2 titleButton",attrs:{id:"botonACEPTARRECEPTOR"},on:{click:function(o){return t.aceptar()}}},[t._v("Aprobar")])]),e("h4",{staticStyle:{color:"#514BD5"}},[t._v("Comentario Rechazo")]),e("textarea",{staticStyle:{align:"right"},attrs:{id:"comentarioRechazo",rows:"2",cols:"73"}})],1)],1)},El=[],Il=localStorage.user,Rl="/Dashboard/"+localStorage.rol+"/"+Il+"/MisSolicitudes",Cl=[],Al=[],Pl=[],Nl=[],Dl=[];function yl(t,o,e,n){var a={patente:t,rvm:o,GoE:e,estado:n};0==a.estado?a.estado="Sin alzar":a.estado="Alzado",0==a.GoE?a.GoE="No":a.GoE="Si",0==a.rvm?a.rvm="No":a.rvm="Si",Cl.push(a)}function Tl(t,o,e,n){console.log("PASEEEE");var a={Tipo:t,Id:o,Name:e,Pais:n};Al.push(a)}function Fl(t,o,e,n){console.log("PASEEEE");var a={Tipo:t,Id:o,Name:e,Pais:n};Pl.push(a)}function Ml(t){var o={href:t};Nl.push(o)}function xl(t){var o={href:t};Dl.push(o)}var zl=[],wl=[],Bl=[],kl=[],ql=[],Ll=[];function Ul(t,o){"I"==o?Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Inscripcion_Prenda")).then((function(o){var e=o.docs;e.forEach((function(o){t==o.id&&(vl=o.data(),bl=o.id,Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Document_RPsD"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();o.contrato?kl.push(o):ql.push(o)}))})).then((function(){console.log("ARCHIVOS"),console.log(kl),kl.forEach((function(t){Ml(t.url)})),console.log(ql),ql.forEach((function(t){xl(t.url)}))})),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Persona_Solicitud"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;console.log("per"),console.log(t.docs),o.forEach((function(t){var o=t.data();0==o.tipoContratante?zl.push(o):1==o.tipoContratante?wl.push(o):2==o.tipoContratante&&Bl.push(o)}))})).then((function(){console.log("PERSONASs"),console.log(zl),console.log(wl),wl.forEach((function(t){Tl(t.tipoAcreedor,t.runPersona,t.nombrePersona,t.paisPersona)})),console.log(Bl),Bl.forEach((function(t){Fl(t.tipoAcreedor,t.runPersona,t.nombrePersona,t.paisPersona)}))})),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Patente_por_Inscripcion"),Object(O["j"])("idInscripcion","==",parseInt(t)))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();Ll.push(o)}))})).then((function(){console.log("PATENTES"),console.log(Ll),Ll.forEach((function(t){console.log(t.patente),console.log(t.inscripcionPrendaRVM),console.log(t.inscripcionProhibicionGravarEnajenar),console.log(t.alzamiento),yl(t.patente,t.inscripcionPrendaRVM,t.inscripcionProhibicionGravarEnajenar,t.alzamiento)}))})))}))})).then((function(){console.log("INSCRIPCION"),console.log(Ll)})):"M"==o?Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Modificacion_Prenda")).then((function(o){var e=o.docs;e.forEach((function(o){t==o.id&&(vl=o.data(),bl=o.id,Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Document_RPsD"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();o.contrato?kl.push(o):ql.push(o)}))})).then((function(){console.log("ARCHIVOS"),console.log(kl),kl.forEach((function(t){Ml(t.url)})),console.log(ql),ql.forEach((function(t){xl(t.url)}))})),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Persona_Solicitud"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;console.log("per"),console.log(t.docs),o.forEach((function(t){var o=t.data();0==o.tipoContratante?zl.push(o):1==o.tipoContratante?wl.push(o):2==o.tipoContratante&&Bl.push(o)}))})).then((function(){console.log("PERSONASs"),console.log(zl),console.log(wl),wl.forEach((function(t){Tl(t.tipoAcreedor,t.runPersona,t.nombrePersona,t.paisPersona)})),console.log(Bl),Bl.forEach((function(t){Fl(t.tipoAcreedor,t.runPersona,t.nombrePersona,t.paisPersona)}))})),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Patente_por_Inscripcion"),Object(O["j"])("idInscripcion","==",parseInt(t)))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();Ll.push(o)}))})).then((function(){console.log("PATENTES"),console.log(Ll),Ll.forEach((function(t){console.log(t.patente),console.log(t.inscripcionPrendaRVM),console.log(t.inscripcionProhibicionGravarEnajenar),console.log(t.alzamiento),yl(t.patente,t.inscripcionPrendaRVM,t.inscripcionProhibicionGravarEnajenar,t.alzamiento)}))})))}))})).then((function(){console.log("MODIFICACION"),console.log(vl)})):"A"==o&&Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Alzamiento_Prenda")).then((function(o){var e=o.docs;e.forEach((function(o){t==o.id&&(vl=o.data(),bl=o.id,Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Document_RPsD"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;console.log("All docum"),console.log(o),o.forEach((function(t){var o=t.data();o.contrato?kl.push(o):ql.push(o)}))})).then((function(){console.log("ARCHIVOS"),console.log(kl),kl.forEach((function(t){Ml(t.url)})),console.log(ql),ql.forEach((function(t){xl(t.url)}))})),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Persona_Solicitud"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;console.log("per"),console.log(t.docs),o.forEach((function(t){var o=t.data();0==o.tipoContratante?zl.push(o):1==o.tipoContratante?wl.push(o):2==o.tipoContratante&&Bl.push(o)}))})).then((function(){console.log("PERSONASs"),console.log(zl),console.log(wl),wl.forEach((function(t){Tl(t.tipoAcreedor,t.runPersona,t.nombrePersona,t.paisPersona)})),console.log(Bl),Bl.forEach((function(t){Fl(t.tipoAcreedor,t.runPersona,t.nombrePersona,t.paisPersona)}))})),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Patente_por_Inscripcion"),Object(O["j"])("idInscripcion","==",parseInt(t)))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();Ll.push(o)}))})).then((function(){console.log("PATENTES"),console.log(Ll),Ll.forEach((function(t){console.log(t.patente),console.log(t.inscripcionPrendaRVM),console.log(t.inscripcionProhibicionGravarEnajenar),console.log(t.alzamiento),yl(t.patente,t.inscripcionPrendaRVM,t.inscripcionProhibicionGravarEnajenar,t.alzamiento)}))})))}))})).then((function(){console.log("ALZAMIENTO"),console.log(vl)}))}var Gl=[];function $l(t){Gl=[],Object(O["e"])(Object(O["a"])(Eh,"Patente_por_Inscripcion")).then((function(o){var e=o.docs;e.forEach((function(o){var e=o.data();e.idInscripcion==t&&Gl.push(e)})),console.log("AUTOS: "),console.log(Gl)}))}var Vl=[];function Hl(t){Vl=[],Object(O["e"])(Object(O["a"])(Eh,"Patente_por_Inscripcion")).then((function(o){var e=o.docs;e.forEach((function(o){var e=o.data();e.idInscripcion==t&&e.inscripcionPrendaRVM&&!e.alzamiento&&Vl.push(e)})),console.log("AUTOS CON ANOTACION AL RVM Y SIN ALZAR: "),console.log(Vl)}))}var Yl,Jl={mounted:function(){var t=this;this.clean(),console.log(localStorage.pagado);var o=document.getElementById("botonACEPTARRECEPTOR");"Por pagar"==localStorage.pagado&&(o.style.display="none"),console.log(localStorage.id_judge+" "+localStorage.tipo_judge),Ul(parseInt(localStorage.id_judge),localStorage.tipo_judge),setTimeout((function(){console.log("ID RELACIONADA"),console.log(bl),$l(bl),console.log("SOLICITUD2"),console.log(vl);var o=document.getElementById("tipoDeDocumento");o.value=vl.privacidadDocumento;var e=new Event("change");o.dispatchEvent(e),o.disabled=!0,setTimeout((function(){if("Publico"==vl.privacidadDocumento){var t=document.getElementById("FechaOtorgamiento"),o=document.getElementById("FechaSubscripcion");t.value=vl.fechaOtorgamientoEscritura,o.value=vl.fechaSuscripcion,t.disabled=!0,o.disabled=!0}else if("Privado"==vl.privacidadDocumento){var e=document.getElementById("FechaAutorizacion"),n=document.getElementById("FechaProtocolizacion");e.value=vl.fechaAutorizacionContratoPrivado,n.value=vl.fechaProtocolizacionContratoPrivado,e.disabled=!0,n.disabled=!0}}),500),setTimeout((function(){var t=vl.numeroRepertorioNotario.split("-"),o=document.getElementById("foliorepnontaria"),e=document.getElementById("anorepnotaria"),n=document.getElementById("gravaroenajenar"),a=document.getElementById("checkinscactfijo"),i=document.getElementById("checkinscbagropec"),r=document.getElementById("checkinscderecheint"),c=document.getElementById("checkinscvehic");n.checked=vl.prohibicionGravarEnajenar,a.checked=vl.activoFijo,i.checked=vl.bienesAgropecuarios,r.checked=vl.derechosIntangibles,c.checked=vl.prendaVehiculo,o.value=t[0],e.value=t[1],n.disabled=!0,a.disabled=!0,i.disabled=!0,r.disabled=!0,c.disabled=!0,o.disabled=!0,e.disabled=!0}),500);var n=document.getElementById("tipodepersona"),a=document.getElementById("runacreedor"),i=document.getElementById("nombresacreedor"),r=document.getElementById("apellidopaterno"),c=document.getElementById("apellidomaterno"),s=zl[0].nombrePersona.split(" ");n.value=zl[0].tipoAcreedor,a.value=zl[0].runPersona,i.value=s[0],r.value=s[1],c.value=s[2],n.disabled=!0,a.disabled=!0,i.disabled=!0,c.disabled=!0,r.disabled=!0,t.items_Constituyentes=Al,t.items_Deudores=Pl,console.log(t.items_Deudores),t.total_itemsVehiculos=Cl,t.items_Contrato=Nl,t.items_Anexos=Dl}),2e3)},name:"RevisionDoc",data:function(){return{opcion:localStorage.my_opts.split(","),username:localStorage.user,rol:localStorage.rol,total_itemsVehiculos:new Array,items_Constituyentes:new Array,items_Deudores:new Array,items_Contrato:new Array,items_Anexos:new Array}},components:{AntecedentesFormulario:rn,VehiculosLectura:Ua,ConstituyenteLectura:On,DeudoresLectura:Rn,ArchivosLectura:Ws,AcreedorLectura:mn,Menu:B,Navbar:ut},methods:{aceptar:function(){var t=this,o="http://ec2-75-101-231-83.compute-1.amazonaws.com:4031/api/vehicles/acceptRejectAnotation";Hl(bl),console.log("VEHICULOS RELACIONADOS"),console.log(Vl),console.log(localStorage.tipo_judge.toString());var e=new Date;if("I"==localStorage.tipo_judge.toString())Vl.forEach((function(t){var e='{"patente": "'+t.patente+'", "tipo":"PN", "aceptarORechazar":"aceptada", "numero_repertorio":"'+vl.numeroRepertorioContratoPrenda.split("-")[1]+"-"+vl.numeroRepertorioContratoPrenda.split("-")[0]+'"}';fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:e}).then((function(o){console.log("ACEPTANDO Anotaciones a RVM MODIFICACION DE PATENTE: "+t.patente),console.log("RESPUESTA A PATENTE: "+t.patente),console.log(o.json())}))})),Object(O["i"])(Object(O["c"])(Object(O["a"])(Eh,"Solicitud_Inscripcion_Prenda"),localStorage.id_judge.toString()),{estadoPrimario:5}).then((function(){Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Inspeccion_inscripcion"),Object(O["j"])("solicitudId","==",localStorage.id_judge.toString()))).then((function(o){Object(O["i"])(Object(O["c"])(Object(O["a"])(Eh,"Inspeccion_inscripcion"),o.docs[0].id.toString()),{aprovRevisor:!0}).then((function(){Object(O["e"])(Object(O["a"])(Eh,"Bitacora")).then((function(t){var o=t.docs.length;Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Bitacora"),o.toString()),{idInscripcion:localStorage.id_judge,idModificacion:"",idAlzamiento:"",idUser:localStorage.mail,comment:"Solicitud de Inscricpion Aceptada por el Revisor",fechaCambio:e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()})}))})).then((function(){return t.$router.push({path:Rl})}))}))}));else if("M"==localStorage.tipo_judge.toString()){var n="";Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Modificacion_Prenda")).then((function(t){t.docs.forEach((function(t){localStorage.id_judge.toString()==t.id&&(console.log(t.data().tipoModificacion),n=1==t.data().tipoModificacion?"AlzPN":2==O["c"].data().tipoModificacion&&"CA")}))})).then((function(){Vl.forEach((function(t){var e='{"patente": "'+t.patente+'", "tipo":"'+n+'", "aceptarORechazar":"aceptada", "numero_repertorio":"'+vl.numeroRepertorioNotario.split("-")[1]+"-"+vl.numeroRepertorioNotario.split("-")[0]+'"}';fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:e}).then((function(o){o.json().then((function(o){console.log("ACEPTANDO Anotaciones a RVM MODIFICACION: "+n),console.log(o.msg+"para patente:"+t.patente),console.log(o)}))}))})),Object(O["i"])(Object(O["c"])(Object(O["a"])(Eh,"Solicitud_Modificacion_Prenda"),localStorage.id_judge.toString()),{estadoPrimario:5}).then((function(){Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Inspeccion_modificacion"),Object(O["j"])("solicitudId","==",localStorage.id_judge.toString()))).then((function(o){Object(O["i"])(Object(O["c"])(Object(O["a"])(Eh,"Inspeccion_modificacion"),o.docs[0].id.toString()),{aprovRevisor:!0}).then((function(){Object(O["e"])(Object(O["a"])(Eh,"Bitacora")).then((function(t){var o=t.docs.length;Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Bitacora"),o.toString()),{idInscripcion:"",idModificacion:localStorage.id_judge,idAlzamiento:"",idUser:localStorage.mail,comment:"Solicitud de Modificacion Aceptada por el Revisor",fechaCambio:e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()})}))})).then((function(){return t.$router.push({path:Rl})}))}))}))}))}else"A"==localStorage.tipo_judge.toString()&&(Vl.forEach((function(t){var e='{"patente": "'+t.patente+'", "tipo":"AlzPN", "aceptarORechazar":"aceptado", "numero_repertorio":"'+vl.numeroRepertorioNotario.split("-")[1]+"-"+vl.numeroRepertorioNotario.split("-")[0]+'"}';fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:e}).then((function(o){o.json().then((function(o){console.log("ACEPTANDO Anotaciones a RVM ALZAMIENTO: "+n),console.log(o.msg+"para patente:"+t.patente),console.log(o)}))}))})),Object(O["i"])(Object(O["c"])(Object(O["a"])(Eh,"Solicitud_Alzamiento_Prenda"),localStorage.id_judge.toString()),{estadoPrimario:5}).then((function(){Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Inspeccion_alzamiento"),Object(O["j"])("solicitudId","==",localStorage.id_judge.toString()))).then((function(o){Object(O["i"])(Object(O["c"])(Object(O["a"])(Eh,"Inspeccion_alzamiento"),o.docs[0].id.toString()),{aprovRevisor:!0}).then((function(){Object(O["e"])(Object(O["a"])(Eh,"Bitacora")).then((function(t){var o=t.docs.length;Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Bitacora"),o.toString()),{idInscripcion:"",idModificacion:"",idAlzamiento:localStorage.id_judge,idUser:localStorage.mail,comment:"Solicitud de Alzamiento Aceptada por el Revisor",fechaCambio:e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()})}))})).then((function(){return t.$router.push({path:Rl})}))}))})))},rechazar:function(){var t=this,o="http://ec2-75-101-231-83.compute-1.amazonaws.com:4031/api/vehicles/acceptRejectAnotation",e=new Date;if(Hl(bl),console.log("VEHICULOS RELACIONADOS"),console.log(Vl),console.log(localStorage.tipo_judge.toString()),"I"==localStorage.tipo_judge.toString())Vl.forEach((function(t){var e='{"patente": "'+t.patente+'", "tipo":"PN", "aceptarORechazar":"rechazada", "numero_repertorio":"'+vl.numeroRepertorioContratoPrenda.split("-")[1]+"-"+vl.numeroRepertorioContratoPrenda.split("-")[0]+'"}';fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:e}).then((function(o){console.log("RECHAZANDO Anotaciones a RVM MODIFICACION DE PATENTE: "+t.patente),console.log("RESPUESTA A PATENTE: "+t.patente),console.log(o.json())}))})),Object(O["i"])(Object(O["c"])(Object(O["a"])(Eh,"Solicitud_Inscripcion_Prenda"),localStorage.id_judge.toString()),{estadoPrimario:6}).then((function(){Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Inspeccion_inscripcion"),Object(O["j"])("solicitudId","==",localStorage.id_judge.toString()))).then((function(o){Object(O["i"])(Object(O["c"])(Object(O["a"])(Eh,"Inspeccion_inscripcion"),o.docs[0].id.toString()),{aprovRevisor:!1}).then((function(){Object(O["e"])(Object(O["a"])(Eh,"Bitacora")).then((function(t){var o=t.docs.length;Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Bitacora"),o.toString()),{idInscripcion:localStorage.id_judge,idModificacion:"",idAlzamiento:"",idUser:localStorage.mail,comment:"Solicitud de Inscricpion Rechazada por el Revisor",fechaCambio:e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()})}))})).then((function(){return t.$router.push({path:Rl})}))}))}));else if("M"==localStorage.tipo_judge.toString()){var n="";Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Modificacion_Prenda")).then((function(t){t.docs.forEach((function(t){localStorage.id_judge.toString()==t.id&&(console.log(t.data().tipoModificacion),n=1==t.data().tipoModificacion?"AlzPN":2==O["c"].data().tipoModificacion&&"CA")}))})).then((function(){Vl.forEach((function(t){var e='{"patente": "'+t.patente+'", "tipo":"'+n+'", "aceptarORechazar":"rechazada", "numero_repertorio":"'+vl.numeroRepertorioNotario.split("-")[1]+"-"+vl.numeroRepertorioNotario.split("-")[0]+'"}';fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:e}).then((function(o){o.json().then((function(o){console.log("RECHAZANDO Anotaciones a RVM MODIFICACION: "+n),console.log(o.msg+"para patente:"+t.patente),console.log(o)}))}))})),Object(O["i"])(Object(O["c"])(Object(O["a"])(Eh,"Solicitud_Modificacion_Prenda"),localStorage.id_judge.toString()),{estadoPrimario:6}).then((function(){Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Inspeccion_modificacion"),Object(O["j"])("solicitudId","==",localStorage.id_judge.toString()))).then((function(o){Object(O["i"])(Object(O["c"])(Object(O["a"])(Eh,"Inspeccion_modificacion"),o.docs[0].id.toString()),{aprovRevisor:!1}).then((function(){Object(O["e"])(Object(O["a"])(Eh,"Bitacora")).then((function(t){var o=t.docs.length;Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Bitacora"),o.toString()),{idInscripcion:"",idModificacion:localStorage.id_judge,idAlzamiento:"",idUser:localStorage.mail,comment:"Solicitud de Modificacion Rechazada por el Revisor",fechaCambio:e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()})}))})).then((function(){return t.$router.push({path:Rl})}))}))}))}))}else"A"==localStorage.tipo_judge.toString()&&(Vl.forEach((function(t){var e='{"patente": "'+t.patente+'", "tipo":"AlzPN", "aceptarORechazar":"rechazada", "numero_repertorio":"'+vl.numeroRepertorioNotario.split("-")[1]+"-"+vl.numeroRepertorioNotario.split("-")[0]+'"}';fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:e}).then((function(o){o.json().then((function(o){console.log("RECHAZANDO Anotaciones a RVM ALZAMIENTO: "+n),console.log(o.msg+"para patente:"+t.patente),console.log(o)}))}))})),Object(O["i"])(Object(O["c"])(Object(O["a"])(Eh,"Solicitud_Alzamiento_Prenda"),localStorage.id_judge.toString()),{estadoPrimario:6}).then((function(){Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Inspeccion_alzamiento"),Object(O["j"])("solicitudId","==",localStorage.id_judge.toString()))).then((function(o){Object(O["i"])(Object(O["c"])(Object(O["a"])(Eh,"Inspeccion_alzamiento"),o.docs[0].id.toString()),{aprovRevisor:!1}).then((function(){Object(O["e"])(Object(O["a"])(Eh,"Bitacora")).then((function(t){var o=t.docs.length;Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Bitacora"),o.toString()),{idInscripcion:"",idModificacion:"",idAlzamiento:localStorage.id_judge,idUser:localStorage.mail,comment:"Solicitud de Alzamiento Rechazada por el Revisor",fechaCambio:e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()})}))})).then((function(){return t.$router.push({path:Rl})}))}))})))},clean:function(){Ll.length=0,zl.length=0,wl.length=0,Bl.length=0,kl.length=0,ql.length=0,Cl.length=0,Pl.length=0,Al.length=0,Dl.length=0,Nl.length=0}}},Zl=Jl,Wl=(e("f2df"),Object(p["a"])(Zl,Sl,El,!1,null,"01ef6358",null)),Xl=Wl.exports,Kl=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"dashboard"}},[e("Menu",{attrs:{opciones:t.opcion}}),e("Navbar",{attrs:{username:t.username}}),e("div",{staticClass:"right"},[e("h1",{staticStyle:{color:"#514BD5"}},[t._v("Revisión de documentos")]),e("AntecedentesFormulario",{attrs:{rol:t.rol}}),e("AcreedorLectura"),e("ConstituyenteLectura",{attrs:{items:t.items_Constituyentes,modo:"leer"}}),e("DeudoresLectura",{attrs:{items:t.items_Deudores,modo:"leer"}}),e("VehiculosLectura",{attrs:{tipoSolicitud:"RevisionDoc",items:t.total_itemsVehiculos}}),e("ArchivosLectura",{attrs:{items:t.items_Contrato,itemsAnexos:t.items_Anexos}}),e("h4",{staticStyle:{color:"#514BD5"}},[t._v("Comentario Rechazo")]),e("textarea",{attrs:{id:"comentarioRechazo",rows:"4",cols:"70",readonly:""}}),e("div",{staticClass:"row d-flex justify-content-center",attrs:{id:"contenedor"}},[e("button",{staticClass:"col-2 titleButton",on:{click:function(o){return t.rechazar()}}},[t._v("Rechazar")]),e("button",{staticClass:"col-2 titleButton",attrs:{id:"botonACEPTARRECEPTOR"},on:{click:function(o){return t.aceptar()}}},[t._v("Aprobar")])])],1)],1)},Ql=[],tu=localStorage.user,ou="/Dashboard/"+localStorage.rol+"/"+tu+"/MisSolicitudes",eu=new Date,nu=[],au=[],iu=[],ru=[],cu=[];function su(t,o,e,n){var a={patente:t,rvm:o,GoE:e,estado:n};0==a.estado?a.estado="Sin alzar":a.estado="Alzado",0==a.GoE?a.GoE="No":a.GoE="Si",0==a.rvm?a.rvm="No":a.rvm="Si",nu.push(a)}function lu(t,o,e,n){console.log("PASEEEE");var a={Tipo:t,Id:o,Name:e,Pais:n};au.push(a)}function uu(t,o,e,n){console.log("PASEEEE");var a={Tipo:t,Id:o,Name:e,Pais:n};iu.push(a)}function du(t){var o={href:t};ru.push(o)}function pu(t){var o={href:t};cu.push(o)}var mu=[],hu=[],gu=[],fu=[],vu=[],bu=[];function Ou(t,o){"I"==o?Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Inscripcion_Prenda")).then((function(o){var e=o.docs;e.forEach((function(o){t==o.id&&(Yl=o.data(),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Document_RPsD"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();o.contrato?fu.push(o):vu.push(o)}))})).then((function(){fu.forEach((function(t){du(t.url)})),vu.forEach((function(t){pu(t.url)}))})),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Persona_Solicitud"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();0==o.tipoContratante?mu.push(o):1==o.tipoContratante?hu.push(o):2==o.tipoContratante&&gu.push(o)}))})).then((function(){hu.forEach((function(t){lu(t.tipoAcreedor,t.runPersona,t.nombrePersona,t.paisPersona)})),gu.forEach((function(t){uu(t.tipoAcreedor,t.runPersona,t.nombrePersona,t.paisPersona)}))})),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Patente_por_Inscripcion"),Object(O["j"])("idInscripcion","==",parseInt(t)))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();bu.push(o)}))})).then((function(){bu.forEach((function(t){su(t.patente,t.inscripcionPrendaRVM,t.inscripcionProhibicionGravarEnajenar,t.alzamiento)}))})))}))})).then((function(){})):"M"==o?Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Modificacion_Prenda")).then((function(o){var e=o.docs;e.forEach((function(o){t==o.id&&(Yl=o.data(),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Document_RPsD"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();o.contrato?fu.push(o):vu.push(o)}))})).then((function(){fu.forEach((function(t){du(t.url)})),vu.forEach((function(t){pu(t.url)}))})),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Persona_Solicitud"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();0==o.tipoContratante?mu.push(o):1==o.tipoContratante?hu.push(o):2==o.tipoContratante&&gu.push(o)}))})).then((function(){hu.forEach((function(t){lu(t.tipoAcreedor,t.runPersona,t.nombrePersona,t.paisPersona)})),gu.forEach((function(t){uu(t.tipoAcreedor,t.runPersona,t.nombrePersona,t.paisPersona)}))})),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Patente_por_Inscripcion"),Object(O["j"])("idInscripcion","==",parseInt(t)))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();bu.push(o)}))})).then((function(){bu.forEach((function(t){su(t.patente,t.inscripcionPrendaRVM,t.inscripcionProhibicionGravarEnajenar,t.alzamiento)}))})))}))})).then((function(){})):"A"==o&&Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Alzamiento_Prenda")).then((function(o){var e=o.docs;e.forEach((function(o){t==o.id&&(Yl=o.data(),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Document_RPsD"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();o.contrato?fu.push(o):vu.push(o)}))})).then((function(){fu.forEach((function(t){du(t.url)})),vu.forEach((function(t){pu(t.url)}))})),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Persona_Solicitud"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();0==o.tipoContratante?mu.push(o):1==o.tipoContratante?hu.push(o):2==o.tipoContratante&&gu.push(o)}))})).then((function(){hu.forEach((function(t){lu(t.tipoAcreedor,t.runPersona,t.nombrePersona,t.paisPersona)})),gu.forEach((function(t){uu(t.tipoAcreedor,t.runPersona,t.nombrePersona,t.paisPersona)}))})),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Patente_por_Inscripcion"),Object(O["j"])("idInscripcion","==",parseInt(t)))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();bu.push(o)}))})).then((function(){bu.forEach((function(t){su(t.patente,t.inscripcionPrendaRVM,t.inscripcionProhibicionGravarEnajenar,t.alzamiento)}))})))}))})).then((function(){}))}var _u=[];function ju(t){_u=[],Object(O["e"])(Object(O["a"])(Eh,"Patente_por_Inscripcion")).then((function(o){var e=o.docs;e.forEach((function(o){var e=o.data();e.idInscripcion==t&&e.inscripcionPrendaRVM&&!e.alzamiento&&_u.push(e)})),console.log("AUTOS CON ANOTACION AL RVM Y SIN ALZAR: "),console.log(_u)}))}var Su,Eu,Iu={mounted:function(){var t=this;this.clean(),console.log("MOUNT"),console.log(localStorage.pagado);var o=document.getElementById("botonACEPTARRECEPTOR");"Por pagar"==localStorage.pagado&&(o.style.display="none"),console.log(localStorage.id_judge+" "+localStorage.tipo_judge),"I"==localStorage.tipo_judge?Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Inspeccion_inscripcion"),Object(O["j"])("solicitudId","==",localStorage.id_judge.toString()))).then((function(t){console.log("MOMENTO "+t.docs[0].data().comment),document.getElementById("comentarioRechazo").value=t.docs[0].data().comment})):"A"==localStorage.tipo_judge?Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Inspeccion_alzamiento"),Object(O["j"])("solicitudId","==",localStorage.id_judge.toString()))).then((function(t){console.log("MOMENTO "+t.docs[0].data().comment),document.getElementById("comentarioRechazo").value=t.docs[0].data().comment})):"M"==localStorage.tipo_judge&&Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Inspeccion_modificacion"),Object(O["j"])("solicitudId","==",localStorage.id_judge.toString()))).then((function(t){console.log("MOMENTO "+t.docs[0].data().comment),document.getElementById("comentarioRechazo").value=t.docs[0].data().comment})),Ou(parseInt(localStorage.id_judge),localStorage.tipo_judge),setTimeout((function(){console.log("SOLICITUD2"),console.log(Yl);var o=document.getElementById("tipoDeDocumento");o.value=Yl.privacidadDocumento;var e=new Event("change");o.dispatchEvent(e),o.disabled=!0,setTimeout((function(){if("Publico"==Yl.privacidadDocumento){var t=document.getElementById("FechaOtorgamiento"),o=document.getElementById("FechaSubscripcion");t.value=Yl.fechaOtorgamientoEscritura,o.value=Yl.fechaSuscripcion,t.disabled=!0,o.disabled=!0}else if("Privado"==Yl.privacidadDocumento){var e=document.getElementById("FechaAutorizacion"),n=document.getElementById("FechaProtocolizacion");e.value=Yl.fechaAutorizacionContratoPrivado,n.value=Yl.fechaProtocolizacionContratoPrivado,e.disabled=!0,n.disabled=!0}}),500),setTimeout((function(){var t=Yl.numeroRepertorioNotario.split("-"),o=document.getElementById("foliorepnontaria"),e=document.getElementById("anorepnotaria"),n=document.getElementById("gravaroenajenar"),a=document.getElementById("checkinscactfijo"),i=document.getElementById("checkinscbagropec"),r=document.getElementById("checkinscderecheint"),c=document.getElementById("checkinscvehic");n.checked=Yl.prohibicionGravarEnajenar,a.checked=Yl.activoFijo,i.checked=Yl.bienesAgropecuarios,r.checked=Yl.derechosIntangibles,c.checked=Yl.prendaVehiculo,o.value=t[0],e.value=t[1],n.disabled=!0,a.disabled=!0,i.disabled=!0,r.disabled=!0,c.disabled=!0,o.disabled=!0,e.disabled=!0}),500);var n=document.getElementById("tipodepersona"),a=document.getElementById("runacreedor"),i=document.getElementById("nombresacreedor"),r=document.getElementById("apellidopaterno"),c=document.getElementById("apellidomaterno"),s=mu[0].nombrePersona.split(" ");n.value=mu[0].tipoAcreedor,a.value=mu[0].runPersona,i.value=s[0],r.value=s[1],c.value=s[2],n.disabled=!0,a.disabled=!0,i.disabled=!0,c.disabled=!0,r.disabled=!0,t.items_Constituyentes=au,t.items_Deudores=iu,console.log(t.items_Deudores),t.total_itemsVehiculos=nu,t.items_Contrato=ru,t.items_Anexos=cu}),2e3)},name:"RevisionDoc",data:function(){return{opcion:localStorage.my_opts.split(","),username:localStorage.user,rol:localStorage.rol}},components:{AntecedentesFormulario:rn,VehiculosLectura:Ua,ConstituyenteLectura:On,DeudoresLectura:Rn,ArchivosLectura:Ws,AcreedorLectura:mn,Menu:B,Navbar:ut},methods:{aceptar:function(){var t=this,o="http://ec2-75-101-231-83.compute-1.amazonaws.com:4031/api/vehicles/acceptRejectAnotation";if(ju(parseInt(localStorage.id_judge)),console.log("VEHICULOS RELACIONADOS"),console.log(_u),console.log(localStorage.tipo_judge.toString()),"I"==localStorage.tipo_judge.toString())_u.forEach((function(t){var e='{"patente": "'+t.patente+'", "tipo":"PN", "aceptarORechazar":"aceptada", "numero_repertorio":"'+Yl.numeroRepertorioContratoPrenda.split("-")[1]+"-"+Yl.numeroRepertorioContratoPrenda.split("-")[0]+'"}';fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:e}).then((function(o){console.log("ACEPTANDO Anotaciones a RVM MODIFICACION DE PATENTE: "+t.patente),console.log("RESPUESTA A PATENTE: "+t.patente),console.log(o.json())}))})),Object(O["i"])(Object(O["c"])(Object(O["a"])(Eh,"Solicitud_Inscripcion_Prenda"),localStorage.id_judge.toString()),{estadoPrimario:5}).then((function(){Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Inspeccion_inscripcion"),Object(O["j"])("solicitudId","==",localStorage.id_judge.toString()))).then((function(o){Object(O["i"])(Object(O["c"])(Object(O["a"])(Eh,"Inspeccion_inscripcion"),o.docs[0].id.toString()),{aprovJefeRevisor:!0}).then((function(){Object(O["e"])(Object(O["a"])(Eh,"Bitacora")).then((function(t){var o=t.docs.length;Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Bitacora"),o.toString()),{idInscripcion:localStorage.id_judge,idModificacion:"",idAlzamiento:"",idUser:localStorage.mail,comment:"Solicitud de Inscricpion Aceptada por el Jefe de Unidad de Prenda",fechaCambio:eu.getFullYear()+"-"+(eu.getMonth()+1)+"-"+eu.getDate()})}))})).then((function(){return t.$router.push({path:ou})}))}))}));else if("M"==localStorage.tipo_judge.toString()){var e="";Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Modificacion_Prenda")).then((function(t){t.docs.forEach((function(t){localStorage.id_judge.toString()==t.id&&(console.log(t.data().tipoModificacion),e=1==t.data().tipoModificacion?"AlzPN":2==O["c"].data().tipoModificacion&&"CA")}))})).then((function(){_u.forEach((function(t){var n='{"patente": "'+t.patente+'", "tipo":"'+e+'", "aceptarORechazar":"aceptada", "numero_repertorio":"'+Yl.numeroRepertorioNotario.split("-")[1]+"-"+Yl.numeroRepertorioNotario.split("-")[0]+'"}';fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:n}).then((function(o){o.json().then((function(o){console.log("ACEPTANDO Anotaciones a RVM MODIFICACION: "+e),console.log(o.msg+"para patente:"+t.patente),console.log(o)}))}))})),Object(O["i"])(Object(O["c"])(Object(O["a"])(Eh,"Solicitud_Modificacion_Prenda"),localStorage.id_judge.toString()),{estadoPrimario:5}).then((function(){Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Inspeccion_modificacion"),Object(O["j"])("solicitudId","==",localStorage.id_judge.toString()))).then((function(o){Object(O["i"])(Object(O["c"])(Object(O["a"])(Eh,"Inspeccion_modificacion"),o.docs[0].id.toString()),{aprovJefeRevisor:!0}).then((function(){Object(O["e"])(Object(O["a"])(Eh,"Bitacora")).then((function(t){var o=t.docs.length;Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Bitacora"),o.toString()),{idInscripcion:"",idModificacion:localStorage.id_judge,idAlzamiento:"",idUser:localStorage.mail,comment:"Solicitud de Modificacion Aceptada por el Jefe de Unidad de Prenda",fechaCambio:eu.getFullYear()+"-"+(eu.getMonth()+1)+"-"+eu.getDate()})}))})).then((function(){return t.$router.push({path:ou})}))}))}))}))}else"A"==localStorage.tipo_judge.toString()&&(_u.forEach((function(t){var n='{"patente": "'+t.patente+'", "tipo":"AlzPN", "aceptarORechazar":"aceptado", "numero_repertorio":"'+Yl.numeroRepertorioNotario.split("-")[1]+"-"+Yl.numeroRepertorioNotario.split("-")[0]+'"}';fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:n}).then((function(o){o.json().then((function(o){console.log("ACEPTANDO Anotaciones a RVM ALZAMIENTO: "+e),console.log(o.msg+"para patente:"+t.patente),console.log(o)}))}))})),Object(O["i"])(Object(O["c"])(Object(O["a"])(Eh,"Solicitud_Alzamiento_Prenda"),localStorage.id_judge.toString()),{estadoPrimario:5}).then((function(){Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Inspeccion_alzamiento"),Object(O["j"])("solicitudId","==",localStorage.id_judge.toString()))).then((function(o){Object(O["i"])(Object(O["c"])(Object(O["a"])(Eh,"Inspeccion_alzamiento"),o.docs[0].id.toString()),{aprovJefeRevisor:!0}).then((function(){Object(O["e"])(Object(O["a"])(Eh,"Bitacora")).then((function(t){var o=t.docs.length;Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Bitacora"),o.toString()),{idInscripcion:"",idModificacion:"",idAlzamiento:localStorage.id_judge,idUser:localStorage.mail,comment:"Solicitud de Alzamiento Aceptada por el Jefe de Unidad de Prenda",fechaCambio:eu.getFullYear()+"-"+(eu.getMonth()+1)+"-"+eu.getDate()})}))})).then((function(){return t.$router.push({path:ou})}))}))})))},rechazar:function(){var t=this,o="http://ec2-75-101-231-83.compute-1.amazonaws.com:4031/api/vehicles/acceptRejectAnotation";if(ju(parseInt(localStorage.id_judge)),console.log("VEHICULOS RELACIONADOS"),console.log(_u),console.log(localStorage.tipo_judge.toString()),"I"==localStorage.tipo_judge.toString())_u.forEach((function(t){var e='{"patente": "'+t.patente+'", "tipo":"PN", "aceptarORechazar":"rechazada", "numero_repertorio":"'+Yl.numeroRepertorioContratoPrenda.split("-")[1]+"-"+Yl.numeroRepertorioContratoPrenda.split("-")[0]+'"}';fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:e}).then((function(o){console.log("RECHAZANDO Anotaciones a RVM MODIFICACION DE PATENTE: "+t.patente),console.log("RESPUESTA A PATENTE: "+t.patente),console.log(o.json())}))})),Object(O["i"])(Object(O["c"])(Object(O["a"])(Eh,"Solicitud_Inscripcion_Prenda"),localStorage.id_judge.toString()),{estadoPrimario:7}).then((function(){Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Inspeccion_inscripcion"),Object(O["j"])("solicitudId","==",localStorage.id_judge.toString()))).then((function(o){Object(O["i"])(Object(O["c"])(Object(O["a"])(Eh,"Inspeccion_inscripcion"),o.docs[0].id.toString()),{aprovJefeRevisor:!1}).then((function(){Object(O["e"])(Object(O["a"])(Eh,"Bitacora")).then((function(t){var o=t.docs.length;Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Bitacora"),o.toString()),{idInscripcion:localStorage.id_judge,idModificacion:"",idAlzamiento:"",idUser:localStorage.mail,comment:"Solicitud de Inscricpion Rechazada por el Jefe de Unidad de Prenda",fechaCambio:eu.getFullYear()+"-"+(eu.getMonth()+1)+"-"+eu.getDate()})}))})).then((function(){return t.$router.push({path:ou})}))}))}));else if("M"==localStorage.tipo_judge.toString()){var e="";Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Modificacion_Prenda")).then((function(t){t.docs.forEach((function(t){localStorage.id_judge.toString()==t.id&&(console.log(t.data().tipoModificacion),e=1==t.data().tipoModificacion?"AlzPN":2==O["c"].data().tipoModificacion&&"CA")}))})).then((function(){_u.forEach((function(t){var n='{"patente": "'+t.patente+'", "tipo":"'+e+'", "aceptarORechazar":"rechazada", "numero_repertorio":"'+Yl.numeroRepertorioNotario.split("-")[1]+"-"+Yl.numeroRepertorioNotario.split("-")[0]+'"}';fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:n}).then((function(o){o.json().then((function(o){console.log("RECHAZANDO Anotaciones a RVM MODIFICACION: "+e),console.log(o.msg+"para patente:"+t.patente),console.log(o)}))}))})),Object(O["i"])(Object(O["c"])(Object(O["a"])(Eh,"Solicitud_Modificacion_Prenda"),localStorage.id_judge.toString()),{estadoPrimario:7}).then((function(){Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Inspeccion_modificacion"),Object(O["j"])("solicitudId","==",localStorage.id_judge.toString()))).then((function(o){Object(O["i"])(Object(O["c"])(Object(O["a"])(Eh,"Inspeccion_modificacion"),o.docs[0].id.toString()),{aprovJefeRevisor:!1}).then((function(){Object(O["e"])(Object(O["a"])(Eh,"Bitacora")).then((function(t){var o=t.docs.length;Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Bitacora"),o.toString()),{idInscripcion:"",idModificacion:localStorage.id_judge,idAlzamiento:"",idUser:localStorage.mail,comment:"Solicitud de Modificacion Rechazada por el Jefe de Unidad de Prenda",fechaCambio:eu.getFullYear()+"-"+(eu.getMonth()+1)+"-"+eu.getDate()})}))})).then((function(){return t.$router.push({path:ou})}))}))}))}))}else"A"==localStorage.tipo_judge.toString()&&(_u.forEach((function(t){var n='{"patente": "'+t.patente+'", "tipo":"AlzPN", "aceptarORechazar":"rechazada", "numero_repertorio":"'+Yl.numeroRepertorioNotario.split("-")[1]+"-"+Yl.numeroRepertorioNotario.split("-")[0]+'"}';fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:n}).then((function(o){o.json().then((function(o){console.log("RECHAZANDO Anotaciones a RVM ALZAMIENTO: "+e),console.log(o.msg+"para patente:"+t.patente),console.log(o)}))}))})),Object(O["i"])(Object(O["c"])(Object(O["a"])(Eh,"Solicitud_Alzamiento_Prenda"),localStorage.id_judge.toString()),{estadoPrimario:7}).then((function(){Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Inspeccion_alzamiento"),Object(O["j"])("solicitudId","==",localStorage.id_judge.toString()))).then((function(o){Object(O["i"])(Object(O["c"])(Object(O["a"])(Eh,"Inspeccion_alzamiento"),o.docs[0].id.toString()),{aprovJefeRevisor:!1}).then((function(){Object(O["e"])(Object(O["a"])(Eh,"Bitacora")).then((function(t){var o=t.docs.length;Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Bitacora"),o.toString()),{idInscripcion:"",idModificacion:"",idAlzamiento:localStorage.id_judge,idUser:localStorage.mail,comment:"Solicitud de Alzamiento Rechazada por el Jefe de Unidad de Prenda",fechaCambio:eu.getFullYear()+"-"+(eu.getMonth()+1)+"-"+eu.getDate()})}))})).then((function(){return t.$router.push({path:ou})}))}))})))},clean:function(){bu.length=0,mu.length=0,hu.length=0,gu.length=0,fu.length=0,vu.length=0,nu.length=0,iu.length=0,au.length=0,cu.length=0,ru.length=0}}},Ru=Iu,Cu=(e("34ac"),Object(p["a"])(Ru,Kl,Ql,!1,null,"f953582c",null)),Au=Cu.exports,Pu=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"dashboard"}},[e("Menu",{attrs:{opciones:t.opcion}}),e("Navbar",{attrs:{username:t.username}}),e("div",{ref:"content",staticClass:"right"},["FUNCIONARIOOFICINA"==t.rol?e("RequirenteFormulario",{on:{getnombreRequirente:t.getnombreRequirente,getrutRequirente:t.getrutRequirente,getCorreoRequirente:t.getCorreoRequirente,getFechaRequirente:t.getFechaRequirente}}):t._e(),e("AntecedentesFormulario",{attrs:{rol:t.rol},on:{gettipoDoc:t.gettipoDoc,getFOtorgamiento:t.getFOtorgamiento,getFSuscripcion:t.getFSuscripcion,getFAutorizacion:t.getFAutorizacion,getFProtocolizacion:t.getFProtocolizacion,getRepNotaria:t.getRepNotaria,getanioRepNotaria:t.getanioRepNotaria,getProhibGravEnajenar:t.getProhibGravEnajenar,getBienes:t.getBienes,getNotaria:t.getNotaria}}),e("AcreedorFormulario",{on:{gettipoPersona:t.gettipoPersona,getrun:t.getrun,getid:t.getid,getpais:t.getpais,getrut:t.getrut,getrazonsocial:t.getrazonsocial,getApaterno:t.getApaterno,getAmaterno:t.getAmaterno,getnombres:t.getnombres}}),e("ConstituyentesFormulario",{attrs:{items:t.items_Constituyentes,modo:"Escribir"},on:{getConstituyentes:t.getConstituyentes}}),e("DeudoresFormulario",{attrs:{items:t.items_Deudores,modo:"Escribir"},on:{getDeudores:t.getDeudores}}),e("VehiculosFormulario",{attrs:{items:t.total_itemsVehiculos},on:{getVehiculos:t.getVehiculos}}),"FUNCIONARIOOFICINA"!==t.rol?e("ContratoFormulario",{on:{getContrato:t.getContrato}}):t._e(),"FUNCIONARIOOFICINA"!==t.rol?e("AnexosFormulario",{on:{getAnexos:t.getAnexos}}):t._e(),e("ArchivosLectura",{attrs:{items:t.items_Contrato,itemsAnexos:t.items_Anexos}}),e("Monto"),e("div",{staticClass:"row d-flex justify-content-center",attrs:{id:"contenedor"}},[e("button",{staticClass:"col-2 titleButton",on:{click:function(o){return t.crearInscripcion(!1)}}},[t._v("Guardar")]),e("button",{staticClass:"col-2 titleButton",on:{click:function(o){return t.crearInscripcion(!0)}}},[t._v("Enviar")])])],1)],1)},Nu=[];function Du(t){if(!t.includes("-"))return!1;t=t.split("-");var o=t[0],e=t[1],n=(new Date).getFullYear();return!isNaN(o)&&!o.includes("e")&&4==o.length&&!(e>n||isNaN(e)||e.length<4)}var yu=[],Tu=[],Fu=[],Mu=[],xu=[];function zu(t,o,e,n){var a={patente:t,rvm:o,GoE:e,estado:n};yu.push(a)}function wu(t,o,e,n){console.log("PASEEEE");var a={Tipo:t,Id:o,Name:e,Pais:n};Tu.push(a)}function Bu(t,o,e,n){console.log("PASEEEE");var a={Tipo:t,Id:o,Name:e,Pais:n};Fu.push(a)}function ku(t){var o={href:t};Mu.push(o)}function qu(t){var o={href:t};xu.push(o)}var Lu=[],Uu=[],Gu=[],$u=[],Vu=[],Hu=[];function Yu(t,o,e,n){var a=["El pago no se realizo","Hubo intencion de pagar","Pagado"];Object(O["e"])(Object(O["a"])(Eh,"Counter_N_RPsD")).then((function(n){var a=n.docs[0].data(),i=a.counter;i=i<10?"000"+i.toString():i<100?"00"+i.toString():i<1e3?"0"+i.toString():i.toString();var r=a.year;Su=i+"-"+r.toString(),console.log("RPSD: "+Su),1==e?"I"==t?Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Inscripcion_Prenda",o),{estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}).then((function(){console.log("ACTUALIZADO")})):"M"==t?Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Modificacion_Prenda",o),{estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}):"A"==t&&Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Alzamiento_Prenda",o),{estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}):"I"==t?Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Inscripcion_Prenda",o),{estadoSecundario:e}).then((function(){console.log("ACTUALIZADO")})):"M"==t?Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Modificacion_Prenda",o),{estadoSecundario:e}):"A"==t&&Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Alzamiento_Prenda",o),{estadoSecundario:e}),Object(O["i"])(Object(O["c"])(Eh,"Counter_N_RPsD","0"),{counter:a.counter+1})})),Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Inscripcion_Prenda")).then((function(i){var r="";console.log("INSCRIPCION TEST");var c=i.docs;c.forEach((function(i){console.log(i.id),i.id.toString()==o.toString()&&(console.log("MISMO ID"),r=i.data().estadoPrimario);var c=new Date;Object(O["e"])(Object(O["a"])(Eh,"Bitacora")).then((function(i){var s=i.docs.length,l="",u="",d="";"I"==t?l=o:"M"==t?u=o:"A"==t&&(d=o),Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Bitacora"),s.toString()),{idInscripcion:l,idModificacion:u,idAlzamiento:d,idUser:n,comment:a[e],fechaCambio:c.getFullYear()+"-"+(c.getMonth()+1)+"-"+c.getDate(),estadoPrimario:r})}))}))}))}function Ju(t,o){"I"==o?Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Inscripcion_Prenda")).then((function(o){var e=o.docs;e.forEach((function(o){t==o.id&&(Eu=o.data(),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Document_RPsD"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();o.contrato?$u.push(o):Vu.push(o)}))})).then((function(){console.log("ARCHIVOS"),console.log($u),$u.forEach((function(t){ku(t.url)})),console.log(Vu),Vu.forEach((function(t){qu(t.url)}))})),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Persona_Solicitud"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;console.log("per"),console.log(t.docs),o.forEach((function(t){var o=t.data();0==o.tipoContratante?Lu.push(o):1==o.tipoContratante?Uu.push(o):2==o.tipoContratante&&Gu.push(o)}))})).then((function(){console.log("PERSONASs"),console.log(Lu),console.log(Uu),Uu.forEach((function(t){wu(t.tipoAcreedor,t.runPersona,t.nombrePersona,t.paisPersona)})),console.log(Gu),Gu.forEach((function(t){Bu(t.tipoAcreedor,t.runPersona,t.nombrePersona,t.paisPersona)}))})),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Patente_por_Inscripcion"),Object(O["j"])("idInscripcion","==",parseInt(t)))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();Hu.push(o)}))})).then((function(){console.log("PATENTES"),console.log(Hu),Hu.forEach((function(t){console.log(t.patente),console.log(t.inscripcionPrendaRVM),console.log(t.inscripcionProhibicionGravarEnajenar),console.log(t.alzamiento),zu(t.patente,t.inscripcionPrendaRVM,t.inscripcionProhibicionGravarEnajenar,t.alzamiento)}))})))}))})).then((function(){console.log("INSCRIPCION"),console.log(Hu)})):"M"==o?Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Modificacion_Prenda")).then((function(o){var e=o.docs;e.forEach((function(o){t==o.id&&(Eu=o.data(),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Document_RPsD"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();o.contrato?$u.push(o):Vu.push(o)}))})).then((function(){console.log("ARCHIVOS"),console.log($u),$u.forEach((function(t){ku(t.url)})),console.log(Vu),Vu.forEach((function(t){qu(t.url)}))})),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Persona_Solicitud"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;console.log("per"),console.log(t.docs),o.forEach((function(t){var o=t.data();0==o.tipoContratante?Lu.push(o):1==o.tipoContratante?Uu.push(o):2==o.tipoContratante&&Gu.push(o)}))})).then((function(){console.log("PERSONASs"),console.log(Lu),console.log(Uu),Uu.forEach((function(t){wu(t.tipoAcreedor,t.runPersona,t.nombrePersona,t.paisPersona)})),console.log(Gu),Gu.forEach((function(t){Bu(t.tipoAcreedor,t.runPersona,t.nombrePersona,t.paisPersona)}))})),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Patente_por_Inscripcion"),Object(O["j"])("idInscripcion","==",parseInt(t)))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();Hu.push(o)}))})).then((function(){console.log("PATENTES"),console.log(Hu),Hu.forEach((function(t){console.log(t.patente),console.log(t.inscripcionPrendaRVM),console.log(t.inscripcionProhibicionGravarEnajenar),console.log(t.alzamiento),zu(t.patente,t.inscripcionPrendaRVM,t.inscripcionProhibicionGravarEnajenar,t.alzamiento)}))})))}))})).then((function(){console.log("MODIFICACION"),console.log(Eu)})):"A"==o&&Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Alzamiento_Prenda")).then((function(o){var e=o.docs;e.forEach((function(o){t==o.id&&(Eu=o.data(),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Document_RPsD"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();o.contrato?$u.push(o):Vu.push(o)}))})).then((function(){console.log("ARCHIVOS"),console.log($u),$u.forEach((function(t){ku(t.url)})),console.log(Vu),Vu.forEach((function(t){qu(t.url)}))})),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Persona_Solicitud"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;console.log("per"),console.log(t.docs),o.forEach((function(t){var o=t.data();0==o.tipoContratante?Lu.push(o):1==o.tipoContratante?Uu.push(o):2==o.tipoContratante&&Gu.push(o)}))})).then((function(){console.log("PERSONASs"),console.log(Lu),console.log(Uu),Uu.forEach((function(t){wu(t.tipoAcreedor,t.runPersona,t.nombrePersona,t.paisPersona)})),console.log(Gu),Gu.forEach((function(t){Bu(t.tipoAcreedor,t.runPersona,t.nombrePersona,t.paisPersona)}))})),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Patente_por_Inscripcion"),Object(O["j"])("idInscripcion","==",parseInt(t)))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();Hu.push(o)}))})).then((function(){console.log("PATENTES"),console.log(Hu),Hu.forEach((function(t){console.log(t.patente),console.log(t.inscripcionPrendaRVM),console.log(t.inscripcionProhibicionGravarEnajenar),console.log(t.alzamiento),zu(t.patente,t.inscripcionPrendaRVM,t.inscripcionProhibicionGravarEnajenar,t.alzamiento)}))})))}))})).then((function(){console.log("ALZAMIENTO"),console.log(Eu)}))}function Zu(t,o,e,n,a,i,r,c,s,l,u,d,p,m,h,g,f,v,b,j,E,I){var R=this,C=arguments.length>22&&void 0!==arguments[22]?arguments[22]:[],A=arguments.length>23&&void 0!==arguments[23]?arguments[23]:[],P=arguments.length>24&&void 0!==arguments[24]?arguments[24]:[],N=arguments.length>25&&void 0!==arguments[25]?arguments[25]:[],D=arguments.length>26&&void 0!==arguments[26]?arguments[26]:[],y=arguments.length>27&&void 0!==arguments[27]&&arguments[27],T=arguments.length>28?arguments[28]:void 0,F=arguments.length>29?arguments[29]:void 0,M=arguments.length>30?arguments[30]:void 0;console.log("loading");var x=!0;if(P.forEach((function(t){t[0]&&console.log("VALIDANDO PATENTES")})),!g&&P.length>0&&(g=!0),console.log(i),9==i.length&&Du(i)||(x=!1,console.log("NUMERO REPERTORIO NOTARIO FORMATO INCORRECTO"),alert("Numero repertorio notario formato incorrecto")),y||0!=N.length||(x=!1,console.log("NO HAY CONTRATO"),alert("No hay contrato")),x){var z=0;console.log("validate"),v&&(z=y?3:1),Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Inscripcion_Prenda")).then((function(x){var w=x.docs.length+1;console.log(w),Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Solicitud_Inscripcion_Prenda"),localStorage.id_revisar.toString()),{privacidadDocumento:t,fechaSuscripcion:o,fechaOtorgamientoEscritura:e,fechaProtocolizacionContratoPrivado:n,fechaAutorizacionContratoPrivado:a,numeroRepertorioNotario:i,numeroRepertorioContratoPrenda:-1,prohibicionGravarEnajenar:r,nombre_notaria:c,nombreRequiriente:s,runRequiriente:l,correoRequiriente:u,fechaRequirente:d,activoFijo:p,bienesAgropecuarios:m,derechosIntangibles:h,prendaVehiculo:g,montoActuacion:M,montoTotal:f,estadoPrimario:z,estadoSecundario:0,usuarioCreador:F,oficina:T,firma:!1}).then((function(){Object(O["e"])(Object(O["a"])(Eh,"Patente_por_Inscripcion")).then((function(t){var o=t.docs.length+1;console.log(o),P.forEach((function(t){Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Patente_por_Inscripcion"),o.toString()),{patente:t["patente"],inscripcionPrendaRVM:t["rvm"],inscripcionProhibicionGravarEnajenar:t["GoE"],alzamiento:!1,idInscripcion:w}),o+=1}))})),Object(O["e"])(Object(O["a"])(Eh,"Persona_Solicitud")).then((function(t){var o=t.docs.length+1;console.log(o),Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Persona_Solicitud"),o.toString()),{tipoContratante:0,tipoAcreedor:b,runPersona:j,nombrePersona:E,idInscripcion:w,paisPersona:I}),o+=1,C.forEach((function(t){var e=t["pais"];""==e&&(e="Chile"),Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Persona_Solicitud"),o.toString()),{tipoContratante:1,tipoAcreedor:t["Tipo"],runPersona:t["Id"],nombrePersona:t["Name"],idInscripcion:w,paisPersona:e}),o+=1})),A.forEach((function(t){var e=t["pais"];""==e&&(e="Chile"),Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Persona_Solicitud"),o.toString()),{tipoContratante:2,tipoAcreedor:t["Tipo"],runPersona:t["Id"],nombrePersona:t["Name"],idInscripcion:w,paisPersona:e}),o+=1}))}));var t=new Date;Object(O["e"])(Object(O["a"])(Eh,"Bitacora")).then((function(o){var e=o.docs.length,n=w;Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Bitacora"),e.toString()),{idInscripcion:n,idModificacion:"",idAlzamiento:"",idUser:localStorage.mail,comment:"Solicitud de Inscricpion Creada",fechaCambio:t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()})}));var o=null;Object(O["e"])(Object(O["a"])(Eh,"Document_RPsD")).then((function(t){var e=t.docs.length,n=t.docs[e-1];o=n.data().numero_repertorio_RPsD})).then((function(){Object(O["e"])(Object(O["a"])(Eh,"Document_RPsD")).then(function(){var t=Object(L["a"])(regeneratorRuntime.mark((function t(e){var n,a,i,r,c,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.docs.length,console.log("Entro"),console.log(N),console.log(D),console.log("---------------------"),a=0;case 6:if(!(a<N.length)){t.next=22;break}return i=Object(bo["c"])(Ih,N[a].name),t.next=10,Object(bo["d"])(i,N[a]);case 10:return t.next=12,Object(bo["a"])(i);case 12:r=t.sent,console.log("MY URL"),console.log(r),console.log(n.toString()),console.log("---------------------"),Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Document_RPsD"),n.toString()),{id_alzamiento:"",id_modificacion:n.toString(),idInscripcion:w,"año_repertorio_del_contrato":(new Date).getFullYear(),numero_repertorio_RPsD:o+1,url:r,contrato:!0}),n+=1;case 19:a++,t.next=6;break;case 22:a=0;case 23:if(!(a<D.length)){t.next=35;break}return c=Object(bo["c"])(Ih,D[a].name),t.next=27,Object(bo["d"])(c,D[a]);case 27:return t.next=29,Object(bo["a"])(c);case 29:s=t.sent,Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Document_RPsD"),n.toString()),{idInscripcion:w,id_alzamiento:"",id_modificacion:n.toString(),"año_repertorio_del_contrato":(new Date).getFullYear(),numero_repertorio_RPsD:o+1,url:s,contrato:!1}),n+=1;case 32:a++,t.next=23;break;case 35:case"end":return t.stop()}}),t)})));return function(o){return t.apply(this,arguments)}}())})).then((function(){var t=new _["a"],o=document.createElement("canvas");S()(R.$refs.content,{scale:1},{canvas:o}).then((function(o){var e=o.toDataURL("image/jpeg",1);t.addImage(e,"JPEG",20,20,120,120),t.save("InscripcionPrenda.pdf")})),console.log("EVERYTHING ITS SEND SUCCESFULLY"),0==v?alert("Solicitud Guardada Exitosamente"):(alert("Solicitud Enviada Exitosamente"),R.$router.push({path:"/Dashboard/".concat(localStorage.rol,"/").concat(localStorage.user,"/MisSolicitudes")})),console.log("PAGANDO EN CAJA"),Yu("I",w.toString(),1,F),y&&setTimeout((function(){var t="http://ec2-75-101-231-83.compute-1.amazonaws.com:4033/api/checkout/pay",o='{"id_persona":"'+localStorage.rutLog+'", "numero_repertorio":"'+Su+'", "monto":'+f+"}";fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:o}).then((function(t){t.json().then((function(t){alert(t.msg),console.log("PAGADO"),Yu("I",w.toString(),2,F),R.redirect()}))}))}),1500)}))}))}))}}var Wu=[];function Xu(){Object(O["e"])(Object(O["a"])(Eh,"Precios")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();Wu.push(o)})),console.log(Wu)}))}var Ku,Qu={mounted:function(){var t=this;this.clean(),console.log("MOUNT"),Xu(),setTimeout((function(){console.log("DINERO");var t=document.getElementById("monto");t.innerHTML="$"+Wu[0]["precio"];var o=document.getElementById("monto2");o.innerHTML="$"+Wu[0]["precio"];var e=document.getElementById("monto3");e.innerHTML="$0"}),1500),console.log(localStorage.id_revisar+" "+localStorage.tipo_revisar),Ju(parseInt(localStorage.id_revisar),localStorage.tipo_revisar),setTimeout((function(){console.log("SOLICITUD2"),console.log(Eu);var o=document.getElementById("tipoDeDocumento");o.value=Eu.privacidadDocumento;var e=new Event("change");o.dispatchEvent(e),o.disabled=!0,setTimeout((function(){if("Publico"==Eu.privacidadDocumento){var t=document.getElementById("FechaOtorgamiento"),o=document.getElementById("FechaSubscripcion");t.value=Eu.fechaOtorgamientoEscritura,o.value=Eu.fechaSuscripcion,t.disabled=!0,o.disabled=!0}else if("Privado"==Eu.privacidadDocumento){var e=document.getElementById("FechaAutorizacion"),n=document.getElementById("FechaProtocolizacion");e.value=Eu.fechaAutorizacionContratoPrivado,n.value=Eu.fechaProtocolizacionContratoPrivado,e.disabled=!0,n.disabled=!0}}),500),setTimeout((function(){var t=Eu.numeroRepertorioNotario.split("-"),o=document.getElementById("foliorepnontaria"),e=document.getElementById("anorepnotaria"),n=document.getElementById("gravaroenajenar"),a=document.getElementById("checkinscactfijo"),i=document.getElementById("checkinscbagropec"),r=document.getElementById("checkinscderecheint"),c=document.getElementById("checkinscvehic");n.checked=Eu.prohibicionGravarEnajenar,a.checked=Eu.activoFijo,i.checked=Eu.bienesAgropecuarios,r.checked=Eu.derechosIntangibles,c.checked=Eu.prendaVehiculo,o.value=t[0],e.value=t[1],n.disabled=!0,a.disabled=!0,i.disabled=!0,r.disabled=!0,c.disabled=!0,o.disabled=!0,e.disabled=!0}),500);var n=document.getElementById("tipodepersona"),a=document.getElementById("runacreedor"),i=document.getElementById("nombresacreedor"),r=document.getElementById("apellidopaterno"),c=document.getElementById("apellidomaterno"),s=Lu[0].nombrePersona.split(" ");n.value=Lu[0].tipoAcreedor,a.value=Lu[0].runPersona,i.value=s[0],r.value=s[1],c.value=s[2],n.disabled=!0,a.disabled=!0,i.disabled=!0,c.disabled=!0,r.disabled=!0,t.items_Constituyentes=Tu,t.items_Deudores=Fu,console.log("deudores"),console.log(t.items_Deudores),t.total_itemsVehiculos=yu,t.items_Contrato=Mu,console.log("estoy aqui en contratos, lo que esta abajo"),console.log(t.items_Contrato),t.items_Anexos=xu}),2e3)},name:"Dashboard",data:function(){return{opcion:localStorage.my_opts.split(","),username:localStorage.user,tipoDoc:"",FOtorgamiento:"",FSuscripcion:"",FAutorizacion:"",FProtocolizacion:"",RepNotaria:"",anioRepNotaria:"",ProhibGravEnajenar:!1,tipoPersona:"Natural",run:"",id:"",pais:"",rut:"",razonsocial:"",Apaterno:"",Amaterno:"",nombres:"",nombreRequirente:"",nDocRequirente:"",correoRequirente:"",fechaRequirente:this.currentDateTime,Bienes:[!1,!1,!1,!1],constituyentes:[],deudores:[],vehiculos:[],contrato:null,anexos:null,notaria:"",rol:localStorage.rol,total_itemsVehiculos:new Array,items_Constituyentes:new Array,items_Deudores:new Array,items_Contrato:new Array,items_Anexos:new Array}},props:{},methods:{getNotaria:function(t){this.notaria=t},gettipoDoc:function(t){this.tipoDoc=t},getFOtorgamiento:function(t){this.FOtorgamiento=t},getFSuscripcion:function(t){this.FSuscripcion=t},getFAutorizacion:function(t){this.FAutorizacion=t},getFProtocolizacion:function(t){this.FProtocolizacion=t},getRepNotaria:function(t){this.RepNotaria=t},getanioRepNotaria:function(t){this.anioRepNotaria=t},getProhibGravEnajenar:function(t){this.ProhibGravEnajenar=t},gettipoPersona:function(t){this.tipoPersona=t},getrun:function(t){this.run=t},getid:function(t){this.id=t},getpais:function(t){this.pais=t},getrut:function(t){this.rut=t},getrazonsocial:function(t){this.razonsocial=t},getApaterno:function(t){this.Apaterno=t},getAmaterno:function(t){this.Amaterno=t},getnombreRequirente:function(t){this.nombreRequirente=t},getrutRequirente:function(t){this.nDocRequirente=t},getCorreoRequirente:function(t){this.correoRequirente=t},currentDateTime:function(){var t=new Date,o=t.getDate()+"-"+(t.getMonth()+1)+"-"+t.getFullYear();return o},getFechaRequirente:function(t){this.fechaRequirente=t},getnombres:function(t){this.nombres=t},getBienes:function(t){this.Bienes=t},getConstituyentes:function(t){this.constituyentes=t,console.log("Constituyentes:"+this.constituyentes)},getDeudores:function(t){this.deudores=t,console.log("Deudores:"+this.deudores)},getVehiculos:function(t){this.vehiculos=t},getContrato:function(t){this.contrato=t,console.log("Contrato:"+this.contrato)},getAnexos:function(t){this.anexos=t,console.log("Anexos:"+this.anexos)},crearInscripcion:function(t){var o,e,n=this;"Natural"==this.tipoPersona?(o=this.run,e=this.nombres+" "+this.Apaterno+" "+this.Amaterno):"Juridica"==this.tipoPersona?(o=this.rut,e=this.razonsocial):(o=this.id,e=this.nombres),console.log(this.Bienes);var a=new XMLHttpRequest,i="http://ec2-75-101-231-83.compute-1.amazonaws.com:4030/api/users/user?run="+o;a.open("GET",i),a.send(),a.onload=function(){if(200==a.status){var i=JSON.parse(a.response);i.valid?Zu(n.tipoDoc.toString(),n.FSuscripcion.toString(),n.FOtorgamiento.toString(),n.FProtocolizacion.toString(),n.FAutorizacion.toString(),Eu.numeroRepertorioNotario,n.ProhibGravEnajenar,n.notaria,n.nombreRequirente,n.nDocRequirente,n.correoRequirente,n.fechaRequirente,n.Bienes[0],n.Bienes[1],n.Bienes[2],n.Bienes[3],n.monto,t,n.tipoPersona,o.toString(),e,n.pais,n.constituyentes,n.deudores,n.vehiculos,n.contrato,n.anexos,"FUNCIONARIOOFICINA"==localStorage.rol,"mi oficina",localStorage.mail,Wu[0]["precio"]):alert(i.msg)}n.downloadWithCSS()}},downloadWithCSS:function(){var t=new _["a"],o=document.createElement("canvas");S()(this.$refs.content,{scale:1},{canvas:o}).then((function(o){var e=o.toDataURL("image/jpeg",.8);t.addImage(e,"JPEG",20,20,120,120),t.save("sample.pdf")}))},clean:function(){Hu.length=0,Lu.length=0,Uu.length=0,Gu.length=0,$u.length=0,Vu.length=0,yu.length=0,Fu.length=0,Tu.length=0,xu.length=0,Mu.length=0}},components:{AntecedentesFormulario:rn,AcreedorFormulario:mn,ConstituyentesFormulario:On,DeudoresFormulario:Rn,VehiculosFormulario:zn,ContratoFormulario:Un,AnexosFormulario:Jn,Menu:B,Navbar:ut,RequirenteFormulario:ea,Monto:sa,ArchivosLectura:Ws}},td=Qu,od=(e("8fa5"),Object(p["a"])(td,Pu,Nu,!1,null,"758659af",null)),ed=od.exports,nd=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"dashboard"}},[e("Menu",{attrs:{opciones:t.opcion}}),e("Navbar",{attrs:{username:t.username}}),e("div",{attrs:{id:"contenedor"}},["FUNCIONARIOOFICINA"==t.rol?e("RequirenteFormulario",{on:{getnombreRequirente:t.getnombreRequirente,getrutRequirente:t.getrutRequirente,getCorreoRequirente:t.getCorreoRequirente,getFechaRequirente:t.getFechaRequirente,change:function(o){return t.getPatentes()}}}):t._e(),e("AntecedentesFormularioALZA",{attrs:{rol:t.rol,esInsc:!1},on:{gettipoDoc:t.gettipoDoc,getFOtorgamiento:t.getFOtorgamiento,getFSuscripcion:t.getFSuscripcion,getFAutorizacion:t.getFAutorizacion,getFProtocolizacion:t.getFProtocolizacion,getRepNotaria:t.getRepNotaria,getanioRepNotaria:t.getanioRepNotaria,getProhibGravEnajenar:t.getProhibGravEnajenar,getBienes:t.getBienes,getNotaria:t.getNotaria,change:function(o){return t.getPatentes()}}}),e("VehiculosFormulario",{attrs:{tipoSolicitud:t.Alzamiento,items:t.patentes}}),"FUNCIONARIOOFICINA"!==t.rol?e("ContratoFormulario",{on:{getContrato:t.getContrato}}):t._e(),"FUNCIONARIOOFICINA"!==t.rol?e("AnexosFormulario",{on:{getAnexos:t.getAnexos}}):t._e(),e("Bitacora"),e("Monto"),e("div",{staticClass:"row d-flex justify-content-center",attrs:{id:"contenedor"}},[e("button",{staticClass:"col-2 titleButton",on:{click:function(o){return t.alzar(!1)}}},[t._v("Guardar")]),e("button",{staticClass:"col-2 titleButton",on:{click:function(o){return t.alzar(!0)}}},[t._v("Enviar")])])],1)],1)},ad=[];function id(t){if(!t.includes("-"))return!1;t=t.split("-");var o=t[0],e=t[1],n=(new Date).getFullYear();return!isNaN(o)&&!o.includes("e")&&4==o.length&&!(e>n||isNaN(e)||e.length<4)}var rd,cd=[],sd=[],ld=[],ud=[],dd=[],pd=[];function md(t,o,e,n){var a=["El pago no se realizo","Hubo intencion de pagar","Pagado"];Object(O["e"])(Object(O["a"])(Eh,"Counter_N_RPsD")).then((function(n){var a=n.docs[0].data(),i=a.counter;i=i<10?"000"+i.toString():i<100?"00"+i.toString():i<1e3?"0"+i.toString():i.toString();var r=a.year;rd=i+"-"+r.toString(),console.log("RPSD: "+rd),1==e?"I"==t?Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Inscripcion_Prenda",o),{estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}).then((function(){console.log("ACTUALIZADO")})):"M"==t?Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Modificacion_Prenda",o),{estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}):"A"==t&&Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Alzamiento_Prenda",o),{estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}):"I"==t?Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Inscripcion_Prenda",o),{estadoSecundario:e}).then((function(){console.log("ACTUALIZADO")})):"M"==t?Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Modificacion_Prenda",o),{estadoSecundario:e}):"A"==t&&Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Alzamiento_Prenda",o),{estadoSecundario:e}),Object(O["i"])(Object(O["c"])(Eh,"Counter_N_RPsD","0"),{counter:a.counter+1})})),Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Inscripcion_Prenda")).then((function(i){var r="";console.log("INSCRIPCION TEST");var c=i.docs;c.forEach((function(i){console.log(i.id),i.id.toString()==o.toString()&&(console.log("MISMO ID"),r=i.data().estadoPrimario);var c=new Date;Object(O["e"])(Object(O["a"])(Eh,"Bitacora")).then((function(i){var s=i.docs.length,l="",u="",d="";"I"==t?l=o:"M"==t?u=o:"A"==t&&(d=o),Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Bitacora"),s.toString()),{idInscripcion:l,idModificacion:u,idAlzamiento:d,idUser:n,comment:a[e],fechaCambio:c.getFullYear()+"-"+(c.getMonth()+1)+"-"+c.getDate(),estadoPrimario:r})}))}))}))}function hd(t,o){console.log("ENTREEEEEEEE"),"I"==o?Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Inscripcion_Prenda")).then((function(o){var e=o.docs;e.forEach((function(o){t==o.id&&(Ku=o.data(),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Document_RPsD"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();o.contrato?ud.push(o):dd.push(o)}))})).then((function(){console.log("ARCHIVOS"),console.log(ud),console.log(dd)})),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Persona_Solicitud"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();0==o.tipoContratante?cd.push(o):1==o.tipoContratante?sd.push(o):2==o.tipoContratante&&ld.push(o)}))})).then((function(){console.log("PERSONAS"),console.log(cd),console.log(sd),console.log(ld)})),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Patente_por_Inscripcion"),Object(O["j"])("idInscripcion","==",parseInt(t)))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();pd.push(o)}))})).then((function(){console.log("PATENTES"),console.log(pd),pd.forEach((function(t){console.log(t.patente),console.log(t.inscripcionPrendaRVM),console.log(t.inscripcionProhibicionGravarEnajenar),console.log(t.alzamiento)}))})))}))})).then((function(){console.log("INSCRIPCION"),console.log(pd)})):"M"==o?Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Modificacion_Prenda")).then((function(o){var e=o.docs;e.forEach((function(o){t==o.id&&(Ku=o.data(),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Document_RPsD"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();o.contrato?ud.push(o):dd.push(o)}))})).then((function(){console.log("ARCHIVOS"),console.log(ud),console.log(dd)})))}))})).then((function(){console.log("MODIFICACION"),console.log(Ku)})):"A"==o&&Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Alzamiento_Prenda")).then((function(o){var e=o.docs;e.forEach((function(o){t==o.id&&(Ku=o.data(),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Document_RPsD"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();o.contrato?ud.push(o):dd.push(o)}))})).then((function(){console.log("ARCHIVOS"),console.log(ud),console.log(dd)})))}))})).then((function(){console.log("ALZAMIENTO"),console.log(Ku)}))}function gd(t,o,e,n){var a=null,i="",r="",c="";console.log("LOL FILES"),0==n?i=e:1==n?r=e:2==n&&(c=e),console.log("INSCRIPCION: "+i),console.log("MODIFICACION: "+r),console.log("ALZAMIENTO: "+c),Object(O["e"])(Object(O["a"])(Eh,"Document_RPsD")).then((function(t){var o=t.docs.length,e=t.docs[o-1];a=e.data().numero_repertorio_RPsD})).then((function(){Object(O["e"])(Object(O["a"])(Eh,"Document_RPsD")).then(function(){var e=Object(L["a"])(regeneratorRuntime.mark((function e(n){var s,l,u,d,p,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:s=n.docs.length,console.log("Entro"),console.log(t.length),l=0;case 4:if(!(l<t.length)){e.next=17;break}return u=Object(bo["c"])(Ih,t[l].name),e.next=8,Object(bo["d"])(u,t[l]);case 8:return e.next=10,Object(bo["a"])(u);case 10:d=e.sent,console.log("CONTRATO"),Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Document_RPsD"),s.toString()),{id_alzamiento:i,id_modificacion:r,idInscripcion:c,"año_repertorio_del_contrato":(new Date).getFullYear(),numero_repertorio_RPsD:a+1,url:d,contrato:!0}),s+=1;case 14:l++,e.next=4;break;case 17:l=0;case 18:if(!(l<o.length)){e.next=31;break}return p=Object(bo["c"])(Ih,o[l].name),e.next=22,Object(bo["d"])(p,o[l]);case 22:return e.next=24,Object(bo["a"])(p);case 24:m=e.sent,console.log("ADJUNTO"),Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Document_RPsD"),s.toString()),{idInscripcion:i,id_alzamiento:c,id_modificacion:r,"año_repertorio_del_contrato":(new Date).getFullYear(),numero_repertorio_RPsD:a+1,url:m,contrato:!1}),s+=1;case 28:l++,e.next=18;break;case 31:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})).then((function(){console.log("EVERYTHING ITS SEND SUCCESFULLY"),alert("ALZAMIENTO SE ENVIO DE FORMA CORRECTA")}))}function fd(t,o,e,n,a,i,r,c,s,l,u){var d=this,p=arguments.length>11&&void 0!==arguments[11]?arguments[11]:[],m=arguments.length>12&&void 0!==arguments[12]?arguments[12]:[],h=arguments.length>13?arguments[13]:void 0,g=arguments.length>14?arguments[14]:void 0,f=arguments.length>15?arguments[15]:void 0,v=arguments.length>16?arguments[16]:void 0,b=arguments.length>17?arguments[17]:void 0,_=arguments.length>18?arguments[18]:void 0,j=arguments.length>19?arguments[19]:void 0,S=arguments.length>20&&void 0!==arguments[20]&&arguments[20],E=arguments.length>21?arguments[21]:void 0,I=!0;if(console.log("VERYFING..."),console.log(E),console.log(c),9==c.length||id(c)||(I=!1,console.log("NUMERO REPERTORIO NOTARIO FORMATO INCORRECTO"),alert("Numero repertorio notaria en formato incorrecto")),I){var R=0;console.log("validate"),j&&(R=S?3:1),console.log("MY DATA"),console.log(h),console.log(R);var C=null;Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Alzamiento_Prenda")).then((function(t){C=t.docs.length})).then((function(){Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Solicitud_Alzamiento_Prenda"),localStorage.id_revisar.toString()),{privacidadDocumento:o,fechaOtorgamientoEscritura:e,fechaSuscripcion:n,fecha_de_autorizacion:a,fechaProtocolizacionContratoPrivado:i,nombre_notaria:r,numeroRepertorioNotario:c,runRequiriente:t,nombreRequiriente:s,correoRequiriente:l,fechaRequirente:u,estadoPrimario:R,estadoSecundario:0,activoFijo:h,bienesAgropecuarios:g,prendaVehiculo:v,derechosIntangibles:f,"año_repertorio_RPsD":b,numeroRepertorioContratoPrenda:_,oficina:"mi oficina",firma:!1,usuarioCreador:localStorage.mail}).then((function(){console.log("PAGANDO EN CAJA"),md("A",C.toString(),1,localStorage.mail),S&&setTimeout((function(){var t="http://ec2-75-101-231-83.compute-1.amazonaws.com:4033/api/checkout/pay",o='{"id_persona":"'+localStorage.rutLog+'", "numero_repertorio":"'+rd+'", "monto":'+(parseInt(jd[1]["precio"])+parseInt(_d))+"}";fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:o}).then((function(t){t.json().then((function(t){alert(t.msg),console.log("PAGADO"),md("A",C.toString(),2,localStorage.mail),d.redirect()}))}))}),1500)})),1==R&&gd(p,m,C.toString(),2)}))}}var vd=[];function bd(t){vd=[],Object(O["e"])(Object(O["a"])(Eh,"Patente_por_Inscripcion")).then((function(o){var e=o.docs;e.forEach((function(o){var e=o.data();e.idInscripcion==t&&vd.push(e)})),console.log("AUTOS: "),console.log(vd)}))}var Od,_d=0,jd=[];function Sd(){Object(O["e"])(Object(O["a"])(Eh,"Precios")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();jd.push(o)})),console.log(jd)}))}function Ed(t){Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Inscripcion_Prenda")).then((function(o){var e=o.docs;e.forEach((function(o){var e=o.data();console.log(o.id),o.id==t&&(Od=e.numeroRepertorioContratoPrenda)}))}))}var Id=!1;function Rd(){Id=!1}var Cd,Ad,Pd={mounted:function(){var t=this;console.log("STARTER DATA"),console.log(localStorage.id_revisar),console.log(localStorage.tipo_revisar),Rd(),hd(localStorage.id_revisar,localStorage.tipo_revisar),Ed(localStorage.idSol),Sd(),bd(localStorage.idSol),setTimeout((function(){t.items=[],console.log(vd);var o=document.getElementById("monto");console.log("Enviando REQUEST"),_d=0,vd.forEach((function(o){if(_d+=parseInt(jd[9]["precio"]),1==o.inscripcionPrendaRVM){var e=new XMLHttpRequest,n="http://ec2-75-101-231-83.compute-1.amazonaws.com:4031/API/vehicles/licensePlates?patente="+o.patente;e.open("GET",n),e.send(),e.onload=function(){if(200==e.status){var t=JSON.parse(e.response);console.log("MENSAJE RECIVIDO"),console.log(t),Id=!1,t.solicitudes.forEach((function(t){console.log(t.numero_repertorio),console.log(Od.split("-")[1]+"-"+Od.split("-")[0]),t.numero_repertorio==Od.split("-")[1]+"-"+Od.split("-")[0]&&(console.log("ENTRO EN PENDIENTE"),Id=!0)})),console.log("LARGO"),console.log(t.solicitudes.length),console.log(Id)}}}var a={patente:o.patente,rvm:o.inscripcionPrendaRVM,GoE:o.inscripcionProhibicionGravarEnajenar,costo:"-"};t.items.push(a)})),o.innerHTML="$"+(parseInt(jd[1]["precio"])+parseInt(_d));var e=document.getElementById("monto2");e.innerHTML="$"+parseInt(jd[1]["precio"]);var n=document.getElementById("monto3");n.innerHTML="$"+parseInt(_d)}),1500)},name:"Dashboard",data:function(){return{opcion:localStorage.my_opts.split(","),username:localStorage.user,tipoDoc:"",FOtorgamiento:"",FSuscripcion:"",FAutorizacion:"",FProtocolizacion:"",RepNotaria:"",anioRepNotaria:"",ProhibGravEnajenar:!1,tipoPersona:"Natural",run:"",id:"",pais:"",rut:"",razonsocial:"",Apaterno:"",Amaterno:"",nombres:"",nombreRequirente:"",nDocRequirente:"",correoRequirente:"",fechaRequirente:this.currentDateTime(),Bienes:[],constituyentes:[],deudores:[],vehiculos:[],contrato:null,anexos:null,notaria:""}},props:{rol:{type:String,default:localStorage.rol}},components:{AntecedentesFormularioALZA:za,VehiculosFormulario:Ua,ContratoFormulario:Un,AnexosFormulario:Jn,Monto:sa,Menu:B,Navbar:ut,RequirenteFormulario:ea,Bitacora:Ja},methods:{getNotaria:function(t){this.notaria=t},gettipoDoc:function(t){this.tipoDoc=t},getFOtorgamiento:function(t){this.FOtorgamiento=t},getFSuscripcion:function(t){this.FSuscripcion=t},getFAutorizacion:function(t){this.FAutorizacion=t},getFProtocolizacion:function(t){this.FProtocolizacion=t},getRepNotaria:function(t){this.RepNotaria=t},getanioRepNotaria:function(t){this.anioRepNotaria=t},getProhibGravEnajenar:function(t){this.ProhibGravEnajenar=t},gettipoPersona:function(t){this.tipoPersona=t},getrun:function(t){this.run=t},getid:function(t){this.id=t},getpais:function(t){this.pais=t},getrut:function(t){this.rut=t},getrazonsocial:function(t){this.razonsocial=t},getApaterno:function(t){this.Apaterno=t},getAmaterno:function(t){this.Amaterno=t},getnombreRequirente:function(t){this.nombreRequirente=t},getrutRequirente:function(t){this.nDocRequirente=t},getCorreoRequirente:function(t){this.correoRequirente=t},currentDateTime:function(){var t=new Date,o=t.getDate()+"-"+(t.getMonth()+1)+"-"+t.getFullYear();return o},getFechaRequirente:function(t){this.fechaRequirente=t},getnombres:function(t){this.nombres=t},getBienes:function(t){this.Bienes=t},getConstituyentes:function(t){this.constituyentes=t,console.log("Constituyentes:"+this.constituyentes)},getDeudores:function(t){this.deudores=t,console.log("Deudores:"+this.deudores)},getVehiculos:function(t){this.vehiculos=t},getContrato:function(t){this.contrato=t,console.log("Contrato:"+this.contrato)},getAnexos:function(t){this.anexos=t,console.log("Anexos:"+this.anexos)},alzar:function(t){console.log("MIS BIENES"),console.log(this.Bienes[0]),console.log(this.Bienes[1]),console.log(this.Bienes[2]),console.log(this.Bienes[3]),Id?(alert("Existen patentes con solicitudes pendientes"),console.log("NO ESTA PERMITIDO")):fd(this.nDocRequirente,this.tipoDoc.toString(),this.FOtorgamiento.toString(),this.FSuscripcion.toString(),this.FAutorizacion.toString(),this.FProtocolizacion.toString(),this.notaria,(this.RepNotaria+"-"+this.anioRepNotaria).toString(),this.nombreRequirente,this.correoRequirente,this.fechaRequirente,this.contrato,this.anexos,this.Bienes[0],this.Bienes[1],this.Bienes[2],this.Bienes[3],-1,-1,t,"FUNCIONARIOOFICINA"==localStorage.rol,"Mi oficina")}}},Nd=Pd,Dd=(e("add5"),Object(p["a"])(Nd,nd,ad,!1,null,"6697e9af",null)),yd=Dd.exports,Td=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"dashboard"}},[e("Menu",{attrs:{opciones:t.opcion}}),e("Navbar",{attrs:{username:t.username}}),e("div",{staticClass:"right"},[e("h1",{attrs:{bold:""}},[t._v("ALZAMIENTO PARCIAL")]),"FUNCIONARIOOFICINA"==t.rol?e("RequirenteFormulario"):t._e(),e("AntecedentesFormularioALZA",{attrs:{rol:t.rol},on:{gettipoDoc:t.gettipoDoc,getFOtorgamiento:t.getFOtorgamiento,getFSuscripcion:t.getFSuscripcion,getFAutorizacion:t.getFAutorizacion,getFProtocolizacion:t.getFProtocolizacion,getRepNotaria:t.getRepNotaria,getanioRepNotaria:t.getanioRepNotaria,getProhibGravEnajenar:t.getProhibGravEnajenar,getBienes:t.getBienes,getNotaria:t.getNotaria}}),e("VehiculoLecturaFormularioALZAMIENTOPARCIAL",{attrs:{tipoSolicitud:t.Modificacion,items:t.items}}),"FUNCIONARIOOFICINA"!==t.rol?e("ContratoFormulario",{on:{getContrato:t.getContrato}}):t._e(),"FUNCIONARIOOFICINA"!==t.rol?e("AnexosFormulario",{on:{getAnexos:t.getAnexos}}):t._e(),e("Bitacora"),e("Monto"),e("div",{staticClass:"row d-flex justify-content-center",attrs:{id:"contenedor"}},[e("button",{staticClass:"col-2 titleButton",on:{click:function(o){return t.modificar(!1)}}},[t._v("Guardar")]),e("button",{staticClass:"col-2 titleButton",on:{click:function(o){return t.modificar(!0)}}},[t._v("Enviar")])])],1)],1)},Fd=[];function Md(t){if(!t.includes("-"))return!1;t=t.split("-");var o=t[0],e=t[1],n=(new Date).getFullYear();return!isNaN(o)&&!o.includes("e")&&4==o.length&&!(e>n||isNaN(e)||e.length<4)}function xd(t,o,e,n){var a=["El pago no se realizo","Hubo intencion de pagar","Pagado"];Object(O["e"])(Object(O["a"])(Eh,"Counter_N_RPsD")).then((function(n){var a=n.docs[0].data(),i=a.counter;i=i<10?"000"+i.toString():i<100?"00"+i.toString():i<1e3?"0"+i.toString():i.toString();var r=a.year;Cd=i+"-"+r.toString(),console.log("RPSD: "+Cd),1==e?"I"==t?Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Inscripcion_Prenda",o),{estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}).then((function(){console.log("ACTUALIZADO")})):"M"==t?Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Modificacion_Prenda",o),{estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}):"A"==t&&Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Alzamiento_Prenda",o),{estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}):"I"==t?Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Inscripcion_Prenda",o),{estadoSecundario:e}).then((function(){console.log("ACTUALIZADO")})):"M"==t?Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Modificacion_Prenda",o),{estadoSecundario:e}):"A"==t&&Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Alzamiento_Prenda",o),{estadoSecundario:e}),Object(O["i"])(Object(O["c"])(Eh,"Counter_N_RPsD","0"),{counter:a.counter+1})})),Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Inscripcion_Prenda")).then((function(i){var r="";console.log("INSCRIPCION TEST");var c=i.docs;c.forEach((function(i){console.log(i.id),i.id.toString()==o.toString()&&(console.log("MISMO ID"),r=i.data().estadoPrimario);var c=new Date;Object(O["e"])(Object(O["a"])(Eh,"Bitacora")).then((function(i){var s=i.docs.length,l="",u="",d="";"I"==t?l=o:"M"==t?u=o:"A"==t&&(d=o),Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Bitacora"),s.toString()),{idInscripcion:l,idModificacion:u,idAlzamiento:d,idUser:n,comment:a[e],fechaCambio:c.getFullYear()+"-"+(c.getMonth()+1)+"-"+c.getDate(),estadoPrimario:r})}))}))}))}function zd(t,o,e,n){var a=null,i="",r="",c="";console.log("MOD DATA"),console.log(e),console.log(n),0==n?i=e:1==n?r=e:2==n&&(c=e),Object(O["e"])(Object(O["a"])(Eh,"Document_RPsD")).then((function(t){var o=t.docs.length,e=t.docs[o-1];a=e.data().numero_repertorio_RPsD})).then((function(){Object(O["e"])(Object(O["a"])(Eh,"Document_RPsD")).then(function(){var e=Object(L["a"])(regeneratorRuntime.mark((function e(n){var s,l,u,d,p,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:s=n.docs.length,console.log("Entro"),l=0;case 3:if(!(l<t.length)){e.next=15;break}return u=Object(bo["c"])(Ih,t[l].name),e.next=7,Object(bo["d"])(u,t[l]);case 7:return e.next=9,Object(bo["a"])(u);case 9:d=e.sent,Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Document_RPsD"),s.toString()),{id_alzamiento:i,id_modificacion:r,idInscripcion:c,"año_repertorio_del_contrato":(new Date).getFullYear(),numero_repertorio_RPsD:a+1,url:d,contrato:!0}),s+=1;case 12:l++,e.next=3;break;case 15:l=0;case 16:if(!(l<o.length)){e.next=28;break}return p=Object(bo["c"])(Ih,o[l].name),e.next=20,Object(bo["d"])(p,o[l]);case 20:return e.next=22,Object(bo["a"])(p);case 22:m=e.sent,Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Document_RPsD"),s.toString()),{idInscripcion:i,id_alzamiento:c,id_modificacion:r,"año_repertorio_del_contrato":(new Date).getFullYear(),numero_repertorio_RPsD:a+1,url:m,contrato:!1}),s+=1;case 25:l++,e.next=16;break;case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})).then((function(){console.log("EVERYTHING ITS SEND SUCCESFULLY"),alert("Todo se ha mandado correctamente")}))}var wd=[],Bd=[],kd=[],qd=[],Ld=[],Ud=[];function Gd(t,o){console.log("ENTREEEEEEEE"),"I"==o?Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Inscripcion_Prenda")).then((function(o){var e=o.docs;e.forEach((function(o){t==o.id&&(Ad=o.data(),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Document_RPsD"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();o.contrato?qd.push(o):Ld.push(o)}))})).then((function(){console.log("ARCHIVOS"),console.log(qd),console.log(Ld)})),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Persona_Solicitud"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();0==o.tipoContratante?wd.push(o):1==o.tipoContratante?Bd.push(o):2==o.tipoContratante&&kd.push(o)}))})).then((function(){console.log("PERSONAS"),console.log(wd),console.log(Bd),console.log(kd)})),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Patente_por_Inscripcion"),Object(O["j"])("idInscripcion","==",parseInt(t)))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();Ud.push(o)}))})).then((function(){console.log("PATENTES"),console.log(Ud),Ud.forEach((function(t){console.log(t.patente),console.log(t.inscripcionPrendaRVM),console.log(t.inscripcionProhibicionGravarEnajenar),console.log(t.alzamiento)}))})))}))})).then((function(){console.log("INSCRIPCION"),console.log(Ud)})):"M"==o?Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Modificacion_Prenda")).then((function(o){var e=o.docs;e.forEach((function(o){t==o.id&&(Ad=o.data(),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Document_RPsD"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();o.contrato?qd.push(o):Ld.push(o)}))})).then((function(){console.log("ARCHIVOS"),console.log(qd),console.log(Ld)})))}))})).then((function(){console.log("MODIFICACION"),console.log(Ad)})):"A"==o&&Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Alzamiento_Prenda")).then((function(o){var e=o.docs;e.forEach((function(o){t==o.id&&(Ad=o.data(),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Document_RPsD"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();o.contrato?qd.push(o):Ld.push(o)}))})).then((function(){console.log("ARCHIVOS"),console.log(qd),console.log(Ld)})))}))})).then((function(){console.log("ALZAMIENTO"),console.log(Ad)}))}function $d(t,o,e,n,a){var i=this,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",c=arguments.length>6?arguments[6]:void 0,s=arguments.length>7?arguments[7]:void 0,l=arguments.length>8?arguments[8]:void 0,u=arguments.length>9?arguments[9]:void 0,d=arguments.length>10?arguments[10]:void 0,p=arguments.length>11&&void 0!==arguments[11]?arguments[11]:"",m=arguments.length>12&&void 0!==arguments[12]?arguments[12]:"",h=arguments.length>13?arguments[13]:void 0,g=arguments.length>14&&void 0!==arguments[14]?arguments[14]:[],f=arguments.length>15&&void 0!==arguments[15]?arguments[15]:[],v=arguments.length>16?arguments[16]:void 0,b=arguments.length>17?arguments[17]:void 0,_=arguments.length>18?arguments[18]:void 0,j=arguments.length>19?arguments[19]:void 0,S=arguments.length>20?arguments[20]:void 0,E=arguments.length>21&&void 0!==arguments[21]?arguments[21]:"",I=arguments.length>22&&void 0!==arguments[22]?arguments[22]:"",R=arguments.length>23?arguments[23]:void 0,C=!0;if(console.log(c),9==c.length||Md(c)||(C=!1,console.log("NUMERO REPERTORIO NOTARIO FORMATO INCORRECTO"),alert("Numero repertorio notario formato incorrecto")),C){var A=null;Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Modificacion_Prenda")).then((function(t){A=t.docs.length,console.log(A),console.log("submit")})).then((function(){Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Solicitud_Modificacion_Prenda"),localStorage.id_revisar.toString()),{privacidadDocumento:t,fechaSuscripcion:o,fechaOtorgamientoEscritura:e,fechaProtocolizacionContratoPrivado:n,fechaAutorizacionContratoPrivado:a,numeroRepertorioNotario:c,parrafo_modificacion_generica:s,tipo_de_persona:l,nombre_acreedor:u,rut_acreedor:d,nombreRequiriente:p,runRequiriente:m,estadoPrimario:h,estadoSecundario:0,activoFijo:v,bienesAgropecuarios:b,derechosIntangibles:_,prendaVehiculo:j,nombre_notaria:r,prohibicionGravarEnajenar:S,correoRequiriente:E,fechaRequirente:I,revisorAsignado:-1,firma:!1,tipoModificacion:1,usuarioCreador:localStorage.mail}).then((function(){console.log("PAGANDO EN CAJA"),R?(xd("M",A.toString(),1,localStorage.mail),"FUNCIONARIOOFICINA"==localStorage.rol&&setTimeout((function(){var t="http://ec2-75-101-231-83.compute-1.amazonaws.com:4033/api/checkout/pay",o='{"id_persona":"'+localStorage.rutLog+'", "numero_repertorio":"'+Cd+'", "monto":'+(parseInt(Vd[2]["precio"])+parseInt(Wd))+"}";fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:o}).then((function(t){t.json().then((function(t){alert(t.msg),console.log("PAGADO"),xd("M",A.toString(),2,localStorage.mail),i.redirect()}))}))}),1500),alert("Solicitud Enviada Exitosamente")):alert("Solicitud Guardada Exitosamente")})),console.log("entros"),1==h&&(zd(g,f,A,1),console.log("enviado"))}))}}var Vd=[];function Hd(){Object(O["e"])(Object(O["a"])(Eh,"Precios")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();Vd.push(o)})),console.log(Vd)}))}var Yd=[];function Jd(t){Yd=[],Object(O["e"])(Object(O["a"])(Eh,"Patente_por_Inscripcion")).then((function(o){var e=o.docs;e.forEach((function(o){var e=o.data();e.idInscripcion==t&&Yd.push(e)})),console.log("AUTOS: "),console.log(Yd)}))}var Zd,Wd=0;function Xd(t){Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Inscripcion_Prenda")).then((function(o){var e=o.docs;e.forEach((function(o){var e=o.data();console.log(o.id),o.id==t&&(Zd=e.numeroRepertorioContratoPrenda)}))}))}var Kd=!1;function Qd(){Kd=!1}var tp,op,ep={name:"formularioModificacion",mounted:function(){var t=this;console.log("STARTER DATA"),console.log(localStorage.id_revisar),console.log(localStorage.tipo_revisar),Gd(localStorage.id_revisar,localStorage.tipo_revisar),Hd(),Qd(),Xd(localStorage.idSol),Jd(localStorage.idSol),setTimeout((function(){console.log("SOLICITUD DE INSCRIPCION ENCONTRADA EN ESTOS LUGARES"),console.log(Ad),t.items=[],console.log(Yd);var o=document.getElementById("monto");console.log("Enviando REQUEST"),Wd=0,Yd.forEach((function(o){if(Wd+=parseInt(Vd[8]["precio"]),1==o.inscripcionPrendaRVM){var e=new XMLHttpRequest,n="http://ec2-75-101-231-83.compute-1.amazonaws.com:4031/API/vehicles/licensePlates?patente="+o.patente;e.open("GET",n),e.send(),e.onload=function(){if(200==e.status){var t=JSON.parse(e.response);console.log("MENSAJE RECIVIDO"),console.log(t),Kd=!1,t.solicitudes.forEach((function(t){console.log(t.numero_repertorio),console.log(Zd.split("-")[1]+"-"+Zd.split("-")[0]),t.numero_repertorio==Zd.split("-")[1]+"-"+Zd.split("-")[0]&&(console.log("ENTRO EN PENDIENTE"),Kd=!0)})),console.log("LARGO"),console.log(t.solicitudes.length),console.log(Kd)}}}var a={patente:o.patente,rvm:o.inscripcionPrendaRVM,GoE:o.inscripcionProhibicionGravarEnajenar,costo:"-"};t.items.push(a)})),o.innerHTML="$"+(parseInt(Vd[2]["precio"])+parseInt(Wd));var e=document.getElementById("monto2");e.innerHTML="$"+parseInt(Vd[2]["precio"]);var n=document.getElementById("monto3");n.innerHTML="$"+parseInt(Wd)}),1e3)},data:function(){return{opcion:localStorage.my_opts.split(","),username:localStorage.user,tipoDoc:"",FOtorgamiento:"",FSuscripcion:"",FAutorizacion:"",FProtocolizacion:"",RepNotaria:"",anioRepNotaria:"",ProhibGravEnajenar:!1,tipoPersona:"Natural",run:"",id:"",pais:"",rut:"",razonsocial:"",Apaterno:"",Amaterno:"",nombres:"",nombreRequirente:"",nDocRequirente:"",correoRequirente:"",fechaRequirente:this.currentDateTime(),Bienes:[],constituyentes:[{}],deudores:[{}],vehiculos:[{}],contrato:null,anexos:null}},props:{rol:{type:String,default:localStorage.rol},items:{type:Array,default:new Array}},components:{AntecedentesFormularioALZA:za,VehiculoLecturaFormularioALZAMIENTOPARCIAL:Ua,ContratoFormulario:Un,RequirenteFormulario:ea,AnexosFormulario:Jn,Monto:sa,Menu:B,Navbar:ut,Bitacora:Ja},methods:{getNotaria:function(t){this.notaria=t},gettipoDoc:function(t){this.tipoDoc=t},getFOtorgamiento:function(t){this.FOtorgamiento=t},getFSuscripcion:function(t){this.FSuscripcion=t},getFAutorizacion:function(t){this.FAutorizacion=t},getFProtocolizacion:function(t){this.FProtocolizacion=t},getRepNotaria:function(t){this.RepNotaria=t},getanioRepNotaria:function(t){this.anioRepNotaria=t},getProhibGravEnajenar:function(t){this.ProhibGravEnajenar=t},gettipoPersona:function(t){this.tipoPersona=t},getrun:function(t){this.run=t},getid:function(t){this.id=t},getpais:function(t){this.pais=t},getrut:function(t){this.rut=t},getrazonsocial:function(t){this.razonsocial=t},getApaterno:function(t){this.Apaterno=t},getAmaterno:function(t){this.Amaterno=t},getnombreRequirente:function(t){this.nombreRequirente=t},getrutRequirente:function(t){this.nDocRequirente=t},getCorreoRequirente:function(t){this.correoRequirente=t},currentDateTime:function(){var t=new Date,o=t.getDate()+"-"+(t.getMonth()+1)+"-"+t.getFullYear();return o},getFechaRequirente:function(t){this.fechaRequirente=t},getnombres:function(t){this.nombres=t},getBienes:function(t){this.Bienes=t},getConstituyentes:function(t){this.constituyentes=t,console.log("Constituyentes:"+this.constituyentes)},getDeudores:function(t){this.deudores=t,console.log("Deudores:"+this.deudores)},getVehiculos:function(t){this.vehiculos=t},getContrato:function(t){this.contrato=t,console.log("Contrato:"+this.contrato)},getAnexos:function(t){this.anexos=t,console.log("Anexos:"+this.anexos)},downloadWithCSS:function(){var t=new _["a"],o=document.createElement("canvas");S()(this.$refs.content,{scale:1},{canvas:o}).then((function(o){var e=o.toDataURL("image/jpeg",1);t.addImage(e,"JPEG",20,20,120,120),t.save("ModificacionPrenda.pdf")}))},modificar:function(t){var o=0;t&&(o="FUNCIONARIONOTARIA"==localStorage.rol?1:3),Kd?(alert("Existen patentes con solicitudes pendientes"),console.log("NO ESTA PERMITIDO")):($d(this.tipoDoc.toString(),this.FSuscripcion.toString(),this.FOtorgamiento.toString(),this.FProtocolizacion.toString(),this.FAutorizacion.toString(),this.notaria,(this.RepNotaria+"-"+this.anioRepNotaria).toString(),"parrafo_modificacion_generica",this.tipoPersona,this.nombres,this.run,this.nombreRequirente,this.nDocRequirente,o,this.contrato,this.anexos,this.Bienes[0],this.Bienes[1],this.Bienes[2],this.Bienes[3],this.ProhibGravEnajenar,this.correoRequirente,this.fechaRequirente,t),this.downloadWithCSS())}}},np=ep,ap=(e("e0e5"),Object(p["a"])(np,Td,Fd,!1,null,"744c22a8",null)),ip=ap.exports,rp=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"dashboard"}},[e("Menu",{attrs:{opciones:t.opcion}}),e("Navbar",{attrs:{username:t.username}}),e("div",{staticClass:"right"},[e("h1",{attrs:{bold:""}},[t._v("CAMBIO ACREEDOR")]),"FUNCIONARIOOFICINA"==t.rol?e("RequirenteFormulario"):t._e(),e("AntecedentesFormularioALZA",{attrs:{rol:t.rol},on:{gettipoDoc:t.gettipoDoc,getFOtorgamiento:t.getFOtorgamiento,getFSuscripcion:t.getFSuscripcion,getFAutorizacion:t.getFAutorizacion,getFProtocolizacion:t.getFProtocolizacion,getRepNotaria:t.getRepNotaria,getanioRepNotaria:t.getanioRepNotaria,getProhibGravEnajenar:t.getProhibGravEnajenar,getBienes:t.getBienes,getNotaria:t.getNotaria}}),e("AcreedorFormulario",{on:{gettipoPersona:t.gettipoPersona,getrun:t.getrun,getid:t.getid,getpais:t.getpais,getrut:t.getrut,getrazonsocial:t.getrazonsocial,getApaterno:t.getApaterno,getAmaterno:t.getAmaterno,getnombres:t.getnombres}}),e("VehiculoLecturaFormulario",{attrs:{tipoSolicitud:t.Modificacion,items:t.items}}),"FUNCIONARIOOFICINA"!==t.rol?e("ContratoFormulario",{on:{getContrato:t.getContrato}}):t._e(),"FUNCIONARIOOFICINA"!==t.rol?e("AnexosFormulario",{on:{getAnexos:t.getAnexos}}):t._e(),e("Bitacora"),e("Monto"),e("div",{staticClass:"row d-flex justify-content-center",attrs:{id:"contenedor"}},[e("button",{staticClass:"col-2 titleButton",on:{click:function(o){return t.modificar(!1)}}},[t._v("Guardar")]),e("button",{staticClass:"col-2 titleButton",on:{click:function(o){return t.modificar(!0)}}},[t._v("Enviar")])])],1)],1)},cp=[];function sp(t){if(!t.includes("-"))return!1;t=t.split("-");var o=t[0],e=t[1],n=(new Date).getFullYear();return!isNaN(o)&&!o.includes("e")&&4==o.length&&!(e>n||isNaN(e)||e.length<4)}function lp(t,o,e,n){var a=["El pago no se realizo","Hubo intencion de pagar","Pagado"];Object(O["e"])(Object(O["a"])(Eh,"Counter_N_RPsD")).then((function(n){var a=n.docs[0].data(),i=a.counter;i=i<10?"000"+i.toString():i<100?"00"+i.toString():i<1e3?"0"+i.toString():i.toString();var r=a.year;tp=i+"-"+r.toString(),console.log("RPSD: "+tp),1==e?"I"==t?Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Inscripcion_Prenda",o),{estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}).then((function(){console.log("ACTUALIZADO")})):"M"==t?Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Modificacion_Prenda",o),{estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}):"A"==t&&Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Alzamiento_Prenda",o),{estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}):"I"==t?Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Inscripcion_Prenda",o),{estadoSecundario:e}).then((function(){console.log("ACTUALIZADO")})):"M"==t?Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Modificacion_Prenda",o),{estadoSecundario:e}):"A"==t&&Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Alzamiento_Prenda",o),{estadoSecundario:e}),Object(O["i"])(Object(O["c"])(Eh,"Counter_N_RPsD","0"),{counter:a.counter+1})})),Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Inscripcion_Prenda")).then((function(i){var r="";console.log("INSCRIPCION TEST");var c=i.docs;c.forEach((function(i){console.log(i.id),i.id.toString()==o.toString()&&(console.log("MISMO ID"),r=i.data().estadoPrimario);var c=new Date;Object(O["e"])(Object(O["a"])(Eh,"Bitacora")).then((function(i){var s=i.docs.length,l="",u="",d="";"I"==t?l=o:"M"==t?u=o:"A"==t&&(d=o),Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Bitacora"),s.toString()),{idInscripcion:l,idModificacion:u,idAlzamiento:d,idUser:n,comment:a[e],fechaCambio:c.getFullYear()+"-"+(c.getMonth()+1)+"-"+c.getDate(),estadoPrimario:r})}))}))}))}var up=[],dp=[],pp=[],mp=[],hp=[],gp=[];function fp(t,o){console.log("ENTREEEEEEEE"),"I"==o?Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Inscripcion_Prenda")).then((function(o){var e=o.docs;e.forEach((function(o){t==o.id&&(op=o.data(),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Document_RPsD"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();o.contrato?mp.push(o):hp.push(o)}))})).then((function(){console.log("ARCHIVOS"),console.log(mp),console.log(hp)})),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Persona_Solicitud"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();0==o.tipoContratante?up.push(o):1==o.tipoContratante?dp.push(o):2==o.tipoContratante&&pp.push(o)}))})).then((function(){console.log("PERSONAS"),console.log(up),console.log(dp),console.log(pp)})),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Patente_por_Inscripcion"),Object(O["j"])("idInscripcion","==",parseInt(t)))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();gp.push(o)}))})).then((function(){console.log("PATENTES"),console.log(gp),gp.forEach((function(t){console.log(t.patente),console.log(t.inscripcionPrendaRVM),console.log(t.inscripcionProhibicionGravarEnajenar),console.log(t.alzamiento)}))})))}))})).then((function(){console.log("INSCRIPCION"),console.log(gp)})):"M"==o?Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Modificacion_Prenda")).then((function(o){var e=o.docs;e.forEach((function(o){t==o.id&&(op=o.data(),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Document_RPsD"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();o.contrato?mp.push(o):hp.push(o)}))})).then((function(){console.log("ARCHIVOS"),console.log(mp),console.log(hp)})))}))})).then((function(){console.log("MODIFICACION"),console.log(op)})):"A"==o&&Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Alzamiento_Prenda")).then((function(o){var e=o.docs;e.forEach((function(o){t==o.id&&(op=o.data(),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Document_RPsD"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();o.contrato?mp.push(o):hp.push(o)}))})).then((function(){console.log("ARCHIVOS"),console.log(mp),console.log(hp)})))}))})).then((function(){console.log("ALZAMIENTO"),console.log(op)}))}function vp(t,o,e,n){var a=null,i="",r="",c="";0==n?i=e:1==n?r=e:2==n&&(c=e),Object(O["e"])(Object(O["a"])(Eh,"Document_RPsD")).then((function(t){var o=t.docs.length,e=t.docs[o-1];a=e.data().numero_repertorio_RPsD})).then((function(){Object(O["e"])(Object(O["a"])(Eh,"Document_RPsD")).then(function(){var e=Object(L["a"])(regeneratorRuntime.mark((function e(n){var s,l,u,d,p,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:s=n.docs.length,console.log("Entro"),l=0;case 3:if(!(l<t.length)){e.next=15;break}return u=Object(bo["c"])(Ih,t[l].name),e.next=7,Object(bo["d"])(u,t[l]);case 7:return e.next=9,Object(bo["a"])(u);case 9:d=e.sent,Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Document_RPsD"),s.toString()),{id_alzamiento:i,id_modificacion:r,idInscripcion:c,"año_repertorio_del_contrato":(new Date).getFullYear(),numero_repertorio_RPsD:a+1,url:d,contrato:!0}),s+=1;case 12:l++,e.next=3;break;case 15:l=0;case 16:if(!(l<o.length)){e.next=28;break}return p=Object(bo["c"])(Ih,o[l].name),e.next=20,Object(bo["d"])(p,o[l]);case 20:return e.next=22,Object(bo["a"])(p);case 22:m=e.sent,Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Document_RPsD"),s.toString()),{idInscripcion:i,id_alzamiento:c,id_modificacion:r,"año_repertorio_del_contrato":(new Date).getFullYear(),numero_repertorio_RPsD:a+1,url:m,contrato:!1}),s+=1;case 25:l++,e.next=16;break;case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})).then((function(){console.log("EVERYTHING ITS SEND SUCCESFULLY"),alert("Todo se ha mandado correctamente")}))}function bp(t,o,e,n,a){var i=this,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",c=arguments.length>6?arguments[6]:void 0,s=arguments.length>7?arguments[7]:void 0,l=arguments.length>8?arguments[8]:void 0,u=arguments.length>9?arguments[9]:void 0,d=arguments.length>10?arguments[10]:void 0,p=arguments.length>11&&void 0!==arguments[11]?arguments[11]:"",m=arguments.length>12&&void 0!==arguments[12]?arguments[12]:"",h=arguments.length>13?arguments[13]:void 0,g=arguments.length>14&&void 0!==arguments[14]?arguments[14]:[],f=arguments.length>15&&void 0!==arguments[15]?arguments[15]:[],v=arguments.length>16?arguments[16]:void 0,b=arguments.length>17?arguments[17]:void 0,_=arguments.length>18?arguments[18]:void 0,j=arguments.length>19?arguments[19]:void 0,S=arguments.length>20?arguments[20]:void 0,E=arguments.length>21&&void 0!==arguments[21]?arguments[21]:"",I=arguments.length>22&&void 0!==arguments[22]?arguments[22]:"",R=arguments.length>23?arguments[23]:void 0,C=!0;if(console.log(c),9==c.length||sp(c)||(C=!1,console.log("NUMERO REPERTORIO NOTARIO FORMATO INCORRECTO"),alert("Numero repertorio notario formato incorrecto")),C){var A=null;Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Modificacion_Prenda")).then((function(t){A=t.docs.length,console.log(A),console.log("submit")})).then((function(){Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Solicitud_Modificacion_Prenda"),localStorage.id_revisar.toString()),{privacidadDocumento:t,fechaSuscripcion:o,fechaOtorgamientoEscritura:e,fechaProtocolizacionContratoPrivado:n,fechaAutorizacionContratoPrivado:a,numeroRepertorioNotario:c,parrafo_modificacion_generica:s,tipo_de_persona:l,nombre_acreedor:u,rut_acreedor:d,nombreRequiriente:p,runRequiriente:m,estadoPrimario:h,estadoSecundario:0,activoFijo:v,bienesAgropecuarios:b,derechosIntangibles:_,prendaVehiculo:j,nombre_notaria:r,prohibicionGravarEnajenar:S,correoRequiriente:E,fechaRequirente:I,revisorAsignado:-1,firma:!1,tipoModificacion:2,usuarioCreador:localStorage.mail}).then((function(){console.log("PAGANDO EN CAJA"),R?(lp("M",A.toString(),1,localStorage.mail),"FUNCIONARIOOFICINA"==localStorage.rol&&setTimeout((function(){var t="http://ec2-75-101-231-83.compute-1.amazonaws.com:4033/api/checkout/pay",o='{"id_persona":"'+localStorage.rutLog+'", "numero_repertorio":"'+tp+'", "monto":'+(parseInt(Op[2]["precio"])+parseInt(Ip))+"}";fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:o}).then((function(t){t.json().then((function(t){alert(t.msg),console.log("PAGADO"),lp("M",A.toString(),2,localStorage.mail),i.redirect()}))}))}),1500),alert("Solicitud Enviada Exitosamente")):alert("Solicitud Guardada Exitosamente")})),console.log("entros"),1==h&&(vp(g,f,A,1),console.log("enviado"))}))}}var Op=[];function _p(){Object(O["e"])(Object(O["a"])(Eh,"Precios")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();Op.push(o)})),console.log(Op)}))}var jp=[];function Sp(t){jp=[],Object(O["e"])(Object(O["a"])(Eh,"Patente_por_Inscripcion")).then((function(o){var e=o.docs;e.forEach((function(o){var e=o.data();e.idInscripcion==t&&jp.push(e)})),console.log("AUTOS: "),console.log(jp)}))}var Ep,Ip=0;function Rp(t){Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Inscripcion_Prenda")).then((function(o){var e=o.docs;e.forEach((function(o){var e=o.data();console.log(o.id),o.id==t&&(Ep=e.numeroRepertorioContratoPrenda)}))}))}var Cp=!1;function Ap(){Cp=!1}var Pp,Np,Dp={mounted:function(){var t=this;console.log("STARTER DATA"),console.log(localStorage.id_revisar),console.log(localStorage.tipo_revisar),fp(localStorage.id_revisar,localStorage.tipo_revisar),_p(),Ap(),Rp(localStorage.idSol),Sp(localStorage.idSol),setTimeout((function(){t.items=[],console.log(jp);var o=document.getElementById("monto");console.log("Enviando REQUEST"),Ip=0,jp.forEach((function(o){if(Ip+=parseInt(Op[9]["precio"]),1==o.inscripcionPrendaRVM){var e=new XMLHttpRequest,n="http://ec2-75-101-231-83.compute-1.amazonaws.com:4031/API/vehicles/licensePlates?patente="+o.patente;e.open("GET",n),e.send(),e.onload=function(){if(200==e.status){var t=JSON.parse(e.response);console.log("MENSAJE RECIVIDO"),console.log(t),Cp=!1,t.solicitudes.forEach((function(t){console.log(t.numero_repertorio),console.log(Ep.split("-")[1]+"-"+Ep.split("-")[0]),t.numero_repertorio==Ep.split("-")[1]+"-"+Ep.split("-")[0]&&(console.log("ENTRO EN PENDIENTE"),Cp=!0)})),console.log("LARGO"),console.log(t.solicitudes.length),console.log(Cp)}}}var a={patente:o.patente,rvm:o.inscripcionPrendaRVM,GoE:o.inscripcionProhibicionGravarEnajenar,costo:"-"};t.items.push(a)})),o.innerHTML="$"+(parseInt(Op[2]["precio"])+parseInt(Ip)),o.innerHTML="$"+(parseInt(Op[2]["precio"])+parseInt(Ip));var e=document.getElementById("monto2");e.innerHTML="$"+parseInt(Op[2]["precio"]);var n=document.getElementById("monto3");n.innerHTML="$"+parseInt(Ip)}),1e3)},name:"formularioModificacion",data:function(){return{opcion:localStorage.my_opts.split(","),username:localStorage.user,tipoDoc:"",FOtorgamiento:"",FSuscripcion:"",FAutorizacion:"",FProtocolizacion:"",RepNotaria:"",anioRepNotaria:"",ProhibGravEnajenar:!1,tipoPersona:"Natural",run:"",id:"",pais:"",rut:"",razonsocial:"",Apaterno:"",Amaterno:"",nombres:"",nombreRequirente:"",nDocRequirente:"",correoRequirente:"",fechaRequirente:this.currentDateTime(),Bienes:[],constituyentes:[{}],deudores:[{}],vehiculos:[{}],contrato:null,anexos:null}},props:{rol:{type:String,default:localStorage.rol},items:{type:Array,default:new Array}},components:{AntecedentesFormularioALZA:za,AcreedorFormulario:mn,VehiculoLecturaFormulario:Ua,RequirenteFormulario:ea,ContratoFormulario:Un,AnexosFormulario:Jn,Monto:sa,Menu:B,Navbar:ut,Bitacora:Ja},methods:{getNotaria:function(t){this.notaria=t},gettipoDoc:function(t){this.tipoDoc=t},getFOtorgamiento:function(t){this.FOtorgamiento=t},getFSuscripcion:function(t){this.FSuscripcion=t},getFAutorizacion:function(t){this.FAutorizacion=t},getFProtocolizacion:function(t){this.FProtocolizacion=t},getRepNotaria:function(t){this.RepNotaria=t},getanioRepNotaria:function(t){this.anioRepNotaria=t},getProhibGravEnajenar:function(t){this.ProhibGravEnajenar=t},gettipoPersona:function(t){this.tipoPersona=t},getrun:function(t){this.run=t},getid:function(t){this.id=t},getpais:function(t){this.pais=t},getrut:function(t){this.rut=t},getrazonsocial:function(t){this.razonsocial=t},getApaterno:function(t){this.Apaterno=t},getAmaterno:function(t){this.Amaterno=t},getnombreRequirente:function(t){this.nombreRequirente=t},getrutRequirente:function(t){this.nDocRequirente=t},getCorreoRequirente:function(t){this.correoRequirente=t},currentDateTime:function(){var t=new Date,o=t.getDate()+"-"+(t.getMonth()+1)+"-"+t.getFullYear();return o},getFechaRequirente:function(t){this.fechaRequirente=t},getnombres:function(t){this.nombres=t},getBienes:function(t){this.Bienes=t},getConstituyentes:function(t){this.constituyentes=t,console.log("Constituyentes:"+this.constituyentes)},getDeudores:function(t){this.deudores=t,console.log("Deudores:"+this.deudores)},getVehiculos:function(t){this.vehiculos=t},getContrato:function(t){this.contrato=t,console.log("Contrato:"+this.contrato)},getAnexos:function(t){this.anexos=t,console.log("Anexos:"+this.anexos)},downloadWithCSS:function(){var t=new _["a"],o=document.createElement("canvas");S()(this.$refs.content,{scale:1},{canvas:o}).then((function(o){var e=o.toDataURL("image/jpeg",1);t.addImage(e,"JPEG",20,20,120,120),t.save("ModificacionPrenda.pdf")}))},modificar:function(t){var o=this,e=0;t&&(e="FUNCIONARIONOTARIA"==localStorage.rol?1:3);var n=new XMLHttpRequest,a="http://ec2-75-101-231-83.compute-1.amazonaws.com:4030/api/users/user?run="+this.run;n.open("GET",a),n.send(),n.onload=function(){if(200==n.status){var t=JSON.parse(n.response);t.valid&&(Cp?alert("Existen patentes con solicitudes pendientes"):(bp(o.tipoDoc.toString(),o.FSuscripcion.toString(),o.FOtorgamiento.toString(),o.FProtocolizacion.toString(),o.FAutorizacion.toString(),o.notaria,(o.RepNotaria+"-"+o.anioRepNotaria).toString(),"parrafo_modificacion_generica",o.tipoPersona,o.nombres+" "+o.Apaterno+" "+o.Amaterno,o.run,o.nombreRequirente,o.nDocRequirente,e,o.contrato,o.anexos,o.Bienes[0],o.Bienes[1],o.Bienes[2],o.Bienes[3],o.ProhibGravEnajenar,o.correoRequirente,o.fechaRequirente),o.downloadWithCSS()))}}}}},yp=Dp,Tp=(e("1dc2"),Object(p["a"])(yp,rp,cp,!1,null,"59515cea",null)),Fp=Tp.exports,Mp=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"dashboard"}},[e("Menu",{attrs:{opciones:t.opcion}}),e("Navbar",{attrs:{username:t.username}}),e("div",{staticClass:"right"},[e("h1",{attrs:{bold:""}},[t._v("PROHIBICION DE ACTO")]),"FUNCIONARIOOFICINA"==t.rol?e("RequirenteFormulario"):t._e(),e("AntecedentesFormularioALZA",{attrs:{rol:t.rol},on:{gettipoDoc:t.gettipoDoc,getFOtorgamiento:t.getFOtorgamiento,getFSuscripcion:t.getFSuscripcion,getFAutorizacion:t.getFAutorizacion,getFProtocolizacion:t.getFProtocolizacion,getRepNotaria:t.getRepNotaria,getanioRepNotaria:t.getanioRepNotaria,getProhibGravEnajenar:t.getProhibGravEnajenar,getBienes:t.getBienes,getNotaria:t.getNotaria}}),"FUNCIONARIOOFICINA"!==t.rol?e("ContratoFormulario",{on:{getContrato:t.getContrato}}):t._e(),"FUNCIONARIOOFICINA"!==t.rol?e("AnexosFormulario",{on:{getAnexos:t.getAnexos}}):t._e(),e("Bitacora"),e("Monto"),e("div",{staticClass:"row d-flex justify-content-center",attrs:{id:"contenedor"}},[e("button",{staticClass:"col-2 titleButton",on:{click:function(o){return t.modificar(!1)}}},[t._v("Guardar")]),e("button",{staticClass:"col-2 titleButton",on:{click:function(o){return t.modificar(!0)}}},[t._v("Enviar")])])],1)],1)},xp=[];function zp(t){if(!t.includes("-"))return!1;t=t.split("-");var o=t[0],e=t[1],n=(new Date).getFullYear();return!isNaN(o)&&!o.includes("e")&&4==o.length&&!(e>n||isNaN(e)||e.length<4)}function wp(t,o,e,n){var a=["El pago no se realizo","Hubo intencion de pagar","Pagado"];Object(O["e"])(Object(O["a"])(Eh,"Counter_N_RPsD")).then((function(n){var a=n.docs[0].data(),i=a.counter;i=i<10?"000"+i.toString():i<100?"00"+i.toString():i<1e3?"0"+i.toString():i.toString();var r=a.year;Pp=i+"-"+r.toString(),console.log("RPSD: "+Pp),1==e?"I"==t?Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Inscripcion_Prenda",o),{estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}).then((function(){console.log("ACTUALIZADO")})):"M"==t?Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Modificacion_Prenda",o),{estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}):"A"==t&&Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Alzamiento_Prenda",o),{estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}):"I"==t?Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Inscripcion_Prenda",o),{estadoSecundario:e}).then((function(){console.log("ACTUALIZADO")})):"M"==t?Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Modificacion_Prenda",o),{estadoSecundario:e}):"A"==t&&Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Alzamiento_Prenda",o),{estadoSecundario:e}),Object(O["i"])(Object(O["c"])(Eh,"Counter_N_RPsD","0"),{counter:a.counter+1})})),Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Inscripcion_Prenda")).then((function(i){var r="";console.log("INSCRIPCION TEST");var c=i.docs;c.forEach((function(i){console.log(i.id),i.id.toString()==o.toString()&&(console.log("MISMO ID"),r=i.data().estadoPrimario);var c=new Date;Object(O["e"])(Object(O["a"])(Eh,"Bitacora")).then((function(i){var s=i.docs.length,l="",u="",d="";"I"==t?l=o:"M"==t?u=o:"A"==t&&(d=o),Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Bitacora"),s.toString()),{idInscripcion:l,idModificacion:u,idAlzamiento:d,idUser:n,comment:a[e],fechaCambio:c.getFullYear()+"-"+(c.getMonth()+1)+"-"+c.getDate(),estadoPrimario:r})}))}))}))}var Bp=[],kp=[],qp=[],Lp=[],Up=[],Gp=[];function $p(t,o){console.log("ENTREEEEEEEE"),"I"==o?Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Inscripcion_Prenda")).then((function(o){var e=o.docs;e.forEach((function(o){t==o.id&&(Np=o.data(),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Document_RPsD"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();o.contrato?Lp.push(o):Up.push(o)}))})).then((function(){console.log("ARCHIVOS"),console.log(Lp),console.log(Up)})),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Persona_Solicitud"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();0==o.tipoContratante?Bp.push(o):1==o.tipoContratante?kp.push(o):2==o.tipoContratante&&qp.push(o)}))})).then((function(){console.log("PERSONAS"),console.log(Bp),console.log(kp),console.log(qp)})),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Patente_por_Inscripcion"),Object(O["j"])("idInscripcion","==",parseInt(t)))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();Gp.push(o)}))})).then((function(){console.log("PATENTES"),console.log(Gp),Gp.forEach((function(t){console.log(t.patente),console.log(t.inscripcionPrendaRVM),console.log(t.inscripcionProhibicionGravarEnajenar),console.log(t.alzamiento)}))})))}))})).then((function(){console.log("INSCRIPCION"),console.log(Gp)})):"M"==o?Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Modificacion_Prenda")).then((function(o){var e=o.docs;e.forEach((function(o){t==o.id&&(Np=o.data(),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Document_RPsD"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();o.contrato?Lp.push(o):Up.push(o)}))})).then((function(){console.log("ARCHIVOS"),console.log(Lp),console.log(Up)})))}))})).then((function(){console.log("MODIFICACION"),console.log(Np)})):"A"==o&&Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Alzamiento_Prenda")).then((function(o){var e=o.docs;e.forEach((function(o){t==o.id&&(Np=o.data(),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Document_RPsD"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();o.contrato?Lp.push(o):Up.push(o)}))})).then((function(){console.log("ARCHIVOS"),console.log(Lp),console.log(Up)})))}))})).then((function(){console.log("ALZAMIENTO"),console.log(Np)}))}function Vp(t,o,e,n){var a=null,i="",r="",c="";0==n?i=e:1==n?r=e:2==n&&(c=e),Object(O["e"])(Object(O["a"])(Eh,"Document_RPsD")).then((function(t){var o=t.docs.length,e=t.docs[o-1];a=e.data().numero_repertorio_RPsD})).then((function(){Object(O["e"])(Object(O["a"])(Eh,"Document_RPsD")).then(function(){var e=Object(L["a"])(regeneratorRuntime.mark((function e(n){var s,l,u,d,p,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:s=n.docs.length,console.log("Entro"),l=0;case 3:if(!(l<t.length)){e.next=15;break}return u=Object(bo["c"])(Ih,t[l].name),e.next=7,Object(bo["d"])(u,t[l]);case 7:return e.next=9,Object(bo["a"])(u);case 9:d=e.sent,Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Document_RPsD"),s.toString()),{id_alzamiento:i,id_modificacion:r,idInscripcion:c,"año_repertorio_del_contrato":(new Date).getFullYear(),numero_repertorio_RPsD:a+1,url:d,contrato:!0}),s+=1;case 12:l++,e.next=3;break;case 15:l=0;case 16:if(!(l<o.length)){e.next=28;break}return p=Object(bo["c"])(Ih,o[l].name),e.next=20,Object(bo["d"])(p,o[l]);case 20:return e.next=22,Object(bo["a"])(p);case 22:m=e.sent,Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Document_RPsD"),s.toString()),{idInscripcion:i,id_alzamiento:c,id_modificacion:r,"año_repertorio_del_contrato":(new Date).getFullYear(),numero_repertorio_RPsD:a+1,url:m,contrato:!1}),s+=1;case 25:l++,e.next=16;break;case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})).then((function(){console.log("EVERYTHING ITS SEND SUCCESFULLY"),alert("Todo se ha mandado correctamente")}))}function Hp(t,o,e,n,a){var i=this,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",c=arguments.length>6?arguments[6]:void 0,s=arguments.length>7?arguments[7]:void 0,l=arguments.length>8?arguments[8]:void 0,u=arguments.length>9?arguments[9]:void 0,d=arguments.length>10?arguments[10]:void 0,p=arguments.length>11&&void 0!==arguments[11]?arguments[11]:"",m=arguments.length>12&&void 0!==arguments[12]?arguments[12]:"",h=arguments.length>13?arguments[13]:void 0,g=arguments.length>14&&void 0!==arguments[14]?arguments[14]:[],f=arguments.length>15&&void 0!==arguments[15]?arguments[15]:[],v=arguments.length>16?arguments[16]:void 0,b=arguments.length>17?arguments[17]:void 0,_=arguments.length>18?arguments[18]:void 0,j=arguments.length>19?arguments[19]:void 0,S=arguments.length>20?arguments[20]:void 0,E=arguments.length>21&&void 0!==arguments[21]?arguments[21]:"",I=arguments.length>22&&void 0!==arguments[22]?arguments[22]:"",R=arguments.length>23?arguments[23]:void 0,C=!0;if(console.log(c),9==c.length||zp(c)||(C=!1,console.log("NUMERO REPERTORIO NOTARIO FORMATO INCORRECTO"),alert("Numero repertorio notario formato incorrecto")),C){var A=null;Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Modificacion_Prenda")).then((function(t){A=t.docs.length,console.log(A),console.log("submit")})).then((function(){Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Solicitud_Modificacion_Prenda"),localStorage.id_revisar.toString()),{privacidadDocumento:t,fechaSuscripcion:o,fechaOtorgamientoEscritura:e,fechaProtocolizacionContratoPrivado:n,fechaAutorizacionContratoPrivado:a,numeroRepertorioNotario:c,parrafo_modificacion_generica:s,tipo_de_persona:l,nombre_acreedor:u,rut_acreedor:d,nombreRequiriente:p,runRequiriente:m,estadoPrimario:h,estadoSecundario:0,activoFijo:v,bienesAgropecuarios:b,derechosIntangibles:_,prendaVehiculo:j,nombre_notaria:r,prohibicionGravarEnajenar:S,correoRequiriente:E,fechaRequirente:I,revisorAsignado:-1,firma:!1,tipoModificacion:3,usuarioCreador:localStorage.mail}).then((function(){console.log("PAGANDO EN CAJA"),R?(wp("M",A.toString(),1,localStorage.mail),"FUNCIONARIOOFICINA"==localStorage.rol&&setTimeout((function(){var t="http://ec2-75-101-231-83.compute-1.amazonaws.com:4033/api/checkout/pay",o='{"id_persona":"'+localStorage.rutLog+'", "numero_repertorio":"'+Pp+'", "monto":'+parseInt(Yp[2]["precio"])+"}";fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:o}).then((function(t){t.json().then((function(t){alert(t.msg),console.log("PAGADO"),wp("M",A.toString(),2,localStorage.mail),i.redirect()}))}))}),1500),alert("Solicitud Enviada Exitosamente")):alert("Solicitud Guardada Exitosamente")})),console.log("entros"),1==h&&(Vp(g,f,A,1),console.log("enviado"))}))}}var Yp=[];function Jp(){Object(O["e"])(Object(O["a"])(Eh,"Precios")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();Yp.push(o)})),console.log(Yp)}))}var Zp,Wp,Xp={mounted:function(){console.log("STARTER DATA"),console.log(localStorage.id_revisar),console.log(localStorage.tipo_revisar),$p(localStorage.id_revisar,localStorage.tipo_revisar),Jp(),setTimeout((function(){console.log(Np),console.log(Bp),console.log(kp),console.log(qp),console.log(Lp),console.log(Up),console.log(Gp);var t=document.getElementById("monto");t.innerHTML="$"+Yp[2]["precio"],t.innerHTML="$"+parseInt(Yp[2]["precio"]);var o=document.getElementById("monto2");o.innerHTML="$"+parseInt(Yp[2]["precio"]);var e=document.getElementById("monto3");e.innerHTML="$0"}),2e3)},name:"formularioModificacion",data:function(){return{opcion:localStorage.my_opts.split(","),username:localStorage.user,tipoDoc:"",FOtorgamiento:"",FSuscripcion:"",FAutorizacion:"",FProtocolizacion:"",RepNotaria:"",anioRepNotaria:"",ProhibGravEnajenar:!1,tipoPersona:"Natural",run:"",id:"",pais:"",rut:"",razonsocial:"",Apaterno:"",Amaterno:"",nombres:"",nombreRequirente:"",nDocRequirente:"",correoRequirente:"",fechaRequirente:this.currentDateTime(),Bienes:[],constituyentes:[{}],deudores:[{}],vehiculos:[{}],contrato:null,anexos:null}},props:{rol:{type:String,default:localStorage.rol}},components:{AntecedentesFormularioALZA:za,RequirenteFormulario:ea,ContratoFormulario:Un,AnexosFormulario:Jn,Monto:sa,Menu:B,Navbar:ut,Bitacora:Ja},methods:{getNotaria:function(t){this.notaria=t},gettipoDoc:function(t){this.tipoDoc=t},getFOtorgamiento:function(t){this.FOtorgamiento=t},getFSuscripcion:function(t){this.FSuscripcion=t},getFAutorizacion:function(t){this.FAutorizacion=t},getFProtocolizacion:function(t){this.FProtocolizacion=t},getRepNotaria:function(t){this.RepNotaria=t},getanioRepNotaria:function(t){this.anioRepNotaria=t},getProhibGravEnajenar:function(t){this.ProhibGravEnajenar=t},gettipoPersona:function(t){this.tipoPersona=t},getrun:function(t){this.run=t},getid:function(t){this.id=t},getpais:function(t){this.pais=t},getrut:function(t){this.rut=t},getrazonsocial:function(t){this.razonsocial=t},getApaterno:function(t){this.Apaterno=t},getAmaterno:function(t){this.Amaterno=t},getnombreRequirente:function(t){this.nombreRequirente=t},getrutRequirente:function(t){this.nDocRequirente=t},getCorreoRequirente:function(t){this.correoRequirente=t},currentDateTime:function(){var t=new Date,o=t.getDate()+"-"+(t.getMonth()+1)+"-"+t.getFullYear();return o},getFechaRequirente:function(t){this.fechaRequirente=t},getnombres:function(t){this.nombres=t},getBienes:function(t){this.Bienes=t},getConstituyentes:function(t){this.constituyentes=t,console.log("Constituyentes:"+this.constituyentes)},getDeudores:function(t){this.deudores=t,console.log("Deudores:"+this.deudores)},getVehiculos:function(t){this.vehiculos=t},getContrato:function(t){this.contrato=t,console.log("Contrato:"+this.contrato)},getAnexos:function(t){this.anexos=t,console.log("Anexos:"+this.anexos)},downloadWithCSS:function(){var t=new _["a"],o=document.createElement("canvas");S()(this.$refs.content,{scale:1},{canvas:o}).then((function(o){var e=o.toDataURL("image/jpeg",1);t.addImage(e,"JPEG",20,20,120,120),t.save("ModificacionPrenda.pdf")}))},modificar:function(t){var o=0;t&&(o="FUNCIONARIONOTARIA"==localStorage.rol?1:3),Hp(this.tipoDoc.toString(),this.FSuscripcion.toString(),this.FOtorgamiento.toString(),this.FProtocolizacion.toString(),this.FAutorizacion.toString(),this.notaria,(this.RepNotaria+"-"+this.anioRepNotaria).toString(),"parrafo_modificacion_generica",this.tipoPersona,this.nombres,this.run,this.nombreRequirente,this.nDocRequirente,o,this.contrato,this.anexos,this.Bienes[0],this.Bienes[1],this.Bienes[2],this.Bienes[3],this.ProhibGravEnajenar,this.correoRequirente,this.fechaRequirente,t),this.downloadWithCSS()}}},Kp=Xp,Qp=(e("f95a"),Object(p["a"])(Kp,Mp,xp,!1,null,"0c402ee0",null)),tm=Qp.exports,om=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"dashboard"}},[e("Menu",{attrs:{opciones:t.opcion}}),e("Navbar",{attrs:{username:t.username}}),e("div",{staticClass:"right"},[e("h1",{attrs:{bold:""}},[t._v("OTROS")]),"FUNCIONARIOOFICINA"==t.rol?e("RequirenteFormulario"):t._e(),e("AntecedentesFormularioALZA",{attrs:{rol:t.rol},on:{gettipoDoc:t.gettipoDoc,getFOtorgamiento:t.getFOtorgamiento,getFSuscripcion:t.getFSuscripcion,getFAutorizacion:t.getFAutorizacion,getFProtocolizacion:t.getFProtocolizacion,getRepNotaria:t.getRepNotaria,getanioRepNotaria:t.getanioRepNotaria,getProhibGravEnajenar:t.getProhibGravEnajenar,getBienes:t.getBienes,getNotaria:t.getNotaria}}),t._m(0),"FUNCIONARIOOFICINA"!==t.rol?e("ContratoFormulario",{on:{getContrato:t.getContrato}}):t._e(),"FUNCIONARIOOFICINA"!==t.rol?e("AnexosFormulario",{on:{getAnexos:t.getAnexos}}):t._e(),e("Bitacora"),e("Monto"),e("div",{staticClass:"row d-flex justify-content-center",attrs:{id:"contenedor"}},[e("button",{staticClass:"col-2 titleButton",on:{click:function(o){return t.modificar(!1)}}},[t._v("Guardar")]),e("button",{staticClass:"col-2 titleButton",on:{click:function(o){return t.modificar(!0)}}},[t._v("Enviar")])])],1)],1)},em=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"mb-3",attrs:{id:"textarea"}},[e("label",{staticClass:"form-label titleFormulario",attrs:{for:"textoOTRO"}},[t._v("RESUMA EL MOTIVO DE LA MODIFICACION")]),e("textarea",{staticClass:"form-control",attrs:{id:"textoOTRO",rows:"3"}})])}];function nm(t){if(!t.includes("-"))return!1;t=t.split("-");var o=t[0],e=t[1],n=(new Date).getFullYear();return!isNaN(o)&&!o.includes("e")&&4==o.length&&!(e>n||isNaN(e)||e.length<4)}function am(t,o,e,n){var a=["El pago no se realizo","Hubo intencion de pagar","Pagado"];Object(O["e"])(Object(O["a"])(Eh,"Counter_N_RPsD")).then((function(n){var a=n.docs[0].data(),i=a.counter;i=i<10?"000"+i.toString():i<100?"00"+i.toString():i<1e3?"0"+i.toString():i.toString();var r=a.year;Zp=i+"-"+r.toString(),console.log("RPSD: "+Zp),1==e?"I"==t?Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Inscripcion_Prenda",o),{estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}).then((function(){console.log("ACTUALIZADO")})):"M"==t?Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Modificacion_Prenda",o),{estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}):"A"==t&&Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Alzamiento_Prenda",o),{estadoSecundario:e,numeroRepertorioContratoPrenda:i+"-"+r.toString()}):"I"==t?Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Inscripcion_Prenda",o),{estadoSecundario:e}).then((function(){console.log("ACTUALIZADO")})):"M"==t?Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Modificacion_Prenda",o),{estadoSecundario:e}):"A"==t&&Object(O["i"])(Object(O["c"])(Eh,"Solicitud_Alzamiento_Prenda",o),{estadoSecundario:e}),Object(O["i"])(Object(O["c"])(Eh,"Counter_N_RPsD","0"),{counter:a.counter+1})})),Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Inscripcion_Prenda")).then((function(i){var r="";console.log("INSCRIPCION TEST");var c=i.docs;c.forEach((function(i){console.log(i.id),i.id.toString()==o.toString()&&(console.log("MISMO ID"),r=i.data().estadoPrimario);var c=new Date;Object(O["e"])(Object(O["a"])(Eh,"Bitacora")).then((function(i){var s=i.docs.length,l="",u="",d="";"I"==t?l=o:"M"==t?u=o:"A"==t&&(d=o),Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Bitacora"),s.toString()),{idInscripcion:l,idModificacion:u,idAlzamiento:d,idUser:n,comment:a[e],fechaCambio:c.getFullYear()+"-"+(c.getMonth()+1)+"-"+c.getDate(),estadoPrimario:r})}))}))}))}function im(t,o,e,n){var a=null,i="",r="",c="";0==n?i=e:1==n?r=e:2==n&&(c=e),Object(O["e"])(Object(O["a"])(Eh,"Document_RPsD")).then((function(t){var o=t.docs.length,e=t.docs[o-1];a=e.data().numero_repertorio_RPsD})).then((function(){Object(O["e"])(Object(O["a"])(Eh,"Document_RPsD")).then(function(){var e=Object(L["a"])(regeneratorRuntime.mark((function e(n){var s,l,u,d,p,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:s=n.docs.length,console.log("Entro"),l=0;case 3:if(!(l<t.length)){e.next=15;break}return u=Object(bo["c"])(Ih,t[l].name),e.next=7,Object(bo["d"])(u,t[l]);case 7:return e.next=9,Object(bo["a"])(u);case 9:d=e.sent,Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Document_RPsD"),s.toString()),{id_alzamiento:i,id_modificacion:r,idInscripcion:c,"año_repertorio_del_contrato":(new Date).getFullYear(),numero_repertorio_RPsD:a+1,url:d,contrato:!0}),s+=1;case 12:l++,e.next=3;break;case 15:l=0;case 16:if(!(l<o.length)){e.next=28;break}return p=Object(bo["c"])(Ih,o[l].name),e.next=20,Object(bo["d"])(p,o[l]);case 20:return e.next=22,Object(bo["a"])(p);case 22:m=e.sent,Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Document_RPsD"),s.toString()),{idInscripcion:i,id_alzamiento:c,id_modificacion:r,"año_repertorio_del_contrato":(new Date).getFullYear(),numero_repertorio_RPsD:a+1,url:m,contrato:!1}),s+=1;case 25:l++,e.next=16;break;case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})).then((function(){console.log("EVERYTHING ITS SEND SUCCESFULLY"),alert("Todo se ha mandado correctamente")}))}var rm=[],cm=[],sm=[],lm=[],um=[],dm=[];function pm(t,o){console.log("ENTREEEEEEEE"),"I"==o?Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Inscripcion_Prenda")).then((function(o){var e=o.docs;e.forEach((function(o){t==o.id&&(Wp=o.data(),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Document_RPsD"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();o.contrato?lm.push(o):um.push(o)}))})).then((function(){console.log("ARCHIVOS"),console.log(lm),console.log(um)})),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Persona_Solicitud"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();0==o.tipoContratante?rm.push(o):1==o.tipoContratante?cm.push(o):2==o.tipoContratante&&sm.push(o)}))})).then((function(){console.log("PERSONAS"),console.log(rm),console.log(cm),console.log(sm)})),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Patente_por_Inscripcion"),Object(O["j"])("idInscripcion","==",parseInt(t)))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();dm.push(o)}))})).then((function(){console.log("PATENTES"),console.log(dm),dm.forEach((function(t){console.log(t.patente),console.log(t.inscripcionPrendaRVM),console.log(t.inscripcionProhibicionGravarEnajenar),console.log(t.alzamiento)}))})))}))})).then((function(){console.log("INSCRIPCION"),console.log(dm)})):"M"==o?Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Modificacion_Prenda")).then((function(o){var e=o.docs;e.forEach((function(o){t==o.id&&(Wp=o.data(),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Document_RPsD"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();o.contrato?lm.push(o):um.push(o)}))})).then((function(){console.log("ARCHIVOS"),console.log(lm),console.log(um)})))}))})).then((function(){console.log("MODIFICACION"),console.log(Wp)})):"A"==o&&Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Alzamiento_Prenda")).then((function(o){var e=o.docs;e.forEach((function(o){t==o.id&&(Wp=o.data(),Object(O["e"])(Object(O["g"])(Object(O["a"])(Eh,"Document_RPsD"),Object(O["j"])("idInscripcion","==",t))).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();o.contrato?lm.push(o):um.push(o)}))})).then((function(){console.log("ARCHIVOS"),console.log(lm),console.log(um)})))}))})).then((function(){console.log("ALZAMIENTO"),console.log(Wp)}))}function mm(t,o,e,n,a){var i=this,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",c=arguments.length>6?arguments[6]:void 0,s=arguments.length>7?arguments[7]:void 0,l=arguments.length>8?arguments[8]:void 0,u=arguments.length>9?arguments[9]:void 0,d=arguments.length>10?arguments[10]:void 0,p=arguments.length>11&&void 0!==arguments[11]?arguments[11]:"",m=arguments.length>12&&void 0!==arguments[12]?arguments[12]:"",h=arguments.length>13?arguments[13]:void 0,g=arguments.length>14&&void 0!==arguments[14]?arguments[14]:[],f=arguments.length>15&&void 0!==arguments[15]?arguments[15]:[],v=arguments.length>16?arguments[16]:void 0,b=arguments.length>17?arguments[17]:void 0,_=arguments.length>18?arguments[18]:void 0,j=arguments.length>19?arguments[19]:void 0,S=arguments.length>20?arguments[20]:void 0,E=arguments.length>21&&void 0!==arguments[21]?arguments[21]:"",I=arguments.length>22&&void 0!==arguments[22]?arguments[22]:"",R=arguments.length>23?arguments[23]:void 0,C=!0;if(console.log(c),9==c.length||nm(c)||(C=!1,console.log("NUMERO REPERTORIO NOTARIO FORMATO INCORRECTO"),alert("Numero repertorio notario formato incorrecto")),C){var A=null;Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Modificacion_Prenda")).then((function(t){A=t.docs.length,console.log(A),console.log("submit")})).then((function(){Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Solicitud_Modificacion_Prenda"),localStorage.id_revisar.toString()),{privacidadDocumento:t,fechaSuscripcion:o,fechaOtorgamientoEscritura:e,fechaProtocolizacionContratoPrivado:n,fechaAutorizacionContratoPrivado:a,numeroRepertorioNotario:c,parrafo_modificacion_generica:s,tipo_de_persona:l,nombre_acreedor:u,rut_acreedor:d,nombreRequiriente:p,runRequiriente:m,estadoPrimario:h,estadoSecundario:0,activoFijo:v,bienesAgropecuarios:b,derechosIntangibles:_,prendaVehiculo:j,nombre_notaria:r,prohibicionGravarEnajenar:S,correoRequiriente:E,fechaRequirente:I,revisorAsignado:-1,firma:!1,tipoModificacion:4,usuarioCreador:localStorage.mail}).then((function(){console.log("PAGANDO EN CAJA"),R?(am("M",A.toString(),1,localStorage.mail),"FUNCIONARIOOFICINA"==localStorage.rol&&setTimeout((function(){var t="http://ec2-75-101-231-83.compute-1.amazonaws.com:4033/api/checkout/pay",o='{"id_persona":"'+localStorage.rutLog+'", "numero_repertorio":"'+Zp+'", "monto":'+parseInt(hm[2]["precio"])+"}";fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:o}).then((function(t){t.json().then((function(t){alert(t.msg),console.log("PAGADO"),am("M",A.toString(),2,localStorage.mail),i.redirect()}))}))}),1500),alert("Solicitud Enviada Exitosamente")):alert("Solicitud Guardada Exitosamente")})),console.log("entros"),1==h&&(im(g,f,A,1),console.log("enviado"))}))}}var hm=[];function gm(){Object(O["e"])(Object(O["a"])(Eh,"Precios")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();hm.push(o)})),console.log(hm)}))}var fm,vm={mounted:function(){console.log("STARTER DATA"),console.log(localStorage.id_revisar),console.log(localStorage.tipo_revisar),pm(localStorage.id_revisar,localStorage.tipo_revisar),gm(),setTimeout((function(){console.log(Wp),console.log(rm),console.log(cm),console.log(sm),console.log(lm),console.log(um),console.log(dm);var t=document.getElementById("monto");t.innerHTML="$"+hm[2]["precio"],t.innerHTML="$"+parseInt(hm[2]["precio"]);var o=document.getElementById("monto2");o.innerHTML="$"+parseInt(hm[2]["precio"]);var e=document.getElementById("monto3");e.innerHTML="$0"}),1500)},name:"formularioModificacion",data:function(){return{opcion:localStorage.my_opts.split(","),username:localStorage.user,tipoDoc:"",FOtorgamiento:"",FSuscripcion:"",FAutorizacion:"",FProtocolizacion:"",RepNotaria:"",anioRepNotaria:"",ProhibGravEnajenar:!1,tipoPersona:"Natural",run:"",id:"",pais:"",rut:"",razonsocial:"",Apaterno:"",Amaterno:"",nombres:"",nombreRequirente:"",nDocRequirente:"",correoRequirente:"",fechaRequirente:this.currentDateTime(),Bienes:[],constituyentes:[{}],deudores:[{}],vehiculos:[{}],contrato:null,anexos:null}},props:{rol:{type:String,default:localStorage.rol}},components:{AntecedentesFormularioALZA:za,ContratoFormulario:Un,RequirenteFormulario:ea,AnexosFormulario:Jn,Monto:sa,Menu:B,Navbar:ut,Bitacora:Ja},methods:{getNotaria:function(t){this.notaria=t},gettipoDoc:function(t){this.tipoDoc=t},getFOtorgamiento:function(t){this.FOtorgamiento=t},getFSuscripcion:function(t){this.FSuscripcion=t},getFAutorizacion:function(t){this.FAutorizacion=t},getFProtocolizacion:function(t){this.FProtocolizacion=t},getRepNotaria:function(t){this.RepNotaria=t},getanioRepNotaria:function(t){this.anioRepNotaria=t},getProhibGravEnajenar:function(t){this.ProhibGravEnajenar=t},gettipoPersona:function(t){this.tipoPersona=t},getrun:function(t){this.run=t},getid:function(t){this.id=t},getpais:function(t){this.pais=t},getrut:function(t){this.rut=t},getrazonsocial:function(t){this.razonsocial=t},getApaterno:function(t){this.Apaterno=t},getAmaterno:function(t){this.Amaterno=t},getnombreRequirente:function(t){this.nombreRequirente=t},getrutRequirente:function(t){this.nDocRequirente=t},getCorreoRequirente:function(t){this.correoRequirente=t},currentDateTime:function(){var t=new Date,o=t.getDate()+"-"+(t.getMonth()+1)+"-"+t.getFullYear();return o},getFechaRequirente:function(t){this.fechaRequirente=t},getnombres:function(t){this.nombres=t},getBienes:function(t){this.Bienes=t},getConstituyentes:function(t){this.constituyentes=t,console.log("Constituyentes:"+this.constituyentes)},getDeudores:function(t){this.deudores=t,console.log("Deudores:"+this.deudores)},getVehiculos:function(t){this.vehiculos=t},getContrato:function(t){this.contrato=t,console.log("Contrato:"+this.contrato)},getAnexos:function(t){this.anexos=t,console.log("Anexos:"+this.anexos)},downloadWithCSS:function(){var t=new _["a"],o=document.createElement("canvas");S()(this.$refs.content,{scale:1},{canvas:o}).then((function(o){var e=o.toDataURL("image/jpeg",1);t.addImage(e,"JPEG",20,20,120,120),t.save("ModificacionPrenda.pdf")}))},modificar:function(t){var o=0;t&&(o="FUNCIONARIONOTARIA"==localStorage.rol?1:3);var e=document.getElementById("textoOTRO").value;mm(this.tipoDoc.toString(),this.FSuscripcion.toString(),this.FOtorgamiento.toString(),this.FProtocolizacion.toString(),this.FAutorizacion.toString(),this.notaria,(this.RepNotaria+"-"+this.anioRepNotaria).toString(),e,this.tipoPersona,this.nombres,this.run,this.nombreRequirente,this.nDocRequirente,o,this.contrato,this.anexos,this.Bienes[0],this.Bienes[1],this.Bienes[2],this.Bienes[3],this.ProhibGravEnajenar,this.correoRequirente,this.fechaRequirente,t),this.downloadWithCSS()}}},bm=vm,Om=(e("ceca"),Object(p["a"])(bm,om,em,!1,null,"117fc111",null)),_m=Om.exports,jm=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"dashboard"}},[e("Menu",{attrs:{opciones:t.opcion}}),e("Navbar",{attrs:{username:t.username}}),e("div",{staticStyle:{padding:"50px","margin-left":"300px"}},[e("table",{staticClass:"table table-sm table-hover zui-table-rounded"},[t._m(0),t._l(t.items,(function(o,n){return e("tbody",{key:n,staticClass:"bodyTabla"},[e("tr",[e("th",{attrs:{scope:"row"}},[t._v(t._s(n+1))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.name))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.price))]),e("td",[e("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"Basic example"}},[e("button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-2",modifiers:{"modal-2":!0}}],staticClass:"btn btn-secondary",staticStyle:{"background-color":"green"},attrs:{type:"button"},on:{click:function(e){return t.setIdtoUpdate(o.ID,o.price,o.name)}}},[t._v("Editar")])])])])])}))],2),e("b-modal",{attrs:{id:"modal-2","hide-footer":""}},[e("div",{staticClass:"d-flex justify-content-center titleModal"},[t._v("Modificar Precio ")]),e("div",{staticClass:"titles d-flex justify-content-start"},[e("h6",{attrs:{id:"titlePrecio"}})]),e("div",{staticClass:"row"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col row"},[e("div",{staticClass:"titles d-flex justify-content-start"},[t._v("\n                        Precio\n                    ")]),e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{attrs:{id:"precio",type:"number"}})])]),e("div",{staticClass:"d-flex justify-content-center SpaceItems"})])]),e("button",{attrs:{id:"ADDNOTARIA"},on:{click:function(o){return t.update()}}},[t._v("Modificar Precio")])])],1)],1)},Sm=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("thead",{staticStyle:{color:"white","background-color":"#514BD5"}},[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("#")]),e("th",{attrs:{scope:"col"}},[t._v("Nombre")]),e("th",{attrs:{scope:"col"}},[t._v("Precio")]),e("th",{attrs:{scope:"col"}})])])}],Em=[];function Im(){Object(O["e"])(Object(O["a"])(Eh,"Precios")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();Em.push([t.id,o])})),console.log(Em)}))}var Rm={mounted:function(){this.rellenarTabla()},data:function(){return{opcion:localStorage.my_opts.split(","),items:[]}},name:"Dashboard",components:{Menu:B,Navbar:ut},methods:{rellenarTabla:function(){var t=this;this.items=[],Em=[],Im(),setTimeout((function(){Em.forEach((function(o){var e={name:o[1]["nombre"],price:o[1]["precio"],ID:o[0]};t.items.push(e)}))}),1e3)},setIdtoUpdate:function(t,o,e){fm=t,setTimeout((function(){document.getElementById("titlePrecio").innerHTML=e,document.getElementById("precio").value=o}),300)},update:function(){var t=this,o=document.getElementById("precio").value,e=document.getElementById("titlePrecio").innerHTML;Object(O["h"])(Object(O["c"])(Object(O["a"])(Eh,"Precios"),fm),{nombre:e,precio:o}),setTimeout((function(){t.rellenarTabla()}),1500)}}},Cm=Rm,Am=(e("c80d"),Object(p["a"])(Cm,jm,Sm,!1,null,"281fc528",null)),Pm=Am.exports,Nm=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"dashboard"}},[e("Menu",{attrs:{opciones:t.opcion}}),e("Navbar",{attrs:{username:t.username}}),e("div",{staticStyle:{padding:"50px","margin-left":"300px"}},[e("table",{staticClass:"table table-sm table-hover zui-table-rounded"},[e("thead",{staticStyle:{color:"black"}},[e("tr",[t._m(0),t._m(1),e("th",{attrs:{scope:"col"}},[e("div",{staticClass:"d-flex justify-content-center"},[e("button",{staticClass:"d-flex justify-content-center button",on:{click:function(o){return t.busqueda()}}},[t._v("Buscar")])])])])])]),e("table",{staticClass:"table table-sm table-hover zui-table-rounded"},[t._m(2),t._l(t.items,(function(o,n){return e("tbody",{key:n,staticClass:"bodyTabla"},[e("tr",[e("th",{attrs:{scope:"row"}},[t._v(t._s(o.nombre))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.precio))])])])}))],2),t._m(3)])],1)},Dm=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("th",{attrs:{scope:"col"}},[t._v("\n                        Mes\n                        "),e("div",{staticClass:"d-flex justify-content-center"},[e("div",{staticClass:"tamanoTipoDocumento"},[e("select",{staticClass:"form-select",attrs:{id:"mespago"}},[e("option",{attrs:{selected:"",value:"01"}},[t._v("Enero")]),e("option",{attrs:{value:"02"}},[t._v("Febrero")]),e("option",{attrs:{value:"03"}},[t._v("Marzo")]),e("option",{attrs:{value:"04"}},[t._v("Abril")]),e("option",{attrs:{value:"05"}},[t._v("Mayo")]),e("option",{attrs:{value:"06"}},[t._v("Junio")]),e("option",{attrs:{value:"07"}},[t._v("Julio")]),e("option",{attrs:{value:"08"}},[t._v("Agosto")]),e("option",{attrs:{value:"09"}},[t._v("Septiembre")]),e("option",{attrs:{value:"10"}},[t._v("Octubre")]),e("option",{attrs:{value:"11"}},[t._v("Noviembre")]),e("option",{attrs:{value:"12"}},[t._v("Diciembre")])])])])])},function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("th",{attrs:{scope:"col"}},[t._v("\n                        Año\n                        "),e("div",{staticClass:"d-flex justify-content-center"},[e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{attrs:{type:"number",id:"yearpago",placeholder:"2021"}})])])])},function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("thead",{staticStyle:{color:"white","background-color":"#514BD5"}},[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("Nombre")]),e("th",{attrs:{scope:"col"}},[t._v("Precio")])])])},function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("h4",{attrs:{id:"totalres"}},[e("b",[t._v("TOTAL: $0")])])}],ym=[];function Tm(){Object(O["e"])(Object(O["a"])(Eh,"Precios")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();ym.push(o)})),console.log(ym)}))}var Fm=0,Mm=0,xm=0,zm=0;function wm(t,o){var e=[],n=[],a=[];Object(O["e"])(Object(O["a"])(Eh,"Bitacora")).then((function(i){var r=i.docs;r.forEach((function(i){var r=i.data(),c=r.fechaCambio.split("-")[0],s=r.fechaCambio.split("-")[1];"Pagado"==r.comment&&c==o&&s==t&&(""!=r.idInscripcion&&e.push(r.idInscripcion),""!=r.idModificacion&&n.push(r.idModificacion),""!=r.idAlzamiento&&a.push(r.idAlzamiento))}))})).then((function(){console.log(a),Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Inscripcion_Prenda")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();e.includes(t.id)&&(null!=o.montoActuacion?(Fm+=o.montoActuacion,zm+=o.montoTotal-o.montoActuacion):(Fm+=ym[0]["precio"],zm+=o.montoTotal-ym[0]["precio"]))}))})),Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Modificacion_Prenda")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();n.includes(t.id)&&(null!=o.montoActuacion?Mm+=o.montoTotal:Mm+=ym[2]["precio"])}))})),Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Alzamiento_Prenda")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();a.includes(t.id)&&(null!=o.montoActuacion?xm+=o.montoTotal:xm+=ym[1]["precio"])}))}))}))}var Bm={mounted:function(){Tm()},data:function(){return{opcion:localStorage.my_opts.split(","),username:localStorage.user,items:[]}},name:"Dashboard",components:{Menu:B,Navbar:ut},methods:{busqueda:function(){var t=this;this.items=[],document.getElementById("totalres").innerHTML="<b>TOTAL: $0</b>";var o=document.getElementById("mespago").value,e=document.getElementById("yearpago").value;wm(o,e),setTimeout((function(){console.log(xm);var o={nombre:"Inscripciones",precio:Fm},e={nombre:"Modificaciones",precio:Mm},n={nombre:"Alzamientos",precio:xm},a={nombre:"Anotaciones",precio:zm};t.items.push(o),t.items.push(e),t.items.push(n),t.items.push(a),document.getElementById("totalres").innerHTML="<b>TOTAL: $"+(Fm+xm+Mm+zm)+"</b>"}),1500)}}},km=Bm,qm=(e("8280"),Object(p["a"])(km,Nm,Dm,!1,null,"2a864064",null)),Lm=qm.exports,Um=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"dashboard"}},[e("Menu",{attrs:{opciones:t.opcion}}),e("Navbar",{attrs:{username:t.username}}),e("div",{staticStyle:{padding:"50px","margin-left":"300px"}},[e("table",{staticClass:"table table-sm table-hover zui-table-rounded"},[e("thead",{staticStyle:{color:"black"}},[e("tr",[t._m(0),t._m(1),e("th",{attrs:{scope:"col"}},[e("div",{staticClass:"d-flex justify-content-center"},[e("button",{staticClass:"d-flex justify-content-center button",on:{click:function(o){return t.busqueda()}}},[t._v("Buscar")])])])])])]),e("table",{staticClass:"table table-sm table-hover zui-table-rounded"},[t._m(2),t._l(t.items,(function(o,n){return e("tbody",{key:n,staticClass:"bodyTabla"},[e("tr",[e("th",{attrs:{scope:"row"}},[t._v(t._s(o.prenda))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.fecha))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.motivo))])])])}))],2)])],1)},Gm=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("th",{attrs:{scope:"col"}},[t._v("\n                        Mes\n                        "),e("div",{staticClass:"d-flex justify-content-center"},[e("div",{staticClass:"tamanoTipoDocumento"},[e("select",{staticClass:"form-select",attrs:{id:"mespago"}},[e("option",{attrs:{selected:"",value:"01"}},[t._v("Enero")]),e("option",{attrs:{value:"02"}},[t._v("Febrero")]),e("option",{attrs:{value:"03"}},[t._v("Marzo")]),e("option",{attrs:{value:"04"}},[t._v("Abril")]),e("option",{attrs:{value:"05"}},[t._v("Mayo")]),e("option",{attrs:{value:"06"}},[t._v("Junio")]),e("option",{attrs:{value:"07"}},[t._v("Julio")]),e("option",{attrs:{value:"08"}},[t._v("Agosto")]),e("option",{attrs:{value:"09"}},[t._v("Septiembre")]),e("option",{attrs:{value:"10"}},[t._v("Octubre")]),e("option",{attrs:{value:"11"}},[t._v("Noviembre")]),e("option",{attrs:{value:"12"}},[t._v("Diciembre")])])])])])},function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("th",{attrs:{scope:"col"}},[t._v("\n                        Año\n                        "),e("div",{staticClass:"d-flex justify-content-center"},[e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{attrs:{type:"number",id:"yearpago",placeholder:"2021"}})])])])},function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("thead",{staticStyle:{color:"white","background-color":"#514BD5"}},[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("N Repertorio de Prenda")]),e("th",{attrs:{scope:"col"}},[t._v("Fecha de Rechazo")]),e("th",{attrs:{scope:"col"}},[t._v("Motivo")])])])}],$m=[];function Vm(t,o){Object(O["e"])(Object(O["a"])(Eh,"Inspeccion_inscripcion")).then((function(e){var n=e.docs;n.forEach((function(e){var n=e.data(),a=n.fechaRevision.split("-")[0],i=n.fechaRevision.split("-")[1];a==o&&i==t&&Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Inscripcion_Prenda")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();n.solicitudId==t.id&&$m.push([o.numeroRepertorioContratoPrenda,n.fechaRevision,n.comment])}))}))}))})),Object(O["e"])(Object(O["a"])(Eh,"Inspeccion_modificacion")).then((function(e){var n=e.docs;n.forEach((function(e){var n=e.data(),a=n.fechaRevision.split("-")[0],i=n.fechaRevision.split("-")[1];a==o&&i==t&&Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Modificacion_Prenda")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();n.solicitudId==t.id&&$m.push([o.numeroRepertorioContratoPrenda,n.fechaRevision,n.comment])}))}))}))})),Object(O["e"])(Object(O["a"])(Eh,"Inspeccion_alzamiento")).then((function(e){var n=e.docs;n.forEach((function(e){var n=e.data(),a=n.fechaRevision.split("-")[0],i=n.fechaRevision.split("-")[1];a==o&&i==t&&Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Alzamiento_Prenda")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();n.solicitudId==t.id&&$m.push([o.numeroRepertorioContratoPrenda,n.fechaRevision,n.comment])}))}))}))}))}var Hm={data:function(){return{opcion:localStorage.my_opts.split(","),username:localStorage.user,items:[]}},name:"Dashboard",components:{Menu:B,Navbar:ut},methods:{busqueda:function(){var t=this;this.items=[];var o=document.getElementById("mespago").value,e=document.getElementById("yearpago").value;console.log("xd"),Vm(o,e),setTimeout((function(){console.log($m),$m.forEach((function(o){console.log("R: "+o);var e={prenda:o[0],fecha:o[1],motivo:o[2]};t.items.push(e)}))}),1500)}}},Ym=Hm,Jm=(e("8b80"),Object(p["a"])(Ym,Um,Gm,!1,null,"0bf8285e",null)),Zm=Jm.exports,Wm=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"dashboard"}},[e("Menu",{attrs:{opciones:t.opcion}}),e("Navbar",{attrs:{username:t.username}}),e("div",{staticStyle:{padding:"50px","margin-left":"300px"}},[e("table",{staticClass:"table table-sm table-hover zui-table-rounded"},[e("thead",{staticStyle:{color:"black"}},[e("tr",[t._m(0),t._m(1),e("th",{attrs:{scope:"col"}},[e("div",{staticClass:"d-flex justify-content-center"},[e("button",{staticClass:"d-flex justify-content-center button",on:{click:function(o){return t.busqueda()}}},[t._v("Buscar")])])])])])]),e("table",{staticClass:"table table-sm table-hover zui-table-rounded"},[t._m(2),t._l(t.items,(function(o,n){return e("tbody",{key:n,staticClass:"bodyTabla"},[e("tr",[e("th",{attrs:{scope:"row"}},[t._v(t._s(o.prenda))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.monto_act))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.monto_anot))]),e("th",{attrs:{scope:"row"}},[t._v(t._s(o.monto_tot))])])])}))],2)])],1)},Xm=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("th",{attrs:{scope:"col"}},[t._v("\n                        Mes\n                        "),e("div",{staticClass:"d-flex justify-content-center"},[e("div",{staticClass:"tamanoTipoDocumento"},[e("select",{staticClass:"form-select",attrs:{id:"mespago"}},[e("option",{attrs:{selected:"",value:"01"}},[t._v("Enero")]),e("option",{attrs:{value:"02"}},[t._v("Febrero")]),e("option",{attrs:{value:"03"}},[t._v("Marzo")]),e("option",{attrs:{value:"04"}},[t._v("Abril")]),e("option",{attrs:{value:"05"}},[t._v("Mayo")]),e("option",{attrs:{value:"06"}},[t._v("Junio")]),e("option",{attrs:{value:"07"}},[t._v("Julio")]),e("option",{attrs:{value:"08"}},[t._v("Agosto")]),e("option",{attrs:{value:"09"}},[t._v("Septiembre")]),e("option",{attrs:{value:"10"}},[t._v("Octubre")]),e("option",{attrs:{value:"11"}},[t._v("Noviembre")]),e("option",{attrs:{value:"12"}},[t._v("Diciembre")])])])])])},function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("th",{attrs:{scope:"col"}},[t._v("\n                        Año\n                        "),e("div",{staticClass:"d-flex justify-content-center"},[e("div",{staticClass:"tamanoTipoDocumento"},[e("input",{attrs:{type:"number",id:"yearpago",placeholder:"2021"}})])])])},function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("thead",{staticStyle:{color:"white","background-color":"#514BD5"}},[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("N Repertorio de Prenda")]),e("th",{attrs:{scope:"col"}},[t._v("Monto Actuacion")]),e("th",{attrs:{scope:"col"}},[t._v("Monto Anotacion")]),e("th",{attrs:{scope:"col"}},[t._v("Monto Total")])])])}],Km=[];function Qm(){Object(O["e"])(Object(O["a"])(Eh,"Precios")).then((function(t){var o=t.docs;o.forEach((function(t){var o=t.data();Km.push(o)})),console.log(Km)}))}var th=[],oh=[],eh=[];function nh(t,o){Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Inscripcion_Prenda")).then((function(e){var n=e.docs;n.forEach((function(e){var n=e.data(),a=n.fechaRequirente.split("-")[2],i=n.fechaRequirente.split("-")[1];n.estadoSecundario>0&&a==o&&i==t&&th.push(n)}))})),Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Modificacion_Prenda")).then((function(e){var n=e.docs;n.forEach((function(e){var n=e.data(),a=n.fechaRequirente.split("-")[2],i=n.fechaRequirente.split("-")[1];n.estadoSecundario>0&&a==o&&i==t&&oh.push(n)}))})),Object(O["e"])(Object(O["a"])(Eh,"Solicitud_Alzamiento_Prenda")).then((function(e){var n=e.docs;n.forEach((function(e){var n=e.data(),a=n.fechaRequirente.split("-")[2],i=n.fechaRequirente.split("-")[1];n.estadoSecundario>0&&a==o&&i==t&&eh.push(n)}))}))}var ah={mounted:function(){Qm()},data:function(){return{opcion:localStorage.my_opts.split(","),username:localStorage.user,items:[]}},name:"Dashboard",components:{Menu:B,Navbar:ut},methods:{busqueda:function(){var t=this;this.items=[];var o=document.getElementById("mespago").value,e=document.getElementById("yearpago").value;nh(o,e),setTimeout((function(){th.forEach((function(o){var e=0,n=0,a=0;null!=o["montoActuacion"]?(e=o["montoTotal"],n=o["montoActuacion"]):(e=Km[0]["precio"],n=Km[0]["precio"]),a=e-n;var i={prenda:o["numeroRepertorioContratoPrenda"],monto_act:n,monto_anot:a,monto_tot:e};t.items.push(i)})),oh.forEach((function(o){var e=0,n=0,a=0;null!=o["montoActuacion"]?(e=o["montoTotal"],n=o["montoActuacion"]):(e=Km[2]["precio"],n=Km[2]["precio"]),a=e-n;var i={prenda:o["numeroRepertorioContratoPrenda"],monto_act:e,monto_anot:a,monto_sol:n};t.items.push(i)})),eh.forEach((function(o){var e=0,n=0,a=0;null!=o["montoActuacion"]?(e=o["montoTotal"],n=o["montoActuacion"]):(e=Km[1]["precio"],n=Km[1]["precio"]),a=e-n;var i={prenda:o["numeroRepertorioContratoPrenda"],monto_act:e,monto_anot:a,monto_sol:n};t.items.push(i)}))}),1500)}}},ih=ah,rh=(e("7a05"),Object(p["a"])(ih,Wm,Xm,!1,null,"c3526eb0",null)),ch=rh.exports,sh=[{path:"/",name:"Login",component:D},{path:"/Dashboard/:rol/:username",name:"Dashboard",component:pe,props:!0},{path:"/Dashboard/:rol/:username/Usuarios",name:"usuariosAdmin",component:Re,props:!0},{path:"/Dashboard/:rol/:username/Notarias",name:"notariasAdmin",component:ke,props:!0},{path:"/Dashboard/:rol/:username/Oficinas",name:"oficinasAdmin",component:Xe,props:!0},{path:"/Dashboard/:rol/:username/Inscripciondecontratodeprendas",name:"Inscripciondecontratodeprendas",component:ba,props:!0},{path:"/Dashboard/:rol/:username/Alzamientodecontratodeprendas",name:"Alzamientodecontratodeprendas",component:Ca,props:!0},{path:"/Dashboard/:rol/:username/solicitudAlzamiento",name:"solicitudAlzamiento",component:mi,props:!0},{path:"/Dashboard/:rol/:username/FormularioModificacionALZPARCIAL",name:"FormularioModificacionALZPARCIAL",component:qi,props:!0},{path:"/Dashboard/:rol/:username/FormularioModificacionCAMBIOACREEDOR",name:"FormularioModificacionCAMBIOACREEDOR",component:rr,props:!0},{path:"/Dashboard/:rol/:username/FormularioModificacionOTRO",name:"FormularioModificacionOTRO",component:Or,props:!0},{path:"/Dashboard/:rol/:username/FormularioModificacionPROHIBACTO",name:"FormularioModificacionPROHIBACTO",component:yr,props:!0},{path:"/Dashboard/:rol/:username/Modificaciondecontratodeprendas",name:"Modificaciondecontratodeprendas",component:kr,props:!0},{path:"/Dashboard/:rol/:username/Buscador",name:"Buscador",component:Ds,props:!0},{path:"/Dashboard/REVISOR/:username/ComprobanteSolicutud",name:"ComprobanteSolicutud",component:jc,props:!0},{path:"/Dashboard/:rol/:username/Busqueda",name:"Buscador",component:Ds,props:!0},{path:"/Dashboard/:rol/:username/RecepcionSolicitudes",name:"BuscadorDocsReceptor",component:Us,props:!0},{path:"/Dashboard/:rol/:username/Tareas",name:"Tareas",component:pe,props:!0},{path:"/Dashboard/JEFEDESERVICIO/:username/Informes",name:"InformeSolicitudes",component:pe,props:!0},{path:"/Dashboard/:rol/:username/MisSolicitudes",name:"MisSolicitudes",component:pe,props:!0},{path:"/Dashboard/:rol/:username/RevisionDoc",name:"RevisionDocumentoNotario",component:jl,props:!0},{path:"/Dashboard/:rol/:username/RevisionDocumentosJefeRevisor",name:"RevisionDocumentosJefeRevisor",component:Au,props:!0},{path:"/Dashboard/:rol/:username/RevisionDocumentosRevisor",name:"RevisionDocumentosRevisor",component:Xl,props:!0},{path:"/Dashboard/PAGADOR/:username/PagosPendientes",name:"PagosPendientes",component:pe,props:!0},{path:"/Dashboard/PAGADOR/:username/ResumendePagos",name:"ResumendePagos",component:pe,props:!0},{path:"/Dashboard/RECEPTOR/:username/RecepcionSolicitudes",name:"ResumendePagos",component:pe,props:!0},{path:"/Dashboard/:rol/:username/InscripciondecontratodeprendasEdit",name:"InscripciondecontratodeprendasEdit",component:ed,props:!0},{path:"/Dashboard/:rol/:username/solicitudAlzamientoEdit",name:"solicitudAlzamiento",component:yd,props:!0},{path:"/Dashboard/:rol/:username/solicitudModificacion1Edit",name:"solicitudModificacion1",component:ip,props:!0},{path:"/Dashboard/:rol/:username/solicitudModificacion2Edit",name:"solicitudModificacion2",component:Fp,props:!0},{path:"/Dashboard/:rol/:username/solicitudModificacion3Edit",name:"solicitudModificacion3",component:tm,props:!0},{path:"/Dashboard/:rol/:username/solicitudModificacion4Edit",name:"solicitudModificacion4",component:_m,props:!0},{path:"/Dashboard/:rol/:username/Parametros",name:"Dashboard",component:Pm,props:!0},{path:"/Dashboard/:rol/:username/ResumendePagos",name:"Dashboard",component:Lm,props:!0},{path:"/Dashboard/:rol/:username/Recaudacion",name:"Dashboard",component:ch,props:!0},{path:"/Dashboard/:rol/:username/Rechazos",name:"Dashboard",component:Zm,props:!0},{path:"*",name:"catchAll",component:D}],lh=new g["a"]({mode:"history",routes:sh});c["default"].use(g["a"]);var uh=lh,dh=e("5f5b"),ph=e("b1e0"),mh=e("ecee"),hh=e("c074"),gh=e("ad3d"),fh=e("bc3a"),vh=e.n(fh),bh=e("130e"),Oh=e("260b");e("f9e3"),e("2dd8");mh["c"].add(hh["a"],hh["b"]),c["default"].component("font-awesome-icon",gh["a"]),c["default"].config.productionTip=!1;var _h={apiKey:"AIzaSyA9gBWMZotZCouSnpNI3nve6lETyp0JWsQ",authDomain:"prendas-98afc.firebaseapp.com",databaseURL:"https://prendas-98afc-default-rtdb.firebaseio.com",projectId:"prendas-98afc",storageBucket:"prendas-98afc.appspot.com",messagingSenderId:"275877377208",appId:"1:275877377208:web:cbf8c0ebc77f8788a0704d",measurementId:"G-C1D2PNB3M3"},jh=Object(Oh["a"])(_h),Sh=Object(b["b"])(jh),Eh=Object(O["f"])(jh),Ih=Object(bo["b"])();new c["default"]({router:uh,render:function(t){return t(h)}}).$mount("#app"),c["default"].config.productionTip=!1,c["default"].use(dh["a"]),c["default"].use(ph["a"]),c["default"].use(bh["a"],vh.a)},5784:function(t,o,e){},"5b12":function(t,o,e){"use strict";e("b62c")},"69d5":function(t,o,e){"use strict";e("d63e")},"6a67":function(t,o,e){},"6b59":function(t,o,e){},"6c31":function(t,o,e){},"6cfc":function(t,o,e){"use strict";e("35f8")},"6e3f":function(t,o,e){"use strict";e("d062")},"6e53":function(t,o,e){},"6f63":function(t,o,e){"use strict";e("d560")},"738b":function(t,o,e){"use strict";e("4ec2")},"755e":function(t,o,e){"use strict";e("4714")},7696:function(t,o,e){},7813:function(t,o,e){"use strict";e("cf757")},"7a05":function(t,o,e){"use strict";e("9bc9")},"7de3":function(t,o,e){},"7e65":function(t,o,e){},8054:function(t,o,e){"use strict";e("bc6b")},8280:function(t,o,e){"use strict";e("cf5c")},8281:function(t,o,e){t.exports=e.p+"img/LogoDelRegistroCivil.05860d1b.png"},"82ba":function(t,o,e){},"8b80":function(t,o,e){"use strict";e("8bb2")},"8bb2":function(t,o,e){},"8fa5":function(t,o,e){"use strict";e("eacb")},9655:function(t,o,e){"use strict";e("82ba")},9709:function(t,o,e){},"996a":function(t,o,e){"use strict";e("ae44")},"9a93":function(t,o,e){"use strict";e("429d")},"9bc9":function(t,o,e){},"9f4d":function(t,o,e){},a05b:function(t,o,e){"use strict";e("fad3")},a278:function(t,o,e){"use strict";e("4bd6")},a3da:function(t,o,e){"use strict";e("1de5")},aadf:function(t,o,e){"use strict";e("0467")},aaff:function(t,o,e){"use strict";e("316a")},add5:function(t,o,e){"use strict";e("6a67")},ae44:function(t,o,e){},af7b:function(t,o,e){},b274:function(t,o,e){},b27b:function(t,o,e){"use strict";e("b274")},b4a6:function(t,o,e){"use strict";e("239b")},b552:function(t,o,e){"use strict";e("d948")},b5e0:function(t,o,e){"use strict";e("c963")},b62c:function(t,o,e){},b721:function(t,o,e){"use strict";e("fbe0")},b79c:function(t,o,e){},b995:function(t,o,e){"use strict";e("3b53")},bc6b:function(t,o,e){},bd60:function(t,o,e){},be1b:function(t,o,e){"use strict";e("be88")},be88:function(t,o,e){},c05f:function(t,o,e){},c32b:function(t,o,e){},c80d:function(t,o,e){"use strict";e("0775")},c963:function(t,o,e){},c9ff:function(t,o,e){},cbc8:function(t,o,e){"use strict";e("c32b")},cd7f:function(t,o,e){"use strict";e("13c9")},ceca:function(t,o,e){"use strict";e("cfb9")},cf5c:function(t,o,e){},cf757:function(t,o,e){},cfb9:function(t,o,e){},d00d:function(t,o,e){},d062:function(t,o,e){},d560:function(t,o,e){},d63e:function(t,o,e){},d67a:function(t,o,e){"use strict";e("7696")},d948:function(t,o,e){},dbd6:function(t,o,e){"use strict";e("52bc")},dcc1:function(t,o,e){},df9f:function(t,o,e){},e0e5:function(t,o,e){"use strict";e("11e1")},e477:function(t,o,e){"use strict";e("4040")},eac0:function(t,o,e){"use strict";e("260f")},eacb:function(t,o,e){},f2df:function(t,o,e){"use strict";e("6e53")},f49b:function(t,o,e){"use strict";e("b79c")},f66e:function(t,o,e){"use strict";e("6c31")},f95a:function(t,o,e){"use strict";e("c9ff")},fad3:function(t,o,e){},fbe0:function(t,o,e){},ff44:function(t,o,e){"use strict";e("3f00")}});
//# sourceMappingURL=app.43bd47bf.js.map